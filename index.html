<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222"><meta name="generator" content="Hexo 6.3.0">

  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.2/css/all.min.css" integrity="sha256-CTSx/A06dm1B063156EVh15m6Y67pAjZZaQc89LLSrU=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"example.com","root":"/","images":"/images","scheme":"Gemini","darkmode":false,"version":"8.18.2","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":{"enable":true,"style":null},"fold":{"enable":false,"height":500},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":false,"async":false,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"},"path":"/search.xml","localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false}}</script><script src="/js/config.js"></script>

    <meta property="og:type" content="website">
<meta property="og:title" content="KNOW-HOW">
<meta property="og:url" content="http://example.com/index.html">
<meta property="og:site_name" content="KNOW-HOW">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="Guo">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="http://example.com/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":true,"isPost":false,"lang":"en","comments":"","permalink":"","path":"index.html","title":""}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>KNOW-HOW</title>
  








  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">KNOW-HOW</h1>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="Search" role="button">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>About</a></li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>Search
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup"><div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off" maxlength="80"
           placeholder="Searching..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close" role="button">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div class="search-result-container no-result">
  <div class="search-result-icon">
    <i class="fa fa-spinner fa-pulse fa-5x"></i>
  </div>
</div>

    </div>
  </div>

</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-overview-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Guo</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">180</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">8</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">208</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author animated">
      <span class="links-of-author-item">
        <a href="https://github.com/raytroop" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;raytroop" rel="noopener me" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:raytroop@gmail.com" title="E-Mail → mailto:raytroop@gmail.com" rel="noopener me" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
  </div>

        </div>
      </div>
    </div>

    
  </aside>


    </div>

    <div class="main-inner index posts-expand">

    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/10/21/CircuitImage/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Guo">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="KNOW-HOW">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | KNOW-HOW">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2023/10/21/CircuitImage/" class="post-title-link" itemprop="url">Circuit Image</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>
      

      <time title="Created: 2023-10-21 11:50:25 / Modified: 15:31:23" itemprop="dateCreated datePublished" datetime="2023-10-21T11:50:25+00:00">2023-10-21</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/analog/" itemprop="url" rel="index"><span itemprop="name">analog</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>Chung-chun Chen (陳重均)</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/10/21/simulation-phasenoise-jitter/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Guo">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="KNOW-HOW">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | KNOW-HOW">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2023/10/21/simulation-phasenoise-jitter/" class="post-title-link" itemprop="url">Simulation Techniques for Phase Noise and Jitter</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>
      

      <time title="Created: 2023-10-21 11:33:58 / Modified: 15:31:23" itemprop="dateCreated datePublished" datetime="2023-10-21T11:33:58+00:00">2023-10-21</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/noise/" itemprop="url" rel="index"><span itemprop="name">noise</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="vco-varactor">VCO varactor</h2>
<blockquote>
<p>Two methods: 1. pss + pac; 2. pss+psp</p>
</blockquote>
<h3 id="pss-pac">PSS + PAC</h3>
<p><img
src="/2023/10/21/simulation-phasenoise-jitter/image-20220510192206354.png"
alt="image-20220510192206354" /></p>
<p>pss time domain</p>
<p><img
src="/2023/10/21/simulation-phasenoise-jitter/image-20220510192351590.png"
alt="image-20220510192351590" /></p>
<p>using the <strong>0-harmonic</strong></p>
<p><img
src="/2023/10/21/simulation-phasenoise-jitter/image-20220510192447040.png"
alt="image-20220510192447040" /></p>
<h3 id="pss-psp">PSS + PSP</h3>
<p><img
src="/2023/10/21/simulation-phasenoise-jitter/image-20220510192753324.png"
alt="image-20220510192753324" /></p>
<p>using <strong>Y11</strong> of <code>psp</code></p>
<p><img
src="/2023/10/21/simulation-phasenoise-jitter/image-20220510192639080.png"
alt="image-20220510192639080" /></p>
<h3 id="results">results</h3>
<p><img
src="/2023/10/21/simulation-phasenoise-jitter/image-20220510193036717.png"
alt="image-20220510193036717" /></p>
<blockquote>
<p>which are same</p>
</blockquote>
<h2 id="vco-phase-noise">VCO Phase Noise</h2>
<h4 id="pnoise---timeaverage">pnoise - timeaverage</h4>
<ol type="1">
<li><p><em>Direct Plot/Pnoise/Phase Noise</em> or</p>
<p><img
src="/2023/10/21/simulation-phasenoise-jitter/image-20220511112856934.png"
alt="image-20220511112856934" /></p></li>
<li><p>manually calculate by definition</p>
<p><img
src="/2023/10/21/simulation-phasenoise-jitter/image-20220511112806122.png"
alt="image-20220511112806122" /></p></li>
<li><p><code>output noise</code> with unit <code>dBc</code></p>
<p><em>Direct Plot/Pnoise/Output Noise Units:dBc/Hz and Noise
convention: SSB</em></p>
<p><img
src="/2023/10/21/simulation-phasenoise-jitter/image-20220511113248984.png"
alt="image-20220511113248984" /></p></li>
</ol>
<blockquote>
<p>The above method 2 and 3 only apply to <code>timeaveage</code> pnoise
simulation,</p>
</blockquote>
<h4 id="pnoise---sampledjitteredge-crossing">pnoise -
sampled(jitter)/Edge Crossing</h4>
<p><img
src="/2023/10/21/simulation-phasenoise-jitter/EdgePhaseNoise.drawio.svg"
alt="EdgePhaseNoise.drawio" /></p>
<p><em>Direct Plot/Pnoise/<strong>Edge</strong> Phase Noise</em> or</p>
<p><img
src="/2023/10/21/simulation-phasenoise-jitter/image-20220515214901120.png"
alt="image-20220515214901120" /></p>
<p>Another way, the following equation can also be used for
<code>sampled(jitter)/Edge Crossing</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">PhaseNoise(dBc/Hz) = dB20( OutputNoise(V/sqrt(Hz)) / slopeCrossing / Tper*twoPi ) - dB10(2)</span><br></pre></td></tr></table></figure>
<p>where <code>dB10(2)</code> is used to obtain SSB from DSB</p>
<p><img
src="/2023/10/21/simulation-phasenoise-jitter/image-20220511150337318.png"
alt="image-20220511150337318" /></p>
<h4 id="output-noise-of-sampledjitter-pnoise">Output Noise of
sampled(jitter) pnoise</h4>
<p>The last section's <code>Output Noise (V**2/Hz)</code> can be
obtained by <em>transient noise simulation</em></p>
<p>The idea is that sample waveform with ideal clock, subtract DC
offset, then fft(psd)</p>
<ul>
<li>samplesRaw = sample(wv)</li>
<li>samplePost = samplesRaw - average(samplesRaw)</li>
<li>Output Noise (V**2/Hz) = psd(samplePost)</li>
</ul>
<p><img
src="/2023/10/21/simulation-phasenoise-jitter/image-20220516184543148.png"
alt="image-20220516184543148" /></p>
<p><img
src="/2023/10/21/simulation-phasenoise-jitter/image-20220516184844296.png"
alt="image-20220516184844296" /></p>
<p><strong>Expression</strong>:</p>
<p><img
src="/2023/10/21/simulation-phasenoise-jitter/image-20220516185506348.png"
alt="image-20220516185506348" /></p>
<blockquote>
<p>The computation cost is typically very high, and the accuracy is
lesser as compared to PSS/Pnoise</p>
</blockquote>
<h2 id="pnoise-sampledjitter-sampled-phase-option">Pnoise
Sampled(jitter): Sampled Phase Option</h2>
<ul>
<li>Identical to <strong>noisetype=timedomain</strong> in old GUI</li>
<li>Use model:
<ul>
<li>Sampleds Per Period: number of ponits</li>
<li>Add Specific Points: specific time point, still time points</li>
</ul></li>
</ul>
<p><img
src="/2023/10/21/simulation-phasenoise-jitter/image-20220712085426461.png"
alt="image-20220712085426461" /></p>
<p><img
src="/2023/10/21/simulation-phasenoise-jitter/image-20220712085836315.png"
alt="image-20220712085836315" /></p>
<p><img
src="/2023/10/21/simulation-phasenoise-jitter/image-20220712090011204.png"
alt="image-20220712090011204" /></p>
<blockquote>
<p>pss beat freq = 5GHz</p>
<p>pnoise sweeptype: absolute, from 100k to 2.5GHz</p>
</blockquote>
<h2 id="transient-noise">Transient noise</h2>
<h3 id="phase-noise-from-transient-noise-analysis">phase noise from
transient noise analysis</h3>
<ol type="1">
<li>The Phase Noise function is now available in the Direct Plot form
(Results-Direct Plot-Main Form) after Transient Analysis is run
<ul>
<li>Absolute jitter Method</li>
<li>Direct Power Spectral Density Method</li>
</ul></li>
<li><code>PN</code> phase noise function
<ul>
<li>Absolute jitter Method</li>
<li>Direct Power Spectral Density Method</li>
</ul></li>
</ol>
<blockquote>
<p><strong>Absolute jitter Method</strong>: Phase noise is defined as
the power spectral density of the absolute jitter of an input
waveform</p>
<p>and <strong>absolute jitter method</strong> is the default method</p>
</blockquote>
<p>In below discussion, we only think about the
<code>absolute jitter method</code></p>
<h3 id="psd-and-phase-noise">PSD and Phase Noise</h3>
<blockquote>
<ul>
<li>phase noise is single-sideband</li>
<li>psd is double-sideband</li>
<li>Then the ratio is <strong>2</strong></li>
</ul>
</blockquote>
<h4 id="by-pss_pnoise">By PSS_Pnoise</h4>
<p><code>jee</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rfEdgePhaseNoise(?result &quot;pnoise_sample_pm0&quot; ?eventList &#x27;nil) + 10 * log10(2)</span><br></pre></td></tr></table></figure>
<blockquote>
<p>convert <strong>single-sideband</strong> phase noise to psd by
multiplying 2 or <code>10 * log10(2)</code></p>
</blockquote>
<h4 id="by-trannoise-pn-function">By trannoise <code>PN</code>
function</h4>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">PN(clip(VT(&quot;/Out1&quot;) 2.60417e-08 0.000400052) &quot;rising&quot; 1.65 ?Tnom (1 / 3.84e+07) ?windowName &quot;Rectangular&quot; ?smooth 1 ?windowSize 15000 ?detrending &quot;None&quot; ?cohGain 1 ?methodType &quot;absJitter&quot;)</span><br></pre></td></tr></table></figure>
<blockquote>
<p>double-sideband psd</p>
</blockquote>
<h4 id="by-trannoise-psd-and-abs_jitter-function">By trannoise
<code>psd</code> and <code>abs_jitter</code> function</h4>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dB10(psd(abs_jitter(clip(VT(&quot;/Out1&quot;) 2.60417e-08 0.000400052) &quot;rising&quot; 1.65 ?Tnom (1 / 3.84e+07)) 2.60417e-08 0.000400052 15360 ?windowName &quot;Rectangular&quot; ?smooth 1 ?windowSize 15000 ?detrending &quot;None&quot; ?cohGain 1))</span><br></pre></td></tr></table></figure>
<blockquote>
<p>double-sideband psd</p>
<p><code>abs_jitter</code> <em>Y-Unit</em> default is
<code>rad</code></p>
</blockquote>
<h4 id="comparison">Comparison</h4>
<p><img
src="/2023/10/21/simulation-phasenoise-jitter/image-20220506225324377.png"
alt="image-20220506225324377" /></p>
<blockquote>
<p><code>PN</code>'s result is same with <code>psd</code>'s</p>
</blockquote>
<h3 id="rms-value">RMS value</h3>
<ul>
<li>build the <code>abs_jitter</code> function with <em>seconds as the Y
axis</em> and add the <code>stddev</code> function to determine the Jee
jitter value</li>
<li>or integrate psd</li>
</ul>
<p>The RMS <span class="math inline">\(x_{\text{RMS}}\)</span> of a
discrete domain signal <span class="math inline">\(x(n)\)</span> is
given by <span class="math display">\[
x_{\text{RMS}}=\sqrt{\frac{1}{N}\sum_{n=0}^{N-1}|x(n)|^2}
\]</span> Inserting Parseval's theorem given by <span
class="math display">\[
\sum_{n=0}^{N-1}|x(n)|^2=\frac{1}{N}\sum_{n=0}^{N-1}|X(k)|^2
\]</span> allows for computing the RMS from the spectrum <span
class="math inline">\(X(k)\)</span> as <span class="math display">\[
x_{\text{RMS}}=\sqrt{\frac{1}{N^2}\sum_{n=0}^{N-1}|X(k)|^2}
\]</span></p>
<h3 id="remarks">Remarks</h3>
<p>Cadence Spectre's <code>PN</code> function may call
<code>abs_jitter</code> and <code>psd</code> function under the
hood.</p>
<h2 id="reference">reference</h2>
<p>Article (11514536) Title: How to obtain a phase noise plot from a
transient noise analysis URL: <a
target="_blank" rel="noopener" href="https://support.cadence.com/apex/ArticleAttachmentPortal?id=a1Od0000000nb1CEAQ">https://support.cadence.com/apex/ArticleAttachmentPortal?id=a1Od0000000nb1CEAQ</a></p>
<p>Article (20500632) Title: How to simulate Random and Deterministic
Jitters URL: <a
target="_blank" rel="noopener" href="https://support.cadence.com/apex/ArticleAttachmentPortal?id=a1O3w000009fiXeEAI">https://support.cadence.com/apex/ArticleAttachmentPortal?id=a1O3w000009fiXeEAI</a></p>
<p>Tutorial on Scaling of the Discrete Fourier Transform and the Implied
Physical Units of the Spectra of Time-Discrete Signals Jens Ahrens, Carl
Andersson, Patrik Höstmad, Wolfgang Kropp URL: <a
target="_blank" rel="noopener" href="https://appliedacousticschalmers.github.io/scaling-of-the-dft/AES2020_eBrief/">https://appliedacousticschalmers.github.io/scaling-of-the-dft/AES2020_eBrief/</a></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/10/21/phasenoise-jitter/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Guo">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="KNOW-HOW">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | KNOW-HOW">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2023/10/21/phasenoise-jitter/" class="post-title-link" itemprop="url">Phase Noise and Jitter</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>
      

      <time title="Created: 2023-10-21 11:18:35 / Modified: 15:31:23" itemprop="dateCreated datePublished" datetime="2023-10-21T11:18:35+00:00">2023-10-21</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/noise/" itemprop="url" rel="index"><span itemprop="name">noise</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="lorentian-spectrum">Lorentian Spectrum</h2>
<p>A more precise analysis shows that the spectrum of a free-running
oscillator does indeed have a Lorentian profile:</p>
<ol type="1">
<li>it is <strong>flat</strong> for frequencies below a given corner
frequency</li>
<li>and rolls off as <span class="math inline">\(1/f^2\)</span> above
it.</li>
</ol>
<p>The spectrum of the signal <span class="math inline">\(x(t +
α(t))\)</span> can be expressed as <span class="math display">\[
S_x(f)=\sum_{n}\left| X_n \right|^2\frac{\omega_0^2 n^2
c}{\frac{1}{4}\omega_0^4 n^4 c^2+(\omega+n\omega_0)^2}
\]</span> The integral in above equation around each harmonic is equal
to the power of the harmonic itself <span class="math inline">\(\left|
X_n \right|^2\)</span></p>
<p>This means that the <strong>excess phase noise</strong>
<strong>DONT</strong> change the energy of the signal; it just spreads
its energy over the frequency spectrum, blurring the very sharp
frequency impulse of an ideal noiseless oscillator.</p>
<p><img src="/2023/10/21/phasenoise-jitter/image-20220504130750290.png"
alt="image-20220504130750290" /></p>
<h2 id="phase-noise-to-jitter">Phase Noise to Jitter</h2>
<p>The <strong>phase noise</strong> is traditionally defined as the
ratio of the power of the signal in 1Hz bandwidth at offset <span
class="math inline">\(f\)</span> from the carrier <span
class="math inline">\(P\)</span>, divided by the power of the carrier
<span class="math display">\[
\ell (f) = \frac {S_v&#39;(f_0+f)}{P}
\]</span> where <span class="math inline">\(S_v&#39;\)</span> is is
<strong>one-sided voltage PSD</strong> and <span class="math inline">\(f
\geqslant 0\)</span></p>
<p>Under <strong>narrow angle assumption</strong> <span
class="math display">\[
S_{\varphi}(f)= \frac {S_v&#39;(f_0+f)}{P}
\]</span> where <span class="math inline">\(\forall f\in \left[-\infty
+\infty\right]\)</span></p>
<p>Using the Wiener-Khinchin theorem, it is possible to easily derive
the variance of the absolute jitter(<span
class="math inline">\(J_{ee}\)</span>)via integration of the
corresponding PSD <span class="math display">\[
J_{ee,rms}^2 = \int S_{J_{ee}}(f)df
\]</span></p>
<p>And we know the relationship between absolute jitter and excess phase
is <span class="math display">\[
J_{ee}=\frac {\varphi}{\omega_0}
\]</span> Considering that phase noise is normally symmetrical about the
zero frequency, multiplied by <strong>two</strong> is shown as below
<span class="math display">\[
J_{ee,rms} = \frac{\sqrt{2\int_{0}^{+\infty}\ell(f)df}}{\omega_0}
\]</span> where phase noise is in linear units not in logarithmic
ones.</p>
<p>Because the unit of phase noise in <em>Spectre-RF</em> is logarithmic
unit (<em>dBc</em>), we have to convert the unit before applying the
above equation <span class="math display">\[
\ell[linear] = 10^{\frac {\ell [dBc/Hz]}{10}}
\]</span> The complete equation using the simulation result of
<em>Spectre-RF Pnoise</em> is <span class="math display">\[
J_{ee,rms} = \frac{\sqrt{2\int_{0}^{+\infty}10^{\frac {\ell
[dBc/Hz]}{10}}df}}{\omega_0}
\]</span></p>
<p>The above equation has been verified for <em>sampled pnoise</em>,
i.e. <em>J<sub>ee</sub></em> and <em>Edge Phase Noise</em>.</p>
<blockquote>
<ul>
<li>For <strong>pnoise-sampled(jitter)</strong>, <em>Direct Plot Form -
Function: Jee:Integration Limits</em> can calculate it conveniently</li>
<li>But for <strong>pnoise-timeaveage</strong>, you have to use the
below equation to get RMS jitter.</li>
</ul>
</blockquote>
<p>One example, integrate to <span
class="math inline">\(\frac{f_{osc}}{2}\)</span> and <span
class="math inline">\(f_{osc} = 16GHz\)</span></p>
<p><img src="/2023/10/21/phasenoise-jitter/image-20220415100034220.png"
alt="image-20220415100034220" /></p>
<p>Of course, it apply to conventional pnoise simulation.</p>
<p>On the other hand, output rms voltage noise, <span
class="math inline">\(V_{out,rms}\)</span> divied by slope should be
close to <span class="math inline">\(J_{ee,rms}\)</span> <span
class="math display">\[
J_{ee,rms} = \frac {V_{out,rms}}{slope}
\]</span></p>
<h2 id="reference">reference</h2>
<p>A. Demir, A. Mehrotra and J. Roychowdhury, "Phase noise in
oscillators: a unifying theory and numerical methods for
characterization," in IEEE Transactions on Circuits and Systems I:
Fundamental Theory and Applications, vol. 47, no. 5, pp. 655-674, May
2000, doi: 10.1109/81.847872.</p>
<p>Dalt, Nicola Da and Ali Sheikholeslami. “Understanding Jitter and
Phase Noise: A Circuits and Systems Perspective.” (2018).</p>
<p>Rubiola, E. (2008). Phase Noise and Frequency Stability in
Oscillators (The Cambridge RF and Microwave Engineering Series).
Cambridge: Cambridge University Press. doi:10.1017/CBO9780511812798</p>
<p>Dr. Ulrich L. Rohde, Noise Analysis, Then and Today [<a
target="_blank" rel="noopener" href="https://www.microwavejournal.com/articles/29151-noise-analysis-then-and-today">https://www.microwavejournal.com/articles/29151-noise-analysis-then-and-today</a>]</p>
<p>Nicola Da Dalt and Ali Sheikholeslami. 2018. Understanding Jitter and
Phase Noise: A Circuits and Systems Perspective (1st. ed.). Cambridge
University Press, USA.</p>
<p>Kester, Walt. (2005). Converting Oscillator Phase Noise to Time
Jitter. [<a
target="_blank" rel="noopener" href="https://www.analog.com/media/en/training-seminars/tutorials/MT-008.pdf">https://www.analog.com/media/en/training-seminars/tutorials/MT-008.pdf</a>]</p>
<p>Drakhlis, B.. (2001). Calculate oscillator jitter by using
phase-noise analysis: Part 2 of two parts. Microwaves and Rf. 40.
109-119.</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/10/21/ldo/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Guo">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="KNOW-HOW">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | KNOW-HOW">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2023/10/21/ldo/" class="post-title-link" itemprop="url">Low-Dropout Regulator</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>
      

      <time title="Created: 2023-10-21 10:31:41 / Modified: 15:31:23" itemprop="dateCreated datePublished" datetime="2023-10-21T10:31:41+00:00">2023-10-21</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/analog/" itemprop="url" rel="index"><span itemprop="name">analog</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="reference">reference</h2>
<p>Hinojo, J.M., Martínez, C.I., &amp; Torralba, A.J. (2018). Internally
Compensated LDO Regulators for Modern System-on-Chip Design.</p>
<p>Mingoo Seok. ISSCC 2020 tutorial "Basics of Digital Low-Dropout (LDO)
Integrated Voltage Regulator"</p>
<p>Pavan Kumar Hanumolu. CICC 2015. "Low Dropout Regulators"</p>
<p>Chen, K. (2016). Power Management Techniques for Integrated Circuit
Design.</p>
<p>Morita, B.G. (2014). Understand Low-Dropout Regulator ( LDO )
Concepts to Achieve Optimal Designs.</p>
<p>H. -S. Kim, "Exploring Ways to Minimize Dropout Voltage for
Energy-Efficient Low-Dropout Regulators: Viable approaches that preserve
performance," in IEEE Solid-State Circuits Magazine, vol. 15, no. 2, pp.
59-68, Spring 2023, doi: 10.1109/MSSC.2023.3262767.</p>
<p>Ali Sheikholeslami, Circuit Intuitions: Voltage Regulators IEEE
Solid-State Circuits Magazine, Vol. 12, Issue 4, to appear, Fall
2020.</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/10/16/lptv/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Guo">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="KNOW-HOW">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | KNOW-HOW">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2023/10/16/lptv/" class="post-title-link" itemprop="url">Linear Periodically Time-Varying Systems (LPTV)</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2023-10-16 21:02:43" itemprop="dateCreated datePublished" datetime="2023-10-16T21:02:43+00:00">2023-10-16</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2023-10-21 15:31:23" itemprop="dateModified" datetime="2023-10-21T15:31:23+00:00">2023-10-21</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/noise/" itemprop="url" rel="index"><span itemprop="name">noise</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="harmonic-balance-analysis">Harmonic Balance Analysis</h2>
<p><strong>Large-signal/small-signal analysis</strong>, or
<strong>conversion matrix analysis</strong>, is useful for a large class
of problems wherein a nonlinear device is driven, or "pumped" by a
<strong>single large sinusoidal signal</strong>; another signal, much
smaller, is applied; and we seek only the <strong>linear response to the
small signal</strong>.</p>
<p><img src="/2023/10/16/lptv/image-20220511203515431.png"
alt="image-20220511203515431" /></p>
<p>The above nonlinear element has the <span
class="math inline">\(I/V\)</span> relationship <span
class="math inline">\(I=f(V)\)</span>. Assuming that <span
class="math inline">\(V\)</span> consists of the sum of a large-signal
component <span class="math inline">\(V_0\)</span> and a small-signal
component <span class="math inline">\(v\)</span>, with Taylor series
<span class="math display">\[
f(V_0+v) = f(V_0)+\frac{d}{dV}f(V)|_{V=V_0}\cdot
v+\frac{1}{2}\frac{d^2}{dV^2}f(V)|_{V=V_0}\cdot v^2+...
\]</span> The small-signal, incremental current is found by subtracting
the large-signal component of the current <span class="math display">\[
i(v)=I(V_0+v)-I(V_0)
\]</span> If <span class="math inline">\(v \ll V_0\)</span>, <span
class="math inline">\(v^2\)</span>, <span
class="math inline">\(v^3\)</span>,... are negligible. Then, <span
class="math display">\[
i(v) = \frac{d}{dV}f(V)|_{V=V_0}\cdot v
\]</span> <span class="math inline">\(V_0\)</span> need not be a dc
quantity; it can be a time-varying large-signal voltage <span
class="math inline">\(V_L(t)\)</span> and that <span
class="math inline">\(v=v(t)\)</span>, a function of time. Then <span
class="math display">\[
i(t) = \frac{d}{dV}f(V)|_{V=V_L(t)}\cdot v(t)
\]</span></p>
<p>The above equation can be expressed as <span class="math display">\[
i(t)=g(t)v(t)
\]</span> where <span
class="math inline">\(g(t)=\frac{d}{dV}f(V)|_{V=V_L(t)}\)</span></p>
<blockquote>
<p>If <span class="math inline">\(f(V) = V^2\)</span>, then <span
class="math display">\[\begin{align}
i(t) &amp;= \frac{d}{dV}V^2|_{V=V_L(t)}\cdot v(t) \\
&amp;= 2V_L(t) \cdot v(t)
\end{align}\]</span></p>
</blockquote>
<p>A nonlinear element excited by two tones, generate mixing frequencies
<span class="math inline">\(m\omega_1+n\omega_w\)</span>, where <span
class="math inline">\(m\)</span> and <span
class="math inline">\(n\)</span> are integers. If one of those tones,
<span class="math inline">\(\omega_1\)</span> has such <strong>low
level</strong> that it does not generate harmonics and the other is a
large-signal sinusoid at <span class="math inline">\(\omega_p\)</span>,
then the mixing frequencies are <span
class="math inline">\(\omega=\pm\omega_1+n\omega_p\)</span>, which shown
in below figure</p>
<p><img src="/2023/10/16/lptv/image-20220511211114421.png"
alt="image-20220511211114421" /></p>
<p>A more compact representation of the mixing frequencies is <span
class="math display">\[
\omega_n=\omega_0+n\omega_p
\]</span> which includes only half of the mixing frequencies: the
negative components of the lower sidebands and the positive components
of the upper sidebands</p>
<p><img src="/2023/10/16/lptv/image-20220511211336437.png"
alt="image-20220511211336437" /></p>
<p>The <strong>frequency-domain</strong> currents and voltages in a
<em>time-varying</em> circuit element are related by a
<strong>conversion matrix</strong></p>
<p>The small-signal voltage and current can be expressed in the
frequency notation as <span class="math display">\[
v&#39;(t) = \sum_{n=-\infty}^{\infty}V_ne^{j\omega_nt}
\]</span> and <span class="math display">\[
i&#39;(t) = \sum_{n=-\infty}^{\infty}I_ne^{j\omega_nt}
\]</span> where <span class="math inline">\(v&#39;(t)\)</span> and <span
class="math inline">\(i&#39;(t)\)</span> are not Fourier series.</p>
<p>The conductance waveform <span class="math inline">\(g(t)\)</span>
can be expressed by its Fourier series, <span class="math display">\[
g(t)=\sum_{n=-\infty}^{\infty}G_ne^{jn\omega_pt}
\]</span> Which is harmonics of large-signal <span
class="math inline">\(\omega_p\)</span></p>
<p>Then the voltage and current are related by Ohm's law <span
class="math display">\[
i&#39;(t)=g(t)v&#39;(t)
\]</span> Then <span class="math display">\[
\sum_{k=-\infty}^{\infty}I_ke^{j\omega_kt}=\sum_{n=-\infty}^{\infty}\sum_{m=-\infty}^{\infty}G_nV_me^{j\omega_{m+n}t}
\]</span></p>
<div class="pdf-container" data-target="/pdfs/hb_conversion_matrix.pdf" data-height="500px"></div>
<h2 id="reference">reference</h2>
<p>Prof. Shanthi Pavan. Introduction to Time - Varying Electrical
Network. [<a
target="_blank" rel="noopener" href="https://youtube.com/playlist?list=PLyqSpQzTE6M8qllAtp9TTODxNfaoxRLp9">https://youtube.com/playlist?list=PLyqSpQzTE6M8qllAtp9TTODxNfaoxRLp9</a>]</p>
<p>R. S. Ashwin Kumar. EE698W: Analog circuits for signal processing [<a
target="_blank" rel="noopener" href="https://home.iitk.ac.in/~ashwinrs/2022_EE698W.html">https://home.iitk.ac.in/~ashwinrs/2022_EE698W.html</a>]</p>
<p>Wereley, Norman. (1990). Analysis and control of linear periodically
time varying systems.</p>
<p>Hameed, S. (2017). Design and Analysis of Programmable Receiver
Front-Ends Based on LPTV Circuits. <em>UCLA</em>. ProQuest ID:
Hameed_ucla_0031D_15577. Merritt ID: ark:/13030/m5gb6zcz. Retrieved from
<a
target="_blank" rel="noopener" href="https://escholarship.org/uc/item/51q2m7bx">https://escholarship.org/uc/item/51q2m7bx</a></p>
<p>Matt Allen. Introduction to Linear Time Periodic Systems. [<a
target="_blank" rel="noopener" href="https://youtu.be/OCOkEFDQKTI">https://youtu.be/OCOkEFDQKTI</a>]</p>
<p><em>Stephen Maas, Nonlinear Microwave and RF Circuits, Second Edition
, Artech, 2003.</em></p>
<p>RF Harmonic Balance Analysis for Nonlinear Circuits [<a
target="_blank" rel="noopener" href="https://resources.pcb.cadence.com/blog/2019-rf-harmonic-balance-analysis-for-nonlinear-circuits">link</a>]</p>
<p>Steer, Michael. Microwave and RF Design (Third Edition, 2019). NC
State University, 2019.</p>
<p>Steer, Michael. Harmonic Balance Analysis of Nonlinear RF Circuits -
Case Study Index: CS_AmpHB [<a
target="_blank" rel="noopener" href="https://youtu.be/BM5ZQgfb_sY?si=bjN_hMe-wvoeGHzu">link</a>]</p>
<p>Vishal Saxena, "SpectreRF Periodic Analysis" URL:<a
target="_blank" rel="noopener" href="https://www.eecis.udel.edu/~vsaxena/courses/ece614/Handouts/SpectreRF%20Periodic%20Analysis.pdf">https://www.eecis.udel.edu/~vsaxena/courses/ece614/Handouts/SpectreRF%20Periodic%20Analysis.pdf</a></p>
<p>Josh Carnes,Peter Kurahashi. "Periodic Analyses of Sampled Systems"
URL:<a
target="_blank" rel="noopener" href="https://slideplayer.com/slide/14865977/">https://slideplayer.com/slide/14865977/</a></p>
<p>Kundert, Ken. (2006). Simulating Switched-Capacitor Filters with
SpectreRF. URL:<a
target="_blank" rel="noopener" href="https://designers-guide.org/analysis/sc-filters.pdf">https://designers-guide.org/analysis/sc-filters.pdf</a></p>
<p>Article (20482538) Title: Why is pnoise sampled(jitter) different
than pnoise timeaverage on a driven circuit? URL:<a
target="_blank" rel="noopener" href="https://support.cadence.com/apex/ArticleAttachmentPortal?id=a1O0V000009EStcUAG">https://support.cadence.com/apex/ArticleAttachmentPortal?id=a1O0V000009EStcUAG</a></p>
<p>Article (20467468) Title: The mathematics behind choosing the upper
frequency when simulating pnoise jitter on an oscillator URL:<a
target="_blank" rel="noopener" href="https://support.cadence.com/apex/ArticleAttachmentPortal?id=a1O0V000007MnBUUA0">https://support.cadence.com/apex/ArticleAttachmentPortal?id=a1O0V000007MnBUUA0</a></p>
<p>Andrew Beckett. "Simulating phase noise for PFD-CP". URL:<a
target="_blank" rel="noopener" href="https://groups.google.com/g/comp.cad.cadence/c/NPisXTElx6E/m/XjWxKbbfh2cJ">https://groups.google.com/g/comp.cad.cadence/c/NPisXTElx6E/m/XjWxKbbfh2cJ</a></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/10/06/tranOP/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Guo">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="KNOW-HOW">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | KNOW-HOW">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2023/10/06/tranOP/" class="post-title-link" itemprop="url">DC operating points during TRANSIENT analysis</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2023-10-06 10:32:10" itemprop="dateCreated datePublished" datetime="2023-10-06T10:32:10+00:00">2023-10-06</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2023-10-21 15:31:23" itemprop="dateModified" datetime="2023-10-21T15:31:23+00:00">2023-10-21</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/cad/" itemprop="url" rel="index"><span itemprop="name">cad</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <blockquote>
<p><a target="_blank" rel="noopener" href="https://community.cadence.com/members/andrew-beckett">Andrew
Beckett</a><a
target="_blank" rel="noopener" href="https://community.cadence.com/cadence_technology_forums/f/rf-design/25702/finding-dc-operating-points-at-certain-timepoints-during-transient-analysis/1321796#1321796">over
11 years ago</a></p>
<p>Two approaches:</p>
<ol type="1">
<li>On the transient options form, there's a field called "infotimes" -
specify the times at which you want it to output the dc operating point
data. You can then annotate the "transient operating points" from any of
these times after the simulation, or access them via the results
browser.</li>
<li>Or you could get the operating point data to be continuously saved
during the transient for selected devices - if so, create a file called
(say) "save.scs" (make sure it has a ".scs" suffix), and put: save
M1:oppoint or save M*:oppoint sigtype=dev in this file, and then
reference the file via Setup-&gt;Model Libraries or as a "definition
file" on Setup-&gt;Simulation Files. With this approach you can then
find the operating point data for the selected devices in the results
browser and plot it versus time (be cautious of saving too much though
because this can generate a lot of data if you're not careful)</li>
</ol>
<p>Regards,</p>
<p>Andrew.</p>
</blockquote>
<p><img src="/2023/10/06/tranOP/image-20231006110801078.png"
alt="image-20231006110801078" /></p>
<h2 id="transient-options-form">transient options form</h2>
<h3 id="setup">setup</h3>
<p><img src="/2023/10/06/tranOP/image-20231006103506475.png"
alt="image-20231006103506475" /></p>
<h3 id="access-1">access 1</h3>
<p><strong>right-click</strong> <span class="math inline">\(\to\)</span>
<strong>Annotate</strong> <span class="math inline">\(to\)</span>
<strong>Transient Operating Points</strong></p>
<p><img src="/2023/10/06/tranOP/image-20231006104317496.png"
alt="image-20231006104317496" /></p>
<h3 id="access-2">access 2</h3>
<p><strong>tranOpTimed</strong></p>
<p><img src="/2023/10/06/tranOP/image-20231006105236323.png"
alt="image-20231006105236323" /></p>
<h2 id="save.scs">save.scs</h2>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">save M0:oppoint</span><br></pre></td></tr></table></figure>
<p><img src="/2023/10/06/tranOP/image-20231006110506245.png"
alt="image-20231006110506245" /></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/10/05/i2c/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Guo">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="KNOW-HOW">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | KNOW-HOW">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2023/10/05/i2c/" class="post-title-link" itemprop="url">I2C Communication Protocol - I2C, SMBus</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2023-10-05 22:55:29" itemprop="dateCreated datePublished" datetime="2023-10-05T22:55:29+00:00">2023-10-05</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2023-10-21 15:31:23" itemprop="dateModified" datetime="2023-10-21T15:31:23+00:00">2023-10-21</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/analog/" itemprop="url" rel="index"><span itemprop="name">analog</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="reference">reference</h2>
<p>UM10204 I2C-bus specification and user manual [<a
target="_blank" rel="noopener" href="https://www.nxp.com/docs/en/user-guide/UM10204.pdf">https://www.nxp.com/docs/en/user-guide/UM10204.pdf</a>]</p>
<p>AN10216-01 I2C MANUAL [<a
target="_blank" rel="noopener" href="https://www.nxp.com.cn/docs/en/application-note/AN10216.pdf">https://www.nxp.com.cn/docs/en/application-note/AN10216.pdf</a>]</p>
<p>System Management Bus (SMBus) Specification [<a
target="_blank" rel="noopener" href="http://smbus.org/specs/SMBus_3_2_20220112.pdf">http://smbus.org/specs/SMBus_3_2_20220112.pdf</a>]</p>
<p>I2C Primer [<a
target="_blank" rel="noopener" href="https://www.i2c-bus.org/i2c-primer/">https://www.i2c-bus.org/i2c-primer/</a>]</p>
<p>smbus2, A drop-in replacement for smbus-cffi/smbus-python in pure
Python [<a
target="_blank" rel="noopener" href="https://github.com/kplindegaard/smbus2/tree/master">https://github.com/kplindegaard/smbus2/tree/master</a>]</p>
<p>THE BOOK OF I2C A Guide for Adventurers by Randall Hyde</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/10/05/varstat/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Guo">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="KNOW-HOW">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | KNOW-HOW">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2023/10/05/varstat/" class="post-title-link" itemprop="url">variables with statistical distribution</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2023-10-05 19:04:19" itemprop="dateCreated datePublished" datetime="2023-10-05T19:04:19+00:00">2023-10-05</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2023-10-21 15:31:23" itemprop="dateModified" datetime="2023-10-21T15:31:23+00:00">2023-10-21</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/cad/" itemprop="url" rel="index"><span itemprop="name">cad</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p><code>Specifying Parameter Distributions Using Statistics Blocks</code></p>
<ul>
<li><code>process</code>: generate random number once per MC run</li>
<li><code>mismatch</code> : generate a random number per instance</li>
</ul>
<p><img src="/2023/10/05/varstat/image-20231005190644654.png"
alt="image-20231005190644654" /></p>
<p><img src="/2023/10/05/varstat/image-20231005190712057.png"
alt="image-20231005190712057" /></p>
<p><img src="/2023/10/05/varstat/image-20231005190724560.png"
alt="image-20231005190724560" /></p>
<h2 id="reference">reference</h2>
<p>Article (20498356) Title: How to vary design variables with
statistical distribution to be used with Monte Carlo analysis URL: <a
target="_blank" rel="noopener" href="https://support.cadence.com/apex/ArticleAttachmentPortal?id=a1O3w000009ErHHEA0">https://support.cadence.com/apex/ArticleAttachmentPortal?id=a1O3w000009ErHHEA0</a></p>
<p>Spectre Circuit Simulator Reference</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/09/29/scattering/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Guo">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="KNOW-HOW">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | KNOW-HOW">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2023/09/29/scattering/" class="post-title-link" itemprop="url">Scattering parameters</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2023-09-29 15:57:01" itemprop="dateCreated datePublished" datetime="2023-09-29T15:57:01+00:00">2023-09-29</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2023-10-21 15:31:23" itemprop="dateModified" datetime="2023-10-21T15:31:23+00:00">2023-10-21</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/dsp/" itemprop="url" rel="index"><span itemprop="name">dsp</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="rational-fit">Rational Fit</h2>
<h3 id="matlabrationalfit">Matlab/rationalfit</h3>
<p>To resolve the convergence problem of s-parameter in Spectre
simulator - <code>rationalfit</code> and write Verilog-A</p>
<p><img src="/2023/09/29/scattering/image-20220630224525565.png"
alt="image-20220630224525565" /></p>
<figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">filename  = <span class="string">&#x27;touchstone/ISI.S4P&#x27;</span>;</span><br><span class="line">s4p = read(rfdata.data, filename);</span><br><span class="line">sdd_params = s2sdd(s2p.S_Parameters, <span class="number">2</span>);</span><br><span class="line">sdd21 = <span class="built_in">squeeze</span>(sdd_params(<span class="number">2</span>, <span class="number">1</span>, :));   <span class="comment">% s21</span></span><br><span class="line">freq = s4p.Freq;</span><br><span class="line"></span><br><span class="line"><span class="comment">% rational fitting</span></span><br><span class="line">weight = <span class="built_in">ones</span>(<span class="built_in">size</span>(sdd21));</span><br><span class="line">weight(<span class="built_in">floor</span>(<span class="keyword">end</span>*<span class="number">3</span>/<span class="number">4</span>):<span class="keyword">end</span>) = <span class="number">0.2</span>;</span><br><span class="line">weight(<span class="number">2</span>:<span class="number">10</span>) = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">[hfit, errb] = rationalfit(freq, sdd21, <span class="string">&#x27;IterationLimit&#x27;</span>, [<span class="number">4</span>, <span class="number">16</span>], <span class="string">&#x27;Delayfactor&#x27;</span>, <span class="number">0.98</span>, ...</span><br><span class="line">    <span class="string">&#x27;Weight&#x27;</span>, weight, <span class="string">&#x27;Tolerance&#x27;</span>, <span class="number">-38</span>, <span class="string">&#x27;NPoles&#x27;</span>, <span class="number">32</span>);</span><br><span class="line">[sdd21_fit, ff] = freqresp(hfit, freq);</span><br><span class="line"></span><br><span class="line"><span class="built_in">figure</span>(<span class="number">1</span>)</span><br><span class="line"><span class="built_in">plot</span>(freq/<span class="number">1e9</span>, db(sdd21), <span class="string">&#x27;b-&#x27;</span>); <span class="built_in">hold</span> on;</span><br><span class="line"><span class="built_in">plot</span>(ff/<span class="number">1e9</span>, db(sdd21_fit), <span class="string">&#x27;r-&#x27;</span>); <span class="built_in">hold</span> off; grid on;</span><br><span class="line"><span class="built_in">legend</span>(<span class="string">&#x27;sdd21&#x27;</span>, <span class="string">&#x27;sdd21\_fit&#x27;</span>);</span><br><span class="line">xlabel(<span class="string">&#x27;Freq (GHz)&#x27;</span>);</span><br><span class="line">ylabel(<span class="string">&#x27;magnitude (dB)&#x27;</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">ts = <span class="number">1e-12</span>;</span><br><span class="line">n = <span class="number">2</span>^<span class="number">18</span>;</span><br><span class="line">trise = <span class="number">4e-14</span>;</span><br><span class="line">[yout, tout] = stepresp(hfit, ts, n, trise);</span><br><span class="line"><span class="built_in">figure</span>(<span class="number">2</span>)</span><br><span class="line"><span class="built_in">plot</span>(tout*<span class="number">1e12</span>, yout, <span class="string">&#x27;b-&#x27;</span>); grid on;</span><br><span class="line">xlabel(<span class="string">&#x27;Time (ps)&#x27;</span>);</span><br><span class="line">ylabel(<span class="string">&#x27;V&#x27;</span>);</span><br><span class="line">title(<span class="string">&#x27;Step Response&#x27;</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">% write verilog-A</span></span><br><span class="line">writeva(hfit, <span class="string">&#x27;channel_32poles.va&#x27;</span>);</span><br></pre></td></tr></table></figure>
<h2 id="z0">Z0</h2>
<blockquote>
<p>Remember, S-parameters <strong>don't mean much</strong> unless you
know the value of the <strong>reference impedance </strong>(it's
frequently called Z0).</p>
</blockquote>
<p>simulator will read sp file's <strong>Z0</strong> parameter</p>
<p><img src="/2023/09/29/scattering/image-20220430214052538.png"
alt="image-20220430214052538" /></p>
<p><img src="/2023/09/29/scattering/image-20220430214136970.png"
alt="image-20220430214136970" /></p>
<p><img src="/2023/09/29/scattering/image-20220430214419283.png"
alt="image-20220430214419283" /></p>
<blockquote>
<p>The default <strong>Z0</strong> exported by EMX is
<strong>50</strong></p>
</blockquote>
<h2 id="reference">reference</h2>
<p><a
target="_blank" rel="noopener" href="https://www.microwaves101.com/encyclopedias/s-parameters">microwaves101,
S-parameters
(https://www.microwaves101.com/encyclopedias/s-parameters)</a></p>
<p>Pupalaikis, P. (2020). <em>S-Parameters for Signal Integrity</em>.
Cambridge: Cambridge University Press. doi:10.1017/9781108784863</p>
<p>Coelho, C. P., Phillips, J. R., &amp; Silveira, L. M. (n.d.). Robust
rational function approximation algorithm for model generation.
Proceedings 1999 Design Automation Conference (Cat. No. 99CH36361).
doi:10.1109/dac.1999.781313</p>
<p>Cadence IEEE IMS 2023, Introducing the Spectre S-Parameter Quality
Checker and Rational Fit Model Generator [<a
href="Article%20(20508931)%20Title:%20Introducing%20the%20Spectre%20S-Parameter%20Quality%20Checker%20and%20Rational%20Fit%20Model%20Generator%20(Presented%20at%20the%20IEEE%20IMS%202023)%20URL:%20https://support.cadence.com/apex/ArticleAttachmentPortal?id=a1O3w000009lplhEAA">link</a>]</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/09/24/mattool/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Guo">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="KNOW-HOW">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | KNOW-HOW">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2023/09/24/mattool/" class="post-title-link" itemprop="url">Matlab toolbox</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2023-09-24 11:15:33" itemprop="dateCreated datePublished" datetime="2023-09-24T11:15:33+00:00">2023-09-24</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2023-10-21 15:31:23" itemprop="dateModified" datetime="2023-10-21T15:31:23+00:00">2023-10-21</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/dsp/" itemprop="url" rel="index"><span itemprop="name">dsp</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="impulse2pulse">impulse2pulse</h2>
<blockquote>
<p>serdes/impulse2pulse.m</p>
</blockquote>
<figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">P</span> = <span class="title">impulse2pulse</span><span class="params">(I, N, dt)</span></span></span><br><span class="line"></span><br><span class="line">impulseSize = <span class="built_in">size</span>(I);</span><br><span class="line"></span><br><span class="line"><span class="comment">%Convert to Pulse by shifting and adding</span></span><br><span class="line">P = <span class="built_in">zeros</span>(impulseSize,<span class="string">&#x27;like&#x27;</span>,I);</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> indx=<span class="number">1</span>:N</span><br><span class="line">    P = P + <span class="built_in">circshift</span>(I, indx,<span class="number">1</span>);</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">P = P*dt;  <span class="comment">% `dt` is the width of area</span></span><br></pre></td></tr></table></figure>
<p><span class="math display">\[
P_k = \Delta t \times \sum_j I_j
\]</span></p>
<h2 id="impulse2step">impulse2step</h2>
<blockquote>
<p>serdes/impulse2step.m</p>
</blockquote>
<figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">S</span> = <span class="title">impulse2step</span><span class="params">(I,dt)</span></span></span><br><span class="line"></span><br><span class="line">[nr,nn] = <span class="built_in">size</span>(I);</span><br><span class="line"></span><br><span class="line">S = <span class="built_in">zeros</span>(nr,nn,<span class="string">&#x27;like&#x27;</span>,I);</span><br><span class="line"><span class="keyword">for</span> indx=<span class="number">2</span>:nr</span><br><span class="line">    S(indx,:) = S(indx<span class="number">-1</span>,:) + I(indx<span class="number">-1</span>,:)*dt;</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>
<p><span class="math display">\[
S_k = S_{k-1} + I_{k-1}\times \Delta t
\]</span></p>
<h2 id="step2impulse">step2impulse</h2>
<blockquote>
<p>serdes/step2impulse.m</p>
</blockquote>
<figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">I</span> = <span class="title">step2impulse</span><span class="params">(S,dt)</span></span></span><br><span class="line"></span><br><span class="line">I = diff(S)/dt;</span><br></pre></td></tr></table></figure>
<p><span class="math display">\[
I_k = \frac{S_{k+1}- S_{k}}{\Delta t}
\]</span></p>
<h2 id="pulse2impulse">pulse2impulse</h2>
<blockquote>
<p>serdes/pulse2impulse.m</p>
</blockquote>
<figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">I</span> = <span class="title">pulse2impulse</span><span class="params">(P, N, dt )</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">%   The algorithm computes the step response from the pulse response and</span></span><br><span class="line"><span class="comment">%   then take the derivative to get the impulse response. The derivative</span></span><br><span class="line"><span class="comment">%   calculation has zero delay and is reasonably accurate up to one half</span></span><br><span class="line"><span class="comment">%   the Nyquist rate but then diverges rapidly back to zero at the Nyquist</span></span><br><span class="line"><span class="comment">%   rate.</span></span><br><span class="line"></span><br><span class="line"><span class="comment">%Size input waveform</span></span><br><span class="line">[nr,nc] = <span class="built_in">size</span>(P);</span><br><span class="line"></span><br><span class="line"><span class="comment">%Remove DC component of waveform</span></span><br><span class="line">dcValues = P(<span class="number">1</span>,:);</span><br><span class="line">P = P - <span class="built_in">repmat</span>(dcValues,nr,<span class="number">1</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">% Convert to step response. No circshift here</span></span><br><span class="line">step = <span class="built_in">zeros</span>( nr, nc,<span class="string">&#x27;like&#x27;</span>,P );</span><br><span class="line"><span class="keyword">for</span> jj = <span class="number">1</span>:nc</span><br><span class="line">    <span class="keyword">for</span> indx = <span class="number">1</span>:N:nr</span><br><span class="line">        step(indx:nr,jj) = step(indx:nr,jj) + P(<span class="number">1</span>:nr-indx+<span class="number">1</span>,jj);</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="comment">% Take the derivative</span></span><br><span class="line">a1 = <span class="number">0.59</span>;</span><br><span class="line">a3 = <span class="number">-0.03</span>;</span><br><span class="line">stepExt = <span class="built_in">zeros</span>( nr+<span class="number">6</span>, nc, <span class="string">&#x27;like&#x27;</span>,P );</span><br><span class="line">I = coder.nullcopy(P);</span><br><span class="line"><span class="keyword">for</span> jj = <span class="number">1</span>:nc    </span><br><span class="line">    stepExt(<span class="number">1</span>:<span class="number">3</span>,jj) = step(<span class="number">1</span>,jj);</span><br><span class="line">    stepExt(<span class="number">4</span>:nr+<span class="number">3</span>,jj) = step(:,jj);</span><br><span class="line">    stepExt(nr+<span class="number">4</span>:nr+<span class="number">6</span>,jj) = step(nr,jj);</span><br><span class="line">    I(:,jj) = (a1*(stepExt(<span class="number">5</span>:nr+<span class="number">4</span>,jj) - stepExt(<span class="number">3</span>:nr+<span class="number">2</span>,jj)) + ...</span><br><span class="line">        a3*(stepExt(<span class="number">7</span>:nr+<span class="number">6</span>,jj) - stepExt(<span class="number">1</span>:nr,jj))) / dt;</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="pulse2wave">pulse2wave</h2>
<blockquote>
<p>serdes/pulse2wave.m</p>
<p>% The algorithms utilizes circular convolution to project the
pulse</p>
<p>% response onto the data pattern.</p>
</blockquote>
<figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">close all;</span><br><span class="line">clear all;</span><br><span class="line">clc;</span><br><span class="line"></span><br><span class="line">load(<span class="string">&#x27;PulseResponseReflective100ps.mat&#x27;</span>);</span><br><span class="line"></span><br><span class="line">P1 = pulse(:,<span class="number">1</span>) - pulse(<span class="number">1</span>,<span class="number">1</span>);</span><br><span class="line">P1 = P1(<span class="number">1</span>:<span class="number">2000</span>);</span><br><span class="line"><span class="comment">% P1 = P1 + 0.2;  % dc offset</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">figure</span>(<span class="string">&#x27;Name&#x27;</span>,<span class="string">&#x27;pulse&#x27;</span>)</span><br><span class="line"><span class="built_in">plot</span>(P1)</span><br><span class="line">grid on;</span><br><span class="line"></span><br><span class="line">order = <span class="number">10</span>;</span><br><span class="line">data =<span class="built_in">zeros</span>(<span class="number">1</span>,<span class="number">512</span>);</span><br><span class="line">data(<span class="number">1</span>, <span class="number">8</span>) = <span class="number">1</span>;</span><br><span class="line">data(<span class="number">1</span>, <span class="number">256</span>) = <span class="number">-1</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">figure</span>(<span class="string">&#x27;Name&#x27;</span>,<span class="string">&#x27;input sequence&#x27;</span>);</span><br><span class="line">stem(data);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">W1 = pulse2wave(P1,data,SamplesPerSymbol); </span><br><span class="line"></span><br><span class="line"><span class="built_in">figure</span>(<span class="string">&#x27;Name&#x27;</span>,<span class="string">&#x27;waveform&#x27;</span>)</span><br><span class="line"><span class="built_in">plot</span>(W1)</span><br><span class="line">grid on;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><img src="/2023/09/24/mattool/image-20230924130954034.png"
alt="image-20230924130954034" /></p>
<h2 id="pulse2pda">pulse2pda</h2>
<blockquote>
<p>B. K. Casper, M. Haycock and R. Mooney, "An accurate and efficient
analysis method for multi-Gb/s chip-to-chip signaling schemes," 2002
Symposium on VLSI Circuits. Digest of Technical Papers (Cat.
No.02CH37302), Honolulu, HI, USA, 2002, pp. 54-57, doi:
10.1109/VLSIC.2002.1015043.</p>
<p>Chang, Wei-Ju and Ruey-Beei Wu. “Eye diagram estimation and equalizer
design method for PAM4.” <em>2018 IEEE 22nd Workshop on Signal and Power
Integrity (SPI)</em> (2018): 1-4.</p>
</blockquote>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><span class="space">&hellip;</span><a class="page-number" href="/page/18/">18</a><a class="extend next" rel="next" title="Next page" aria-label="Next page" href="/page/2/"><i class="fa fa-angle-right"></i></a>
  </nav>

</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">

  <div class="copyright">
    &copy; 
    <span itemprop="copyrightYear">2023</span>
    <span class="with-love">
      <i class="fa fa-heart"></i>
    </span>
    <span class="author" itemprop="copyrightHolder">Guo</span>
  </div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/" rel="noopener" target="_blank">NexT.Gemini</a>
  </div>

    </div>
  </footer>

  
  <div class="back-to-top" role="button" aria-label="Back to top">
    <i class="fa fa-arrow-up fa-lg"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


  
  <script src="https://cdn.jsdelivr.net/npm/animejs@3.2.1/lib/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/next-boot.js"></script>

  <script src="https://cdn.jsdelivr.net/npm/hexo-generator-searchdb@1.4.1/dist/search.js" integrity="sha256-1kfA5uHPf65M5cphT2dvymhkuyHPQp5A53EGZOnOLmc=" crossorigin="anonymous"></script>
<script src="/js/third-party/search/local-search.js"></script>

  <script class="next-config" data-name="pdf" type="application/json">{"object_url":{"url":"https://cdn.jsdelivr.net/npm/pdfobject@2.2.12/pdfobject.min.js","integrity":"sha256-g2xji1rlE3KsGVClvuxTbcR0Kn2+wtQADSff2Tbb4zA="},"url":"/lib/pdf/web/viewer.html"}</script>
  <script src="/js/third-party/tags/pdf.js"></script>






  




  

  <script class="next-config" data-name="enableMath" type="application/json">true</script><script class="next-config" data-name="mathjax" type="application/json">{"enable":true,"tags":"none","js":{"url":"https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.js","integrity":"sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI="}}</script>
<script src="/js/third-party/math/mathjax.js"></script>



</body>
</html>
