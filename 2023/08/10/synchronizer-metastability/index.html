<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222"><meta name="generator" content="Hexo 7.0.0">

  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.2/css/all.min.css" integrity="sha256-CTSx/A06dm1B063156EVh15m6Y67pAjZZaQc89LLSrU=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"example.com","root":"/","images":"/images","scheme":"Gemini","darkmode":false,"version":"8.18.2","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":{"enable":true,"style":null},"fold":{"enable":false,"height":500},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":false,"async":false,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"},"path":"/search.xml","localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false}}</script><script src="/js/config.js"></script>

    <meta name="description" content="Sequentail logic deal We guarantee setup &amp; hold time &#x2F; minimum clock width, FF guarantees propagation delay (clock -&gt; q delay) We can not keep our part of the deal because asynchronous signal m">
<meta property="og:type" content="article">
<meta property="og:title" content="Metastability and Synchronizer">
<meta property="og:url" content="http://example.com/2023/08/10/synchronizer-metastability/index.html">
<meta property="og:site_name" content="KNOW-HOW">
<meta property="og:description" content="Sequentail logic deal We guarantee setup &amp; hold time &#x2F; minimum clock width, FF guarantees propagation delay (clock -&gt; q delay) We can not keep our part of the deal because asynchronous signal m">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2023-08-10T20:57:37.000Z">
<meta property="article:modified_time" content="2023-11-03T13:36:22.365Z">
<meta property="article:author" content="Guo">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="http://example.com/2023/08/10/synchronizer-metastability/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"en","comments":true,"permalink":"http://example.com/2023/08/10/synchronizer-metastability/","path":"2023/08/10/synchronizer-metastability/","title":"Metastability and Synchronizer"}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>Metastability and Synchronizer | KNOW-HOW</title>
  








  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <p class="site-title">KNOW-HOW</p>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="Search" role="button">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>About</a></li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>Search
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup"><div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off" maxlength="80"
           placeholder="Searching..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close" role="button">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div class="search-result-container no-result">
  <div class="search-result-icon">
    <i class="fa fa-spinner fa-pulse fa-5x"></i>
  </div>
</div>

    </div>
  </div>

</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#sequentail-logic-deal"><span class="nav-number">1.</span> <span class="nav-text">Sequentail logic deal</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#what-is-a-metastable-flip-flop"><span class="nav-number">2.</span> <span class="nav-text">What is a metastable flip
flop?</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#probability-of-entering-a-metastable-state"><span class="nav-number">3.</span> <span class="nav-text">Probability of
entering a metastable state</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#metastability-resolution-time-constant-tau-of-flip-flops"><span class="nav-number">4.</span> <span class="nav-text">Metastability
resolution time constant (\(\tau\)) of
flip-flops</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#recovering-from-a-metastable-state"><span class="nav-number">5.</span> <span class="nav-text">Recovering from a metastable
state</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#in-a-latch"><span class="nav-number">5.1.</span> <span class="nav-text">in a latch</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#in-a-flipflop"><span class="nav-number">5.2.</span> <span class="nav-text">in a flipflop</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#probability-of-failure"><span class="nav-number">6.</span> <span class="nav-text">Probability of failure</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#techniques-to-improve-mtbf"><span class="nav-number">7.</span> <span class="nav-text">Techniques to improve MTBF</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#data-flip-flops-vs.-synchronizer-flip-flops"><span class="nav-number">8.</span> <span class="nav-text">Data Flip-Flops Vs.
Synchronizer Flip-Flops</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#reference"><span class="nav-number">9.</span> <span class="nav-text">reference</span></a></li></ol></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Guo</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">178</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">8</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">161</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author animated">
      <span class="links-of-author-item">
        <a href="https://github.com/raytroop" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;raytroop" rel="noopener me" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:raytroop@gmail.com" title="E-Mail → mailto:raytroop@gmail.com" rel="noopener me" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
  </div>

        </div>
      </div>
    </div>

    
  </aside>


    </div>

    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/08/10/synchronizer-metastability/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Guo">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="KNOW-HOW">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="Metastability and Synchronizer | KNOW-HOW">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          Metastability and Synchronizer
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2023-08-10 20:57:37" itemprop="dateCreated datePublished" datetime="2023-08-10T20:57:37+00:00">2023-08-10</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2023-11-03 13:36:22" itemprop="dateModified" datetime="2023-11-03T13:36:22+00:00">2023-11-03</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/digital/" itemprop="url" rel="index"><span itemprop="name">digital</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody"><h2 id="sequentail-logic-deal">Sequentail logic deal</h2>
<p>We guarantee setup &amp; hold time / minimum clock width, FF
guarantees propagation delay (clock -&gt; q delay)</p>
<p>We can not keep our part of the deal because asynchronous signal may
change in the setup/hold window</p>
<p>FF enters a metastable state, as a result it does not guarantee
propagation delay</p>
<h2 id="what-is-a-metastable-flip-flop">What is a metastable flip
flop?</h2>
<blockquote>
<p>Non-Regenerative flipflop: <strong>NOT</strong> suitable for
synchronization</p>
</blockquote>
<blockquote>
<p>Regenerative flipflop: Feedback loop must be isolated</p>
</blockquote>
<h2 id="probability-of-entering-a-metastable-state">Probability of
entering a metastable state</h2>
<h2
id="metastability-resolution-time-constant-tau-of-flip-flops">Metastability
resolution time constant (<span class="math inline">\(\tau\)</span>) of
flip-flops</h2>
<p><span class="math display">\[
T_W = T_0 \cdot e^{-t_r/\tau}
\]</span></p>
<ul>
<li><p><span class="math inline">\(T_W\)</span>: metastability window
width for a given <span class="math inline">\(t_r\)</span> (<span
class="math inline">\(|T_{clk}-T_d| - T_{meta}\)</span>) where <span
class="math inline">\(T_{meta}\)</span> is the data failing point (<span
class="math inline">\(t_r=\infty\)</span>)</p></li>
<li><p><span class="math inline">\(T_0\)</span>: metastability window
width at zero resolution time</p></li>
<li><p><span class="math inline">\(t_r\)</span>: resolution time (clock
to output delay)</p></li>
<li><p><span class="math inline">\(\tau\)</span>: resolution time
constant</p></li>
</ul>
<h2 id="recovering-from-a-metastable-state">Recovering from a metastable
state</h2>
<h3 id="in-a-latch">in a latch</h3>
<h3 id="in-a-flipflop">in a flipflop</h3>
<h2 id="probability-of-failure">Probability of failure</h2>
<h2 id="techniques-to-improve-mtbf">Techniques to improve MTBF</h2>
<h2 id="data-flip-flops-vs.-synchronizer-flip-flops">Data Flip-Flops Vs.
Synchronizer Flip-Flops</h2>
<p><img
src="/2023/08/10/synchronizer-metastability/image-20230704230313635.png"
alt="image-20230704230313635" /></p>
<h2 id="reference">reference</h2>
<p>Chen, Doris T., Deshanand P. Singh, Jeffrey Chromczak, David M.
Lewis, Ryan Fung, David Neto and Vaughn Betz. “A comprehensive approach
to modeling, characterizing and optimizing for metastability in FPGAs.”
Symposium on Field Programmable Gate Arrays (2010).</p>
<p>Jerome Cox. Synchronizers And Data Flip-Flops are Different [<a
target="_blank" rel="noopener" href="https://ee.usc.edu/async2015/web/wp-content/uploads/2015/03/S1_P4_ASYNC2015IndustrialPaperDFF.pdf">https://ee.usc.edu/async2015/web/wp-content/uploads/2015/03/S1_P4_ASYNC2015IndustrialPaperDFF.pdf</a>]</p>
<p>J. U. Horstmann, H. W. Eichel and R. L. Coates, "Metastability
behavior of CMOS ASIC flip-flops in theory and test," in IEEE Journal of
Solid-State Circuits, vol. 24, no. 1, pp. 146-157, Feb. 1989, doi:
10.1109/4.16314.</p>
<p>Steve Golson. Synchronization and Metastability [<a
target="_blank" rel="noopener" href="https://trilobyte.com/pdf/golson_snug14.pdf">https://trilobyte.com/pdf/golson_snug14.pdf</a>]</p>
<p>J. Reiher, M. R. Greenstreet and I. W. Jones, "Explaining
Metastability in Real Synchronizers," 2018 24th IEEE International
Symposium on Asynchronous Circuits and Systems (ASYNC), Vienna, Austria,
2018, pp. 59-67, doi: 10.1109/ASYNC.2018.00024.</p>
<p>A. Cantoni, J. Walker and T. -D. Tomlin, "Characterization of a
Flip-Flop Metastability Measurement Method," in IEEE Transactions on
Circuits and Systems I: Regular Papers, vol. 54, no. 5, pp. 1032-1040,
May 2007, doi: 10.1109/TCSI.2007.895514.</p>
<p>S. Yang, I. W. Jones and M. R. Greenstreet, "Synchronizer Performance
in Deep Sub-Micron Technology," 2011 17th IEEE International Symposium
on Asynchronous Circuits and Systems, Ithaca, NY, USA, 2011, pp. 33-42,
doi: 10.1109/ASYNC.2011.19.</p>
<p>Max Maxfield. Meandering Musings on Metastability [<a
target="_blank" rel="noopener" href="https://www.eejournal.com/article/meandering-musings-on-metastability/">https://www.eejournal.com/article/meandering-musings-on-metastability/</a>]</p>
<p>R. Ginosar, "Metastability and Synchronizers: A Tutorial," in IEEE
Design &amp; Test of Computers, vol. 28, no. 5, pp. 23-35, Sept.-Oct.
2011, doi: 10.1109/MDT.2011.113. [<a
target="_blank" rel="noopener" href="https://webee.technion.ac.il/~ran/papers/Metastability-and-Synchronizers.IEEEDToct2011.pdf">https://webee.technion.ac.il/~ran/papers/Metastability-and-Synchronizers.IEEEDToct2011.pdf</a>]</p>

    </div>

    
    
    

    <footer class="post-footer">

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/2023/08/09/NT-N/" rel="prev" title="Native NMOS Blocked Implant (NT_N)">
                  <i class="fa fa-angle-left"></i> Native NMOS Blocked Implant (NT_N)
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/2023/08/10/calibreRunsets/" rel="next" title="Calibre Runsets">
                  Calibre Runsets <i class="fa fa-angle-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>






</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">

  <div class="copyright">
    &copy; 
    <span itemprop="copyrightYear">2023</span>
    <span class="with-love">
      <i class="fa fa-heart"></i>
    </span>
    <span class="author" itemprop="copyrightHolder">Guo</span>
  </div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/" rel="noopener" target="_blank">NexT.Gemini</a>
  </div>

    </div>
  </footer>

  
  <div class="back-to-top" role="button" aria-label="Back to top">
    <i class="fa fa-arrow-up fa-lg"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


  
  <script src="https://cdn.jsdelivr.net/npm/animejs@3.2.1/lib/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/next-boot.js"></script>

  <script src="https://cdn.jsdelivr.net/npm/hexo-generator-searchdb@1.4.1/dist/search.js" integrity="sha256-1kfA5uHPf65M5cphT2dvymhkuyHPQp5A53EGZOnOLmc=" crossorigin="anonymous"></script>
<script src="/js/third-party/search/local-search.js"></script>

  <script class="next-config" data-name="pdf" type="application/json">{"object_url":{"url":"https://cdn.jsdelivr.net/npm/pdfobject@2.2.12/pdfobject.min.js","integrity":"sha256-g2xji1rlE3KsGVClvuxTbcR0Kn2+wtQADSff2Tbb4zA="},"url":"/lib/pdf/web/viewer.html"}</script>
  <script src="/js/third-party/tags/pdf.js"></script>






  




  

  <script class="next-config" data-name="enableMath" type="application/json">true</script><script class="next-config" data-name="mathjax" type="application/json">{"enable":true,"tags":"none","js":{"url":"https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.js","integrity":"sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI="}}</script>
<script src="/js/third-party/math/mathjax.js"></script>



</body>
</html>
