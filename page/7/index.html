<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222"><meta name="generator" content="Hexo 7.1.1">

  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.5.2/css/all.min.css" integrity="sha256-XOqroi11tY4EFQMR9ZYwZWKj5ZXiftSx36RRuC3anlA=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"example.com","root":"/","images":"/images","scheme":"Gemini","darkmode":false,"version":"8.20.0","exturl":false,"sidebar":{"position":"left","width_expanded":320,"width_dual_column":240,"display":"post","padding":18,"offset":12},"copycode":{"enable":true,"style":null},"fold":{"enable":false,"height":500},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":false,"async":false,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"},"path":"/search.xml","localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false}}</script><script src="/js/config.js"></script>

    <meta property="og:type" content="website">
<meta property="og:title" content="KNOW-HOW">
<meta property="og:url" content="http://example.com/page/7/index.html">
<meta property="og:site_name" content="KNOW-HOW">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="Guo">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="http://example.com/page/7/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":true,"isPost":false,"lang":"en","comments":"","permalink":"","path":"page/7/index.html","title":""}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>KNOW-HOW</title>
  








  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">KNOW-HOW</h1>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="Search" role="button">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>About</a></li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>Search
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup"><div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off" maxlength="80"
           placeholder="Searching..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close" role="button">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div class="search-result-container no-result">
  <div class="search-result-icon">
    <i class="fa fa-spinner fa-pulse fa-5x"></i>
  </div>
</div>

    </div>
  </div>

</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-overview-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Guo</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">168</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">8</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">1</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author animated">
      <span class="links-of-author-item">
        <a href="https://github.com/raytroop" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;raytroop" rel="noopener me" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:raytroop@gmail.com" title="E-Mail → mailto:raytroop@gmail.com" rel="noopener me" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
  </div>

        </div>
      </div>
    </div>

    
  </aside>


    </div>

    <div class="main-inner index posts-expand">

    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/11/24/dem/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Guo">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="KNOW-HOW">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | KNOW-HOW">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2022/11/24/dem/" class="post-title-link" itemprop="url">Dynamic Element Matching (DEM)</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2022-11-24 20:16:50" itemprop="dateCreated datePublished" datetime="2022-11-24T20:16:50+00:00">2022-11-24</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2024-05-21 16:02:49" itemprop="dateModified" datetime="2024-05-21T16:02:49+00:00">2024-05-21</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/analog/" itemprop="url" rel="index"><span itemprop="name">analog</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p><img src="/2022/11/24/dem/image-20221124201852745.png"
alt="image-20221124201852745" /></p>
<p><img src="/2022/11/24/dem/image-20221124201914625.png"
alt="image-20221124201914625" /></p>
<p><img src="/2022/11/24/dem/image-20221124202015662.png"
alt="image-20221124202015662" /></p>
<h2 id="precision-amplifier">Precision amplifier ?</h2>
<h3 id="solution-1-feedback">Solution 1: Feedback</h3>
<p><img src="/2022/11/24/dem/image-20221124202052715.png"
alt="image-20221124202052715" /></p>
<h3 id="solution-2-trim">Solution 2: Trim</h3>
<p><img src="/2022/11/24/dem/image-20221124202113126.png"
alt="image-20221124202113126" /></p>
<p><img src="/2022/11/24/dem/image-20221124202205049.png"
alt="image-20221124202205049" /></p>
<h3 id="solution-3-dynamic-error-correction">Solution 3: Dynamic Error
Correction</h3>
<p><img src="/2022/11/24/dem/image-20221124202255847.png"
alt="image-20221124202255847" /></p>
<p><img src="/2022/11/24/dem/image-20221124202321948.png"
alt="image-20221124202321948" /></p>
<p><strong>DEM in the Frequency Domain</strong></p>
<p><img src="/2022/11/24/dem/image-20221124202354540.png"
alt="image-20221124202354540" /></p>
<p><img src="/2022/11/24/dem/image-20221124202431040.png"
alt="image-20221124202431040" /></p>
<p><img src="/2022/11/24/dem/image-20221124202453114.png"
alt="image-20221124202453114" /></p>
<h2 id="reference">reference</h2>
<p>Kofi Makinwa, Coping with Variability URL: <a
target="_blank" rel="noopener" href="https://youtu.be/nA_DZtRqrTQ">https://youtu.be/nA_DZtRqrTQ</a></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/11/19/layout-tricks-part2/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Guo">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="KNOW-HOW">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | KNOW-HOW">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2022/11/19/layout-tricks-part2/" class="post-title-link" itemprop="url">Layout Tricks Part 2 - matching</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2022-11-19 12:52:45" itemprop="dateCreated datePublished" datetime="2022-11-19T12:52:45+00:00">2022-11-19</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2024-05-21 16:02:49" itemprop="dateModified" datetime="2024-05-21T16:02:49+00:00">2024-05-21</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/analog/" itemprop="url" rel="index"><span itemprop="name">analog</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <ol type="1">
<li><p>Common Centroid</p>
<p>The common centroid technique describes that if there are n blocks
which are to be matched then the blocks are arranged symmetrically
around the common centre at equal distances from the centre. This
technique offers best matching for devices as it helps in avoiding
cross-chip gradients</p>
<p><img src="/2022/11/19/layout-tricks-part2/figure13.jpeg"
alt="HTML5 Icon" /></p></li>
<li><p>Inter-digitation</p>
<p>Interdigitation reduces the device mismatch as it suffers equally
from process variations in X dimension. This technique was used to
layout current mirrors and resistors in PTAT and BGR circuits. In the
Figure-15 below each brown stick represents a PFET of uniform length.
This representation is termed as an inter-digitated layout.</p>
<p><img src="/2022/11/19/layout-tricks-part2/figure14.jpeg"
alt="HTML5 Icon" /></p></li>
</ol>
<h3 id="reference">reference</h3>
<p>Mikael Sahrling, Layout Techniques for Integrated Circuit Designers
1st Edition , Artech House 2022</p>
<p>LAYOUT, <a
target="_blank" rel="noopener" href="http://www.ee.columbia.edu/~kinget/EE6350_S16/">EE6350 VLSI Design
Lab</a> SMART TEMPERATURE SENSOR URL: <a
target="_blank" rel="noopener" href="https://www.ee.columbia.edu/~kinget/EE6350_S16/06_TEMPSENS_Sukanya_Vani/layout.html">https://www.ee.columbia.edu/~kinget/EE6350_S16/06_TEMPSENS_Sukanya_Vani/layout.html</a></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/11/17/bgr/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Guo">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="KNOW-HOW">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | KNOW-HOW">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2022/11/17/bgr/" class="post-title-link" itemprop="url">Bandgap Reference</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2022-11-17 00:15:17" itemprop="dateCreated datePublished" datetime="2022-11-17T00:15:17+00:00">2022-11-17</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2024-05-21 16:02:49" itemprop="dateModified" datetime="2024-05-21T16:02:49+00:00">2024-05-21</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/analog/" itemprop="url" rel="index"><span itemprop="name">analog</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h3 id="temperature-coefficient">temperature coefficient</h3>
<p>The parameter that shows the dependence of the reference voltage on
temperature variation is called the temperature coefficient and is
defined as: <span class="math display">\[
TC_F=\frac{1}{V_{\text{REF}}}\left[
\frac{V_{\text{max}}-V_{\text{min}}}{T_{\text{max}}-T_{\text{min}}}
\right]\times10^6\;ppm/^oC
\]</span></p>
<h3 id="choice-of-n">Choice of n</h3>
<p><img src="/2022/11/17/bgr/image-20221117002714125.png"
alt="image-20221117002714125" /></p>
<h3 id="reference">reference</h3>
<p>ECEN 607 (ESS) Bandgap Reference: Basics URL:<a
target="_blank" rel="noopener" href="https://people.engr.tamu.edu/s-sanchez/607%20Lect%204%20Bandgap-2009.pdf">https://people.engr.tamu.edu/s-sanchez/607%20Lect%204%20Bandgap-2009.pdf</a></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/11/05/integrator-design/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Guo">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="KNOW-HOW">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | KNOW-HOW">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2022/11/05/integrator-design/" class="post-title-link" itemprop="url">integrator design</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2022-11-05 22:04:21" itemprop="dateCreated datePublished" datetime="2022-11-05T22:04:21+00:00">2022-11-05</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2024-05-21 16:02:49" itemprop="dateModified" datetime="2024-05-21T16:02:49+00:00">2024-05-21</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/analog/" itemprop="url" rel="index"><span itemprop="name">analog</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h3 id="application-in-sensor">application in sensor</h3>
<p><img src="/2022/11/05/integrator-design/image-20221106142157115.png"
alt="image-20221106142157115" /></p>
<h4 id="offset-errors">Offset Errors</h4>
<p>The offset of opamp <span class="math inline">\(A_3\)</span> is
<strong>much less critical</strong>:</p>
<ol type="1">
<li><p>It affects the integrated currents via the finite output
impedances <span class="math inline">\(R_{out1,2}\)</span> of the V-I
converters, and is therefore attenuated by a factor <span
class="math inline">\(R_{out1}/R_1\)</span> when referred back to the
input of the sinking V-I converter,</p></li>
<li><p>or by a factor <span class="math inline">\(R_{out2}/R_2\)</span>
when referred back to the input of the sourcing V-I converter.</p></li>
</ol>
<p>Therefore, no special offset cancellation is needed for opamp <span
class="math inline">\(A_3\)</span>.</p>
<p>The current change due to offset of <span
class="math inline">\(A_3\)</span>: <span
class="math display">\[\begin{align}
\frac{V_{BE,os}}{R_1} &amp;= \frac{V_{ota,os}}{R_{out1}} \\
\frac{\Delta V_{BE,os}}{R_2} &amp;= \frac{V_{ota,os}}{R_{out2}}
\end{align}\]</span> Then, the input referenced offset is: <span
class="math display">\[\begin{align}
V_{BE,os} &amp;=\frac{ V_{ota,os}}{R_{out1}/R_1} \\
\Delta V_{BE,os} &amp;= \frac{ V_{ota,os}}{R_{out2}/R_2}
\end{align}\]</span></p>
<h4 id="errors-due-to-finite-gain">Errors due to Finite Gain</h4>
<p>Finite gain of opamp <span class="math inline">\(A_3\)</span> results
in a non-zero overdrive voltage at its input, which modulates the
current Iint due to the finite output impedances of the V-I
converters.</p>
<p>Assuming the opamp is implemented as a <strong>transconductance
amplifier</strong>, there are two main causes of this non-zero overdrive
voltage</p>
<ol type="1">
<li>The finite transconductance <span
class="math inline">\(g_{m3}\)</span> of the opamp, , which implies that
an overdrive voltage is required to provide the <strong>feedback
current</strong></li>
</ol>
<p>​ The change in the integrated current</p>
<p>​ <span class="math display">\[\begin{align}
​   \Delta I_{int} &amp;= \frac{V_{i,ota}}{R_{out}}\\
​   &amp;= \frac{I_{int}}{g_{m3}}\cdot \frac{1}{R_{out}}
​   \end{align}\]</span></p>
<ol start="2" type="1">
<li>The finite DC gain <span class="math inline">\(A_{0,3}\)</span>,
which implies that an overdrive voltage is required to produce the
<strong>output voltage</strong> <span
class="math inline">\(V_{int}\)</span></li>
</ol>
<h3 id="reference">reference</h3>
<p>Micheal, A., P., Pertijs., Johan, H., Huijsing., Pertijs., Johan, H.,
Huijsing. (2006). Precision Temperature Sensors in CMOS Technology.</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/10/22/SpiceIn-standardcellspi/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Guo">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="KNOW-HOW">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | KNOW-HOW">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2022/10/22/SpiceIn-standardcellspi/" class="post-title-link" itemprop="url">SpiceIn foundary's standard cell's spice netlist</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2022-10-22 22:42:37" itemprop="dateCreated datePublished" datetime="2022-10-22T22:42:37+00:00">2022-10-22</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2024-05-21 16:02:49" itemprop="dateModified" datetime="2024-05-21T16:02:49+00:00">2024-05-21</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/cad/" itemprop="url" rel="index"><span itemprop="name">cad</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>use <strong>SpiceIn</strong> GUI feature to map MOS parameter
correctly in generated schematic</p>
<h3 id="input">Input</h3>
<p><img
src="/2022/10/22/SpiceIn-standardcellspi/image-20221022224745955.png"
alt="image-20221022224745955" /></p>
<blockquote>
<p>The mos's total width (parameter name "w") value will update during
<strong>SpiceIn</strong> trigger CDF callback automatically</p>
</blockquote>
<h3 id="output">Output</h3>
<p><img
src="/2022/10/22/SpiceIn-standardcellspi/image-20221022225143844.png"
alt="image-20221022225143844" /></p>
<h3 id="device-map">Device Map</h3>
<p><img
src="/2022/10/22/SpiceIn-standardcellspi/image-20221022225224751.png"
alt="image-20221022225224751" /></p>
<blockquote>
<p><strong>User Prop Mapping</strong> is significant setup, both
<em>xxx.spi</em> and <em>Edit CDF</em> provide the essential
information.</p>
<p>The map syntax is <em>spice_para0 cdf_para0 spice_para1 cdf_para01
... spice_paraN cdf_paraN</em></p>
</blockquote>
<p><img
src="/2022/10/22/SpiceIn-standardcellspi/image-20221022225742497.png"
alt="image-20221022225742497" /></p>
<h3 id="reference">reference</h3>
<p>Article (20488179) Title: How to use SpiceIn GUI feature to map MOS
parameter correctly in generated schematic URL: <a
target="_blank" rel="noopener" href="https://support.cadence.com/apex/ArticleAttachmentPortal?id=a1O3w000009bdPWEAY">https://support.cadence.com/apex/ArticleAttachmentPortal?id=a1O3w000009bdPWEAY</a></p>
<p>Article (11724692) Title: SpiceIn maps the netlist parameter to the
CDF parameter incorrectly on the generated schematic devices (e.g. w to
wf) URL: <a
target="_blank" rel="noopener" href="https://support.cadence.com/apex/ArticleAttachmentPortal?id=a1Od0000000nZ2CEAU">https://support.cadence.com/apex/ArticleAttachmentPortal?id=a1Od0000000nZ2CEAU</a></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/10/22/New-windows-Gnome3/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Guo">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="KNOW-HOW">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | KNOW-HOW">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2022/10/22/New-windows-Gnome3/" class="post-title-link" itemprop="url">New windows and forms appear behind the Library Manager in background when using GNOME 3</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2022-10-22 00:24:14" itemprop="dateCreated datePublished" datetime="2022-10-22T00:24:14+00:00">2022-10-22</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2024-05-21 16:02:49" itemprop="dateModified" datetime="2024-05-21T16:02:49+00:00">2024-05-21</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/devops/" itemprop="url" rel="index"><span itemprop="name">devops</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>Using <strong>Red Hat Enterprise Linux 8</strong>, <strong>Rocky
Linux 8</strong> and the <strong>GNOME 3</strong> window manager, the
new Virtuoso Schematic/Layout/ADE windows and forms sometimes pop up
under or below the <strong>Library Manager</strong> or on the desktop in
the background instead of the foreground and cannot be seen. Sometimes,
they are iconized; they do not come on the top in front, though it is
the most recent window opened.</p>
<p><strong>solution</strong></p>
<blockquote>
<p>Install <strong>Focus my window</strong> GNOME Shell extension</p>
</blockquote>
<p><img src="/2022/10/22/New-windows-Gnome3/image-20221022002952578.png"
alt="image-20221022002952578" /></p>
<p><strong>reference</strong></p>
<p>Article (11612426) Title: New windows and forms appear behind the
Library Manager in background or iconized instead of foreground on RHEL
and SuSE Linux in GNOME, KDE Desktop, Metacity window manager URL: <a
target="_blank" rel="noopener" href="https://support.cadence.com/apex/ArticleAttachmentPortal?id=a1Od0000000nSXCEA2">https://support.cadence.com/apex/ArticleAttachmentPortal?id=a1Od0000000nSXCEA2</a></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/09/24/MOS-Cap/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Guo">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="KNOW-HOW">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | KNOW-HOW">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2022/09/24/MOS-Cap/" class="post-title-link" itemprop="url">MOS Capacitor</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2022-09-24 00:29:21" itemprop="dateCreated datePublished" datetime="2022-09-24T00:29:21+00:00">2022-09-24</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2024-05-21 16:02:49" itemprop="dateModified" datetime="2024-05-21T16:02:49+00:00">2024-05-21</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/analog/" itemprop="url" rel="index"><span itemprop="name">analog</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="dsb-varactors">D=S=B varactors</h2>
<p><img src="/2022/09/24/MOS-Cap/image-20220924003223575.png"
alt="image-20220924003223575" /></p>
<hr />
<h2 id="inversion-mode-i-mos">Inversion-mode (I-MOS)</h2>
<p><img src="/2022/09/24/MOS-Cap/image-20220924003314979.png"
alt="image-20220924003314979" /></p>
<hr />
<h2 id="accumulation-mode-a-mos">Accumulation-mode (A-MOS)</h2>
<blockquote>
<p>NMOS in NWELL, aka <strong>NMOS in N-Well varactor</strong></p>
<p><strong>Notice: S/D and NWELL are connected togethor</strong> in
layout</p>
</blockquote>
<p><img src="/2022/09/24/MOS-Cap/image-20230504221234639.png"
alt="image-20230504221234639" /></p>
<p><img src="/2022/09/24/MOS-Cap/image-20230504221313785.png"
alt="image-20230504221313785" /></p>
<p><img src="/2022/09/24/MOS-Cap/image-20220924004206116.png"
alt="image-20220924004206116" /></p>
<p><img src="/2022/09/24/MOS-Cap/image-20240117230001916.png"
alt="image-20240117230001916" /></p>
<h3 id="pdk-varactor">PDK varactor</h3>
<blockquote>
<p>nmoscap: NMOS in <strong>N-Well</strong> varactor</p>
</blockquote>
<p><img src="/2022/09/24/MOS-Cap/image-20230504223522225.png"
alt="image-20230504223522225" /></p>
<blockquote>
<p>pmoscap: PMOS in <strong>P-Well</strong> varactor</p>
</blockquote>
<h2 id="mos-device-as-capacitor">MOS Device as Capacitor</h2>
<p><img src="/2022/09/24/MOS-Cap/image-20240115225644183.png"
alt="image-20240115225644183" /></p>
<p><img src="/2022/09/24/MOS-Cap/image-20240115225928617.png"
alt="image-20240115225928617" /></p>
<p><img src="/2022/09/24/MOS-Cap/image-20240115225853721.png"
alt="image-20240115225853721" /></p>
<hr />
<h2 id="voltage-dependence">Voltage dependence</h2>
<p><img src="/2022/09/24/MOS-Cap/image-20240115230113523.png"
alt="image-20240115230113523" /></p>
<p><img src="/2022/09/24/MOS-Cap/image-20231103213004806.png"
alt="image-20231103213004806" /></p>
<ul>
<li><p>capacitance of MOS gate varies <strong>nonmonotonically</strong>
with <span class="math inline">\(V_{GS}\)</span></p></li>
<li><p>"accumulation-mode" varactor varies
<strong>monotonically</strong> with <span
class="math inline">\(V_{GS}\)</span></p></li>
</ul>
<h2 id="inverter-capacitance">Inverter capacitance</h2>
<p><img src="/2022/09/24/MOS-Cap/invCap.png" alt="invCap" /></p>
<h2 id="reference">reference</h2>
<p>R. L. Bunch and S. Raman, "Large-signal analysis of MOS varactors in
CMOS -G/sub m/ LC VCOs," in IEEE Journal of Solid-State Circuits, vol.
38, no. 8, pp. 1325-1332, Aug. 2003, doi: 10.1109/JSSC.2003.814416.</p>
<p>T. Soorapanth, C. P. Yue, D. K. Shaeffer, T. I. Lee and S. S. Wong,
"Analysis and optimization of accumulation-mode varactor for RF ICs,"
1998 Symposium on VLSI Circuits. Digest of Technical Papers (Cat.
No.98CH36215), 1998, pp. 32-33, doi: 10.1109/VLSIC.1998.687993. URL: <a
target="_blank" rel="noopener" href="http://www-smirc.stanford.edu/papers/VLSI98s-chet.pdf">http://www-smirc.stanford.edu/papers/VLSI98s-chet.pdf</a></p>
<p>R. Jacob Baker, 6.1 MOSFET Capacitance Overview/Review, CMOS Circuit
Design, Layout, and Simulation, Fourth Edition</p>
<p>B. Razavi, Design of Analog CMOS Integrated Circuits 2nd</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/09/24/virtuoso-dlopen-libdl/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Guo">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="KNOW-HOW">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | KNOW-HOW">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2022/09/24/virtuoso-dlopen-libdl/" class="post-title-link" itemprop="url">virtuoso "dlopen failed to open 'libdl.so'"</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2022-09-24 00:21:47" itemprop="dateCreated datePublished" datetime="2022-09-24T00:21:47+00:00">2022-09-24</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2024-05-21 16:02:49" itemprop="dateModified" datetime="2024-05-21T16:02:49+00:00">2024-05-21</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/cad/" itemprop="url" rel="index"><span itemprop="name">cad</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo yum install glibc-devel  </span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">Last metadata expiration check: 0:01:02 ago on Sat 24 Sep 2022 12:13:54 AM CST.                                                         </span><br><span class="line">Dependencies resolved.</span><br><span class="line">=========================================================================================================================================</span><br><span class="line"> Package                            Architecture              Version                                    Repository                 Size</span><br><span class="line">=========================================================================================================================================</span><br><span class="line">Installing:</span><br><span class="line"> glibc-devel                        x86_64                    2.28-189.5.el8_6                           baseos                     78 k</span><br><span class="line">Installing dependencies:</span><br><span class="line"> glibc-headers                      x86_64                    2.28-189.5.el8_6                           baseos                    482 k</span><br><span class="line"> kernel-headers                     x86_64                    4.18.0-372.26.1.el8_6                      baseos                    9.4 M</span><br><span class="line"> libxcrypt-devel                    x86_64                    4.1.1-6.el8                                baseos                     24 k</span><br><span class="line"></span><br><span class="line">Transaction Summary</span><br><span class="line">=========================================================================================================================================</span><br><span class="line">Install  4 Packages</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/09/23/save-parameter-spectre/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Guo">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="KNOW-HOW">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | KNOW-HOW">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2022/09/23/save-parameter-spectre/" class="post-title-link" itemprop="url">Understanding the save parameter in spectre</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2022-09-23 23:14:10" itemprop="dateCreated datePublished" datetime="2022-09-23T23:14:10+00:00">2022-09-23</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2024-05-21 16:02:49" itemprop="dateModified" datetime="2024-05-21T16:02:49+00:00">2024-05-21</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/cad/" itemprop="url" rel="index"><span itemprop="name">cad</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p><strong>none</strong>:</p>
<p>​ Does not save any data (currently does save one node chosen at
random)</p>
<p><strong>selected</strong>:</p>
<p>​ Saves only signals specified with save statements. The default
setting.</p>
<p><strong>lvlpub</strong>:</p>
<pre><code>Saves all signals that are normally useful up to nestlvl deep in the subcircuit hierarchy. This option is equivalent to allpub for subcircuits.</code></pre>
<p><strong>lvl</strong>:</p>
<p>​ Saves all signals up to nestlvl deep in the subcircuit hierarchy.
This option is relevant for subcircuits.</p>
<p><strong>allpub</strong>:</p>
<p>​ Saves only signals that are normally useful.</p>
<p><strong>all</strong>:</p>
<p>​ Saves all signals.</p>
<blockquote>
<p>Signals that are "normally useful" include the shared node voltages
and currents through voltage sources and iprobes, and exclude the
internal nodes on devices (the internal collector, base, emitter on a
BJT, the internal drain, source on a FET, and so on). It also excludes
currents through inductors, controlled sources, transmission lines,
transformers, etc.</p>
<p>If you use <strong>lvl</strong> or <strong>all</strong> instead of
<strong>lvlpub</strong> or <strong>allpub</strong>, you will also get
internal node voltages and currents through other components that happen
to compute current.</p>
<p>Thus, using <strong>*pub</strong> excludes internal nodes on devices
(the internal collector, base, emitter on a BJT, the internal drain and
source on a FET, etc). It also excludes the currents through inductors,
controlled sources, transmission lines, transformers, etc.</p>
</blockquote>
<blockquote>
<p><strong>nestlvl</strong></p>
<p>This variable is used to save groups of signals as results and when
signals are saved in subcircuits. The nestlvl parameter also specifies
how many levels deep into the subcircuit hierarchy you want to save
signals.</p>
</blockquote>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/08/11/t-sensor/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Guo">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="KNOW-HOW">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | KNOW-HOW">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2022/08/11/t-sensor/" class="post-title-link" itemprop="url">temperature sensor</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2022-08-11 08:33:19" itemprop="dateCreated datePublished" datetime="2022-08-11T08:33:19+00:00">2022-08-11</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2024-05-21 16:02:49" itemprop="dateModified" datetime="2024-05-21T16:02:49+00:00">2024-05-21</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/analog/" itemprop="url" rel="index"><span itemprop="name">analog</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>Due to the fact that <em>long-term drift</em> of temperature sensors
and bandgap references caused by package-induced stress is lower with
PNP BJTs than with NPN BJTs, <strong>PNP</strong> BJTs have been used
traditionally for temperature sensor design in CMOS</p>
<h3 id="v_be-curvature"><span class="math inline">\(V_{BE}\)</span>
curvature</h3>
<p>Though it is assumed that <span class="math inline">\(V_{BE}\)</span>
is a linear function of temperature for first oder analysis.</p>
<p>In practice, <span class="math inline">\(V_{BE}\)</span> is
<em>slightly nonlinear</em>, the magnitude of this nonlinearity is
referred to as <strong>curvature</strong>.</p>
<p><strong>curvature</strong> depends on the temperature dependency of
the <em>saturation current</em> (<span
class="math inline">\(I_s\)</span>), and on that of the <em>collector
current</em> (<span class="math inline">\(I_c\)</span>), it can be
written as <span class="math display">\[
V_{curv}(T)=\frac{k}{q}(\eta-\delta)(T-T_r-T\cdot \ln(\frac{T}{T_r}))
\]</span> where <span class="math inline">\(\eta\)</span> = a constant
depending on the doping level, CMOS substrate pnp transistors have a
typically value of <span class="math inline">\(\eta \cong 4\)</span></p>
<p><span class="math inline">\(\delta\)</span> = order of the
<em>temperature dependence of collector current</em> (<span
class="math inline">\(I_c\)</span>)</p>
<blockquote>
<p>PTAT <span class="math inline">\(I_c\)</span> help reduce <span
class="math inline">\(V_{curv}(T)\)</span>, <span
class="math inline">\(\delta=1\)</span></p>
</blockquote>
<p>Although the temperature dependence of the bias current <span
class="math inline">\(I_b\)</span> doesn’t impact the accuracy of <span
class="math inline">\(V_{BE}\)</span>, it does impact the systematic
nonlinearity or curvature of <span
class="math inline">\(V_{BE}\)</span>, and hence the sensor's
<em>systematic error</em>. <strong>The curvature in <span
class="math inline">\(V_{BE}\)</span> can be reduced by using a PTAT
bias current</strong>.</p>
<p><img src="/2022/08/11/t-sensor/image-20221106010909644.png"
alt="image-20221106010909644" /></p>
<h3 id="ptat-bias-current-generation">PTAT bias current generation</h3>
<p><img src="/2022/08/11/t-sensor/image-20221023150817411.png"
alt="image-20221023150817411" /> <span class="math display">\[
I_{bias} = \frac{0.7}{\beta \cdot R^2}
\]</span> in which <span class="math inline">\(\beta=\frac{\mu_{n}\cdot
C_{ox}\cdot W}{L}\)</span>, where:</p>
<p><span class="math inline">\(\mu_n\)</span>=mobility,</p>
<p><span class="math inline">\(C_{ox}\)</span> = oxide capacitance
density,</p>
<p><span class="math inline">\(\frac{W}{L}\)</span> = dimension ratio of
unit NMOS used for <span class="math inline">\(M_1\)</span> and <span
class="math inline">\(M_2\)</span></p>
<p><span class="math inline">\(\mu_n\)</span> is <strong>complementary
to the absolute temperature</strong> and resitor R is implemented using
high-R flow in FinFET which has a low temperature dependency, the net
temperature dependency of <span class="math inline">\(I_{bias}\)</span>
is proportional to the absolute temperature <span
class="math display">\[
I_{bias}\propto  T
\]</span></p>
<h3 id="errors-due-to-v-i-finite-gain">Errors due to V-I Finite
Gain</h3>
<p>Finite gain introduces errors both in the V-I converters, finite loop
gain results in errors in the closed-loop transconductances.</p>
<p><img src="/2022/08/11/t-sensor/image-20221106153613505.png"
alt="image-20221106153613505" /> <span
class="math display">\[\begin{align}
(V_{i1} - V_{o1})\cdot A_{OL1} &amp;= V_{o1} \\
V_{o1} &amp;= \frac{A_{OL1}}{1+A_{OL1}}V_{i1} \\
I_{o1} &amp;= \frac{A_{OL1}}{1+A_{OL1}}\frac{1}{R_1}V_{i1}
\end{align}\]</span> similarly, <span class="math display">\[
I_{o2} = \frac{A_{OL2}}{1+A_{OL2}}\frac{1}{R_2}V_{i2}
\]</span></p>
<p>Then, <span class="math inline">\(\alpha\)</span> is obtained <span
class="math display">\[
\alpha =
\frac{(1+A_{OL2})A_{OL1}}{A_{OL2}(1+A_{OL1})}\cdot\frac{R_2}{R_1}
\]</span> Since the loop gains in the two V-I converters cannot be
expected to <em>match</em>, the resulting errors in
<strong>both</strong> converters should be reduced to negligible
levels.</p>
<p>First, assume <span class="math inline">\(A_{OL2}=\infty\)</span>
<span class="math display">\[\begin{align}
\Delta \alpha &amp;= (1-\frac{A_{OL1}}{1+A_{OL1}})\cdot\frac{R_2}{R_1}\\
&amp;=\frac{1}{1+A_{OL1}}\cdot\frac{R_2}{R_1}\\
&amp;\cong \frac{1}{A_{OL1}}\cdot\frac{R_2}{R_1}
\end{align}\]</span></p>
<p>We get <span class="math display">\[
\frac{\Delta \alpha}{\alpha}=\frac{1}{A_{OL1}}
\]</span> Follow the same procedure, assume <span
class="math inline">\(A_{OL1}=\infty\)</span> <span
class="math display">\[
\frac{\Delta \alpha}{\alpha}=\frac{1}{A_{OL2}}
\]</span> The finite gain introduces an error inversely proportional to
the loop gain <span class="math inline">\(A_{OL1}\)</span>,<span
class="math inline">\(A_{OL2}\)</span>, the resulting errors in both
converters should be reduced to negligible levels</p>
<h3 id="why-is-it-named-as-bandgap-reference">Why is it named as
"bandgap reference"</h3>
<p>Let us write the output voltage as <span class="math display">\[
V_{REF} = V_{BE} + V_T\cdot \ln n
\]</span> and hence <span class="math display">\[
\frac{\partial V_{REF}}{\partial T} = \frac{\partial V_{BE}}{\partial T}
+ \frac{V_T}{T}\ln n
\]</span> Setting this to zero and substituting for <span
class="math inline">\(\frac{\partial V_{BE}}{\partial T}\)</span>, we
have <span class="math display">\[
\frac{V_{BE}-(4+m)V_T-E_g/q}{T}=-\frac{V_T}{T}\ln n
\]</span> If <span class="math inline">\(V_T\ln n\)</span> is found from
this equation and inserted in <span
class="math inline">\(V_{REF}\)</span>, we obtain <span
class="math display">\[
V_{REF}=\frac{E_g}{q} + (4+m)V_T
\]</span></p>
<blockquote>
<p>The term <strong>bandgap</strong> is used here because as <span
class="math inline">\(T\to 0\)</span>, <span
class="math inline">\(V_{REF} \to E_g/q\)</span></p>
</blockquote>
<h3 id="consideration-for-readout-circuit">Consideration for Readout
Circuit</h3>
<h4 id="adc-dynamic-range">ADC dynamic range</h4>
<p>Take <span class="math inline">\(V_{PTAT}=\alpha \cdot \Delta
V_{BE}\)</span> as input and <span
class="math inline">\(V_{REF}\)</span> as reference. The output <span
class="math inline">\(\mu\)</span> of the ADC will then be <span
class="math display">\[
\mu =\frac{V_{PTAT}}{V_{VREF}}=\frac{\alpha \cdot \Delta
V_{BE}}{V_{BE}+\alpha \cdot \Delta V_{BE}}
\]</span> A final digital output <span
class="math inline">\(D_{out}\)</span> in degrees <em>Celsius</em> can
be obtained by linear scaling: <span class="math display">\[
D_{out}=A\cdot \mu + B
\]</span> where <span class="math inline">\(A\simeq 600K\)</span> and
<span class="math inline">\(B\simeq -273K\)</span></p>
<p>While the transfer is simple, it only uses about 30% of the of the
ADC (the extremes of the operating range correspond to <span
class="math inline">\(\mu \simeq 1/3\)</span> and <span
class="math inline">\(\mu \simeq 2/3\)</span>). The ratio results in a
rather inefficient use of the modulator's <em>dynamic range</em>.</p>
<p>For a first-order <span class="math inline">\(\Sigma\Delta\)</span>
modulator, this means that about <strong>1.5 bits</strong> of resolution
are lost</p>
<p>A more efficient transfer is <span class="math display">\[
\mu &#39;=\frac{2\alpha \cdot \Delta V_{BE}-V_{BE}}{V_{BE}+\alpha \cdot
\Delta V_{BE}}
\]</span> With this more efficient combination, <em>90%</em> of the
dynamic range is used rather than 30%. Thus, <em>the required resolution
of the ADC</em> is reduced by <strong>a factor of three</strong>.</p>
<p><img src="/2022/08/11/t-sensor/image-20230204220522392.png"
alt="image-20230204220522392" /></p>
<h4 id="integrator-output-swing">Integrator Output Swing</h4>
<blockquote>
<p><span class="math display">\[
\mu =\frac{\alpha \cdot \Delta V_{BE}}{V_{BE}+\alpha \cdot \Delta
V_{BE}}
\]</span></p>
</blockquote>
<p><img src="/2022/08/11/t-sensor/image-20230207002324363.png"
alt="image-20230207002324363" /></p>
<blockquote>
<p><span class="math display">\[
\mu &#39;=\frac{2\alpha \cdot \Delta V_{BE}-V_{BE}}{V_{BE}+\alpha \cdot
\Delta V_{BE}}
\]</span></p>
</blockquote>
<p><img src="/2022/08/11/t-sensor/image-20230206230202755.png"
alt="image-20230206230202755" /></p>
<p>In advanced process, like Finfet 16nm, 7nm, high resistance resistor
has <strong>+/-15%</strong> variation and MOM capacitor has
<strong>+/-30%</strong> variation.</p>
<p>Then, <span class="math inline">\(R_1\)</span> and <span
class="math inline">\(R_2\)</span> not only determine the <span
class="math inline">\(\alpha\)</span> but also the integrator's output
swing, so do <span class="math inline">\(V_{BE}\)</span> and <span
class="math inline">\(\Delta V_{BE}\)</span>, <span
class="math inline">\(C_{int}\)</span>.</p>
<blockquote>
<p>The integrator's output change per period</p>
</blockquote>
<p><img src="/2022/08/11/t-sensor/image-20230206231010121.png"
alt="image-20230206231010121" /></p>
<h5 id="example">example</h5>
<p><img src="/2022/08/11/t-sensor/image-20230430112230224.png"
alt="image-20230430112230224" /></p>
<h4 id="integrator-comparator-offset">integrator, comparator offset</h4>
<h5 id="integrator-offset">integrator offset</h5>
<p><img src="/2022/08/11/t-sensor/image-20230430114429118.png"
alt="image-20230430114429118" /></p>
<p><img src="/2022/08/11/t-sensor/image-20230430114520336.png"
alt="image-20230430114520336" /></p>
<h5 id="comparator-offset">comparator offset</h5>
<p><img src="/2022/08/11/t-sensor/image-20230501223512686.png"
alt="image-20230501223512686" /></p>
<h3 id="reference">reference</h3>
<p>Micheal, A., P., Pertijs., Johan, H., Huijsing., Pertijs., Johan, H.,
Huijsing. (2006). Precision Temperature Sensors in CMOS Technology.</p>
<p>Kamath, Umanath Ramachandra. "BJT Based Precision Voltage Reference
in FinFET Technology." (2021).</p>
<p>C. -H. Chang, J. -J. Horng, A. Kundu, C. -C. Chang and Y. -C. Peng,
"An ultra-compact, untrimmed CMOS bandgap reference with 3σ inaccuracy
of +0.64% in 16nm FinFET," 2014 IEEE Asian Solid-State Circuits
Conference (A-SSCC), 2014, pp. 165-168, doi:
10.1109/ASSCC.2014.7008886.</p>
<p>EE247 - Analog Digital Interface Integrated Circuits - Fall 2009 <a
target="_blank" rel="noopener" href="https://inst.eecs.berkeley.edu/~ee247/fa09/files07/lectures/L24_2_f09.pdf">Lecture
24- Oversampled ADCs</a></p>
<p>Hecht, Bruce. (2010). SSCS DL Kofi Makinwa Talks About Smart Sensor
Design at SSCS-Boston [People]. Solid-State Circuits Magazine, IEEE. 2.
54 - 56. 10.1109/MSSC.2009.935278.</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




  <nav class="pagination">
    <a class="extend prev" rel="prev" title="Previous page" aria-label="Previous page" href="/page/6/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/6/">6</a><span class="page-number current">7</span><a class="page-number" href="/page/8/">8</a><span class="space">&hellip;</span><a class="page-number" href="/page/17/">17</a><a class="extend next" rel="next" title="Next page" aria-label="Next page" href="/page/8/"><i class="fa fa-angle-right"></i></a>
  </nav>

</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">

  <div class="copyright">
    &copy; 
    <span itemprop="copyrightYear">2024</span>
    <span class="with-love">
      <i class="fa fa-heart"></i>
    </span>
    <span class="author" itemprop="copyrightHolder">Guo</span>
  </div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/" rel="noopener" target="_blank">NexT.Gemini</a>
  </div>

    </div>
  </footer>

  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>
  <div class="sidebar-dimmer"></div>
  <div class="back-to-top" role="button" aria-label="Back to top">
    <i class="fa fa-arrow-up fa-lg"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


  
  <script src="https://cdn.jsdelivr.net/npm/animejs@3.2.1/lib/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/sidebar.js"></script><script src="/js/next-boot.js"></script>

  <script src="https://cdn.jsdelivr.net/npm/hexo-generator-searchdb@1.4.1/dist/search.js" integrity="sha256-1kfA5uHPf65M5cphT2dvymhkuyHPQp5A53EGZOnOLmc=" crossorigin="anonymous"></script>
<script src="/js/third-party/search/local-search.js"></script>

  <script class="next-config" data-name="pdf" type="application/json">{"object_url":{"url":"https://cdn.jsdelivr.net/npm/pdfobject@2.3.0/pdfobject.min.js","integrity":"sha256-JJZNsid68vnh3/zyj0lY9BN5ynxVX/12XgOa1TlaYN0="},"url":"/lib/pdf/web/viewer.html"}</script>
  <script src="/js/third-party/tags/pdf.js"></script>






  




  

  <script class="next-config" data-name="enableMath" type="application/json">true</script><script class="next-config" data-name="mathjax" type="application/json">{"enable":true,"tags":"none","js":{"url":"https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.js","integrity":"sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI="}}</script>
<script src="/js/third-party/math/mathjax.js"></script>



</body>
</html>
