<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222"><meta name="generator" content="Hexo 7.1.1">

  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.5.2/css/all.min.css" integrity="sha256-XOqroi11tY4EFQMR9ZYwZWKj5ZXiftSx36RRuC3anlA=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"example.com","root":"/","images":"/images","scheme":"Gemini","darkmode":false,"version":"8.20.0","exturl":false,"sidebar":{"position":"left","width_expanded":320,"width_dual_column":240,"display":"post","padding":18,"offset":12},"copycode":{"enable":true,"style":null},"fold":{"enable":false,"height":500},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":false,"async":false,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"},"path":"/search.xml","localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false}}</script><script src="/js/config.js"></script>

    <meta property="og:type" content="website">
<meta property="og:title" content="KNOW-HOW">
<meta property="og:url" content="http://example.com/page/13/index.html">
<meta property="og:site_name" content="KNOW-HOW">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="Guo">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="http://example.com/page/13/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":true,"isPost":false,"lang":"en","comments":"","permalink":"","path":"page/13/index.html","title":""}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>KNOW-HOW</title>
  








  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">KNOW-HOW</h1>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="Search" role="button">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>About</a></li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>Search
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup"><div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off" maxlength="80"
           placeholder="Searching..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close" role="button">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div class="search-result-container no-result">
  <div class="search-result-icon">
    <i class="fa fa-spinner fa-pulse fa-5x"></i>
  </div>
</div>

    </div>
  </div>

</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-overview-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Guo</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">164</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">8</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">1</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author animated">
      <span class="links-of-author-item">
        <a href="https://github.com/raytroop" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;raytroop" rel="noopener me" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:raytroop@gmail.com" title="E-Mail → mailto:raytroop@gmail.com" rel="noopener me" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
  </div>

        </div>
      </div>
    </div>

    
  </aside>


    </div>

    <div class="main-inner index posts-expand">

    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/03/07/parallel-compensation/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Guo">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="KNOW-HOW">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | KNOW-HOW">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2022/03/07/parallel-compensation/" class="post-title-link" itemprop="url">Parallel Compensation in Two stage amplifier</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2022-03-07 23:48:11" itemprop="dateCreated datePublished" datetime="2022-03-07T23:48:11+00:00">2022-03-07</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2024-08-26 05:39:01" itemprop="dateModified" datetime="2024-08-26T05:39:01+00:00">2024-08-26</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/analog/" itemprop="url" rel="index"><span itemprop="name">analog</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <blockquote>
<p><strong>Parallel Compensation</strong> is also known as <strong>Lead
Compensation</strong>, <strong>Pole-Zero Compensation</strong></p>
</blockquote>
<p><img
src="/2022/03/07/parallel-compensation/image-20220307234938855.png"
alt="image-20220307234938855" /></p>
<p><strong>Note</strong>: The dominant pole is at output of the first
stage, i.e. <span
class="math inline">\(\frac{1}{R_{EQ}C_{EQ}}\)</span>.</p>
<p><img
src="/2022/03/07/parallel-compensation/image-20221006001114562.png"
alt="image-20221006001114562" /></p>
<h4 id="pole-and-zero-in-transfer-function">Pole and Zero in transfer
function</h4>
<blockquote>
<p>Design with operational amplifiers and analog integrated circuits /
Sergio Franco, San Francisco State University. – Fourth edition</p>
</blockquote>
<p><img
src="/2022/03/07/parallel-compensation/image-20221005220854411.png"
alt="image-20221005220854411" /></p>
<p><span class="math display">\[
Y = \frac{1}{R_1} + sC_1+\frac{1}{R_c+1/SC_c}
\]</span></p>
<p><span class="math display">\[\begin{align}
Z &amp;= \frac{1}{\frac{1}{R_1} + sC_1+\frac{1}{R_c+1/SC_c}} \\
&amp;= \frac{R_1(1+sR_cC_c)}{s^2R_1C_1R_cC_c+s(R_1C_c+R_1C_1+R_cC_c)+1}
\end{align}\]</span> If <span class="math inline">\(p_{1c} \ll
p_{3c}\)</span>, two real roots can be found <span
class="math display">\[\begin{align}
p_{1c} &amp;= \frac{1}{R_1C_c+R_1C_1+R_cC_c} \\
p_{3c} &amp;= \frac{R_1C_c+R_1C_1+R_cC_c}{R_1C_1R_cC_c}
\end{align}\]</span></p>
<p>The additional zero is <span class="math display">\[
z_c = \frac{1}{R_cC_c}
\]</span> Given <span class="math inline">\(R_c \ll R\)</span> and <span
class="math inline">\(C_c \gg C\)</span> <span
class="math display">\[\begin{align}
p_{1c} &amp;\simeq \frac{1}{R_1(C_c+C_1)} \simeq \frac{1}{R_1C_c}\\
p_{3c} &amp;= \frac{1}{R_cC_1}+\frac{1}{R_cC_c}+\frac{1}{R_1C_1} \simeq
\frac{1}{R_cC_1}
\end{align}\]</span></p>
<p>The output pole is unchanged, which is <span class="math display">\[
p_2 = \frac{1}{R_LC_L}
\]</span> We usually <strong>cancel</strong> <span
class="math inline">\(p_2\)</span> with <span
class="math inline">\(z_c\)</span>, i.e. <span class="math display">\[
R_cC_c=R_LC_L
\]</span></p>
<h4 id="phase-margin">Phase margin</h4>
<p>unity-gain frequency <span class="math inline">\(\omega_t\)</span>
<span class="math display">\[
\omega_t = A_\text{DC}\cdot P_{1c} =\frac{g_{m1}g_{m2}R_L}{C_c}
\]</span></p>
<ol type="1">
<li><p>PM=45<span class="math inline">\(^o\)</span> <span
class="math display">\[
p_{3c} = \omega_t
\]</span> Then, <span class="math inline">\(C_c\)</span> and <span
class="math inline">\(R_c\)</span> can be obtained</p>
<p><span class="math display">\[\begin{align}
   R_c &amp;= \sqrt{\frac{R_1}{C_1\cdot A_{DC}\cdot
p_2}}=\sqrt{\frac{R_1\cdot R_LC_L}{C_1\cdot A_{DC}}} \\
C_c &amp;= \sqrt{\frac{A_{DC}\cdot C_1}{R_1\cdot
p_2}}=\sqrt{\frac{A_{DC}\cdot C_1 \cdot R_LC_L}{R_1}}
\end{align}\]</span></p></li>
<li><p>PM=60<span class="math inline">\(^o\)</span> <span
class="math display">\[
p_{3c} = 2\cdot\omega_t
\]</span> Then, <span class="math inline">\(C_c\)</span> and <span
class="math inline">\(R_c\)</span> can be obtained <span
class="math display">\[\begin{align}
   R_c &amp;= \sqrt{\frac{R_1}{C_1\cdot 2A_{DC}\cdot p_2}} =
\sqrt{\frac{R_1\cdot R_LC_L}{C_1\cdot 2A_{DC}}} \\
   &amp;= \sqrt{\frac{C_L}{2g_{m1}g_{m2}C_1}}\\
C_c &amp;= \sqrt{\frac{2A_{DC}\cdot C_1}{R_1\cdot p_2}} =
\sqrt{\frac{2A_{DC}\cdot C_1 \cdot R_LC_L}{R_1}} \\
&amp;= R_L\sqrt{2g_{m1}g_{m2}C_1C_L}
\end{align}\]</span></p>
<p>for the unity-gain frequency <span
class="math inline">\(\omega_t\)</span> we find <span
class="math display">\[
\omega_t = \sqrt{\frac{1}{2}\cdot \frac{g_{m1}g_{m2}}{C_1C_L}}
\]</span> The parallel compensation shows a remarkably good result. The
new 0 dB frequency lies only a factor <span
class="math inline">\(\sqrt{2}\)</span> lower than the theoretical
maximum</p></li>
</ol>
<blockquote>
<p>To increase <span class="math inline">\(\phi_m\)</span>, we need to
<strong>raise</strong> <span class="math inline">\(C_c\)</span> a bit
while <strong>lowering</strong> <span class="math inline">\(R_c\)</span>
in proportion in order to maintain pole-zero cancellation. This causes
<span class="math inline">\(p_{1c}\)</span> and <span
class="math inline">\(p_{3c}\)</span> to split a bit further apart.</p>
</blockquote>
<figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">clc;</span><br><span class="line">clear;</span><br><span class="line"></span><br><span class="line">fd = <span class="number">84</span>*<span class="number">1e3</span>;	<span class="comment">% dominant freq, unit: Hz</span></span><br><span class="line">fnd = <span class="number">3.25</span>*<span class="number">1e6</span>;	<span class="comment">% unit: Hz</span></span><br><span class="line">C = <span class="number">478</span>*<span class="number">1e-15</span>;</span><br><span class="line">R = <span class="number">1</span>/fd/(<span class="number">2</span>*<span class="built_in">pi</span>)/C;</span><br><span class="line">Adc = <span class="number">10</span>^(<span class="number">80</span>/<span class="number">20</span>);</span><br><span class="line"></span><br><span class="line">ri = <span class="number">2</span>; <span class="comment">% PM=45: 1;  PM=60: 2</span></span><br><span class="line">Rc = (R/C/fnd/<span class="number">2</span>/<span class="built_in">pi</span>/ri/Adc)^<span class="number">0.5</span>; <span class="comment">% compensation resistor</span></span><br><span class="line">Cc = (ri*Adc*C/fnd/<span class="number">2</span>/<span class="built_in">pi</span>/R)^<span class="number">0.5</span>; <span class="comment">% compensation capacitor</span></span><br><span class="line"></span><br><span class="line">wzc = <span class="number">1</span>/<span class="number">2</span>/<span class="built_in">pi</span>/Rc/Cc; <span class="comment">% zero frequency</span></span><br></pre></td></tr></table></figure>
<h4 id="reference">reference</h4>
<p>Viola Schäffer, Designing Amplifiers for Stability, ISSCC 2021
Tutorials</p>
<p>R.Eschauzier "Wide Bandwidth Low Power Operational Amplifiers", Delft
University Press, 1994.</p>
<p>Gene F. Franklin, J. David Powell, and Abbas Emami-Naeini. 2018.
Feedback Control of Dynamic Systems (8th Edition) (8th. ed.). Pearson.
6.7 Compensation</p>
<p>Application Note AN-1286 Compensation for the LM3478 Boost
Controller</p>
<p>ECEN 607 Advanced Analog Circuit Design Techniques Spring 2017 URL:
<a
target="_blank" rel="noopener" href="https://people.engr.tamu.edu/s-sanchez/Lec_for_607_stability%20Jan27.pdf">Lect
1D Op-Amps Stability and Frequency Compensation Techniques</a></p>
<p>Sergio Franco, San Francisco State University, Design with
Operational Amplifiers and Analog Integrated Circuits, 4/e</p>
<p>J. H. Huijsing, 6.2.2.1 Two-GA-stage Parallel Compensation (PC),
"Operational Amplifiers, Theory and Design, 3rd ed. New York: Springer,
2017"</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/03/06/EDI-post-mask-ECO-sparecell/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Guo">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="KNOW-HOW">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | KNOW-HOW">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2022/03/06/EDI-post-mask-ECO-sparecell/" class="post-title-link" itemprop="url">How does EDI System identify spare cells in a post-mask ECO flow?</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2022-03-06 22:56:40" itemprop="dateCreated datePublished" datetime="2022-03-06T22:56:40+00:00">2022-03-06</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2024-08-26 05:39:00" itemprop="dateModified" datetime="2024-08-26T05:39:00+00:00">2024-08-26</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/innovus/" itemprop="url" rel="index"><span itemprop="name">innovus</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h4
id="how-does-edi-system-identify-spare-cells-in-a-post-mask-eco-flow">How
does EDI System identify spare cells in a post-mask ECO flow?</h4>
<p>Spare cells should have a unique string in their instance name to
identify them. Then the command <code>specifySpareGate</code> or
<code>ecoDesign -useSpareCells patternName</code> is run to identify the
spare instances. For example, if all spare cells have _spare_ in their
name then they are identified using:</p>
<figure class="highlight tcl"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">specifySpareGate -inst *_spare_*</span><br></pre></td></tr></table></figure>
<p>OR</p>
<figure class="highlight tcl"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ecoDesign -spareCells *_spare_* ...</span><br></pre></td></tr></table></figure>
<p><strong>Note</strong>: if you are making <strong>manual ECO</strong>
changes to a netlist and converting a spare cell to a logical instance,
<strong>it's important to change the instance name</strong>. Otherwise,
the instance may be identified as a spare cell if a future ECO is
performed because it still has the spare cell instance name.</p>
<h4 id="example">Example</h4>
<h5 id="the-cell-to-be-swapped-is-unplaced">The cell to be swapped is
unplaced</h5>
<p><img
src="/2022/03/06/EDI-post-mask-ECO-sparecell/image-20220307002842020.png"
alt="image-20220307002842020" /></p>
<p>pre_buf: <strong>unplaced</strong></p>
<p>spare_buf: <strong>placed</strong></p>
<blockquote>
<p>innovus 49&gt; dbGet top.insts.name</p>
<p><strong>spare_buf</strong> <strong>pre_buf</strong> UDriver USink</p>
<p>innovus 50&gt; dbGet top.insts.</p>
<p><strong>0x7f7b03ef60e0</strong> <strong>0x7f7b03ef6150</strong>
0x7f7b03ef6000 0x7f7b03ef6070</p>
</blockquote>
<figure class="highlight tcl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">specifySpareGate -inst spare_*</span><br><span class="line">ecoSwapSpareCell pre_buf spare_buf</span><br></pre></td></tr></table></figure>
<p><img
src="/2022/03/06/EDI-post-mask-ECO-sparecell/image-20220307003059068.png"
alt="image-20220307003059068" /></p>
<blockquote>
<p>innovus 55&gt; dbGet top.insts.name</p>
<p><strong>pre_buf</strong> UDriver USink</p>
<p>innovus 56&gt; dbGet top.insts.</p>
<p><strong>0x7f7b03ef6150</strong> 0x7f7b03ef6000 0x7f7b03ef6070</p>
<p>innovus 57&gt; dbGet top.insts.Pstatus</p>
<p><strong>placed</strong> fixed fixed</p>
</blockquote>
<p><strong>Note</strong>: sparecell's pointer and name is swapped with
the unplaced cell.</p>
<h5 id="the-cell-to-be-swapped-is-placed">The cell to be swapped is
placed</h5>
<p><img
src="/2022/03/06/EDI-post-mask-ECO-sparecell/image-20220307004654614.png"
alt="image-20220307004654614" /></p>
<blockquote>
<p>innovus 62&gt; dbGet top.insts.name</p>
<p><strong>spare_buf</strong> <strong>pre_buf</strong> UDriver USink</p>
<p>innovus 63&gt; dbGet top.insts.</p>
<p><strong>0x7f7b03ef60e0</strong> <strong>0x7f7b03ef6150</strong>
0x7f7b03ef6000 0x7f7b03ef6070</p>
<p>innovus 64&gt; dbGet top.insts.pStatus</p>
<p><strong>placed</strong> <strong>placed</strong> fixed fixed</p>
</blockquote>
<figure class="highlight tcl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">innovus <span class="number">66</span>&gt; specifySpareGate -inst spare_*</span><br><span class="line">Specifying instance [spare_buf] as spare gate.</span><br><span class="line">Specified <span class="number">1</span> instances as spare gate.</span><br><span class="line">innovus <span class="number">67</span>&gt; ecoSwapSpareCell pre_buf spare_buf</span><br></pre></td></tr></table></figure>
<p><img
src="/2022/03/06/EDI-post-mask-ECO-sparecell/image-20220307005254488.png"
alt="image-20220307005254488" /></p>
<blockquote>
<p>innovus 68&gt; dbGet top.insts.name</p>
<p><strong>spare_buf pre_buf</strong> UDriver USink</p>
<p>innovus 69&gt; dbGet top.insts.</p>
<p><strong>0x7f7b03ef60e0 0x7f7b03ef6150</strong> 0x7f7b03ef6000
0x7f7b03ef6070</p>
<p>innovus 70&gt; dbGet top.insts.pStatus</p>
<p>placed placed fixed fixed</p>
</blockquote>
<p><strong>Note</strong>: sparecell's pointer and name is swapped with
the placed cell.</p>
<h5 id="error-in-innovus-text-command-reference-21.12">Error in "Innovus
Text Command Reference 21.12"</h5>
<p><strong>ecoSwapSpareCell</strong></p>
<p><del>If the cell to be swapped is unplaced, it is mapped to the spare
cell. <code>*instName*</code> is deleted, and its connection is
transferred to the spare cell. If the cell to be swapped is placed, it
is swapped with the spare cell and is renamed to
<code>*instNameSuffix*</code> if the <code>-suffix</code> option is
used. If a suffix is not specified, the <code>*instName*</code> cell is
renamed to <code>*spareCellInstName*</code>. The <code>*instName*</code>
cell's connections are transferred to <code>*spareCellInstName*</code>.
The input of <code>*instName*</code> is <code>tielo</code>, based on the
global connection definition.</del></p>
<p><strong>reference:</strong></p>
<p><a
target="_blank" rel="noopener" href="https://community.cadence.com/cadence_blogs_8/b/di/posts/answers-to-frequently-asked-questions-when-performing-ecos-in-edi-system">Answers
to Top 10 Questions on Performing ECOs in EDI System</a></p>
<p><a
target="_blank" rel="noopener" href="https://eecs.wsu.edu/~daehyun/teaching/2014_EE582/assignments/a10/a10.html">EE
582: Physical Design Automation of VLSI Circuits and Systems</a></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/03/06/mpro/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Guo">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="KNOW-HOW">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | KNOW-HOW">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2022/03/06/mpro/" class="post-title-link" itemprop="url">multipath ring oscillator (MPRO)</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2022-03-06 16:20:13" itemprop="dateCreated datePublished" datetime="2022-03-06T16:20:13+00:00">2022-03-06</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2024-08-26 05:39:01" itemprop="dateModified" datetime="2024-08-26T05:39:01+00:00">2024-08-26</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/analog/" itemprop="url" rel="index"><span itemprop="name">analog</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="maximum-frequency">maximum frequency</h2>
<p>A conventional inverter-based ring oscillator consists of a single
loop of an <strong>odd</strong> number of inverters. While compact, easy
to design and tunable over a wide frequency range, this oscillator
suffers from several limitations.</p>
<ul>
<li>it is not possible to increase the number of phases while
maintaining the same oscillation frequency since the frequency is
inversely proportional to the number of inverters in the loop. In other
words, the time resolution of the oscillator is limited to one inverter
delay and cannot be improved below this limit.</li>
<li>the number of phases that can be obtained from this oscillator is
limited to <strong>odd</strong> values. Otherwise, if an even number of
inverters is used, the circuit remains in <em>a latched state</em> and
does not oscillate.</li>
</ul>
<p>To overcome the limitations of conventional ring oscillators,
multi-paths ring oscillator (MPRO) is proposed. Each phase can be driven
by two or more inverters, or <em>multi-paths</em> instead of having each
phase in oscillator driven by a single inverter, or <em>single
path</em>.</p>
<p>One thing that makes the MPRO design problem even more complicated is
its property of having <strong>multiple possible oscillation
modes</strong>. Without a clear understanding of what makes one of these
modes dominant, it is very likely that a designer might end-up having an
oscillator that can start-up each time in a different oscillation mode
depending on the <em>initial state of the oscillator</em>.</p>
<p><img src="/2022/03/06/mpro/image-20220320155440541.png"
alt="image-20220320155440541" /></p>
<p>In practive, the oscillator starts first from a linear mode of
operation where all the buffers are indeed acting as linear
transconductors. All oscillation modes that have mode gains, <span
class="math inline">\(a_n\)</span>, lower than the actual dc gain of the
inverter, <span class="math inline">\(a_0\)</span>, start to grow.
<em>As the oscillation amplitude grows, the effective gain of the
inverter drops due to nonlinearity</em>. Consequently, modes with higher
mode gain die out and only the mode that requires the minimum gain
continues to oscillate and hence is the dominant mode.</p>
<blockquote>
<p>The dominant mode is dependent only on the relative sizing vector</p>
</blockquote>
<h3 id="maximum-oscillation-frequency">maximum oscillation
frequency</h3>
<p>The oscillation frequency of the dominant mode of any MPRO having any
arbitrary coupling structure and number of phases is <span
class="math display">\[
f_{n^*} = \frac {1}{2\pi}\frac {(a_0-1) \cdot \sum_{i=1}^{N}x_isin\left
( \frac {2\pi n^*(i-1)}{N} \right)}{(a_0\tau _p - \tau _o)\cdot
\sum_{i=1}^{N}-x_icos\left( \frac{2\pi n^*(i-1)}{N}+(\tau _o - \tau _p)
\right)}
\]</span> <img src="/2022/03/06/mpro/image-20220320172952925.png"
alt="image-20220320172952925" /></p>
<p>A <strong>linear increase</strong> in the maximum possible normalized
oscillation frequency as the number of stages increases <em>provided
that the dc gain of the buffer sufficient to provide the required
amplification</em></p>
<p><img src="/2022/03/06/mpro/image-20220320170324494.png"
alt="image-20220320170324494" /></p>
<p><img src="/2022/03/06/mpro/image-20220320170523390.png"
alt="image-20220320170523390" /></p>
<blockquote>
<p>assuming unlimited dc gain and zero mode gain margins</p>
</blockquote>
<h3 id="mode-stability">mode stability</h3>
<p>A common problem in MPRO design is the stability of the dominant
oscillation mode. Mode stability refers to whether the MPRO always
oscillates at the same mode regardless of the initial conditions of the
oscillator. This problem is especially pronounced for MPROs with a large
number of phases. This is due to the existence of many modes and the
very small differences in the value of the mode gain of adjacent modes
if the MPRO is not well designed.</p>
<blockquote>
<p>In general, when the mode gain difference between two modes is small,
the oscillator can operate in either one depending on initial
conditions.</p>
</blockquote>
<h3 id="coupling-configurations-and-simulation-results">coupling
configurations and simulation results</h3>
<p><img src="/2022/03/06/mpro/image-20220320165217231.png"
alt="image-20220320165217231" /></p>
<blockquote>
<p>Abou-El-Sonoun, A. A. (2012). High Frequency Multiphase Clock
Generation Using Multipath Oscillators and Applications. <em>UCLA</em>.
ProQuest ID: AbouElSonoun_ucla_0031D_10684. Merritt ID:
ark:/13030/m57p9288. Retrieved from
https://escholarship.org/uc/item/75g8j8jt</p>
</blockquote>
<h2 id="frequency-stability">frequency stability</h2>
<blockquote>
<p>A problem associated with the design of MPROs is the existence of
different possible modes of oscillation. Each of these modes is
characterized by a different frequency, phase shift and phase noise.</p>
</blockquote>
<h3 id="linear-delay-stage-model-mode-gain">Linear delay-stage model
(mode gain)</h3>
<p><strong>mode gain</strong> is based on the linear model, independent
of process but depends on coupling structure (coupling configuration,
size ratio).</p>
<p>The inverting buffer modeled as a linear transconductor. The
input-output relationship of a single buffer scaled by <span
class="math inline">\(h_i\)</span> and driving the input capacitance of
a similar buffer can be expressed as <span
class="math display">\[\begin{align}
h_ig_mv_{in}(t) + h_ig_oV_{out}(t)+h_iC_g\frac {dV_{out}(t)}{dt} &amp;=
0 \\
a_nV_{in}(t)+V_{out}(t)+\tau \frac {V_{out}(t)}{dt} &amp;= 0
\end{align}\]</span> where <span class="math inline">\(g_m\)</span> is
the transconductance, <span class="math inline">\(g_o\)</span> is the
output conductance, <span class="math inline">\(C_g\)</span> is the
buffer input capacitance which also acts as the load capacitance for the
driving buffer, and <span class="math inline">\(a_n = \frac
{g_m}{g_o}\)</span> is the <strong>linear dc gain</strong> of the
buffer, and <span class="math inline">\(\tau=\frac {C_g}{g_o}\)</span>
is a time constant.</p>
<p>Similarly, <span class="math inline">\(V_1\)</span>, the output of
the first stage in MPRO can be expressed <span class="math display">\[
\sum_{i=1}^{N}h_ig_mV_i(t)+\sum_{i=1}^{N}h_ig_oV_i(t)+\sum_{i=1}^{N}h_iC_g\frac
{dV_it(t)}{dt} = 0
\]</span> Defining the fractional sizing factors and the total sizing
factor as <span class="math inline">\(x_i=\frac{h_i}{H}\)</span> and
<span class="math inline">\(H=\sum_{i=1}^{N}h_i\)</span> <span
class="math display">\[
a_n\sum_{i=1}^{N}x_iV_i(t) + V_1(t)+\tau\frac {dV_i(t)}{dt} = 0
\]</span> where <span class="math inline">\(a_n = \frac
{g_m}{g_o}\)</span> and <span class="math inline">\(\tau=\frac
{C_g}{g_o}\)</span> are same dc gain and time constant defined
previously</p>
<p>Since the total phase shift around the loop should be multiples of
<span class="math inline">\(2\pi\)</span>, the oscillation waveform at
the <em>i</em>th node can be expressed as <span class="math display">\[
V_i(t) = V_o \cos(\omega_nt-\Delta \varphi \cdot i)
\]</span> where <span class="math inline">\(\omega_n\)</span> is the
oscillation frequency and <span class="math inline">\(\Delta \varphi =
\frac {2\pi n}{N}\)</span>, <span class="math inline">\(N\)</span> is
the number of stages in the oscillator and <span
class="math inline">\(n\)</span> can take values between <span
class="math inline">\(0\)</span> and <span
class="math inline">\(N-1\)</span></p>
<p>Plug <span class="math inline">\(V_i(t)\)</span> into differential
equation, we get <span class="math display">\[
a_n\sum_{i=1}^{N}x_i\cos(\omega_n t-\frac{2\pi n}{N}i)+\cos(\omega_n
t-\frac{2\pi n}{N}) - \omega_n \tau \sin(\omega_n t-\frac{2\pi n}{N}) =
0
\]</span> By equating the <span class="math inline">\(cos(\omega_n
t)\)</span> and <span class="math inline">\(sin(\omega_n t)\)</span>
terms of the above equation, we get expressions for <strong>the
oscillation frequency of the <em>n</em>th mode</strong> and <strong>the
minimum dc gain required for this mode to exist</strong>. we refer to
this gain as the <strong>mode gain</strong> <span
class="math display">\[\begin{align}
\omega_n\tau &amp;= \frac {\sum_{i=1}^{N}x_i \cdot \sin(\frac{2\pi
n}{N}(i-1))}{-\sum_{i=1}^{N}x_i \cdot \cos(\frac{2\pi n}{N}(i-1))} \\
a_n &amp;= \frac {1}{-\sum_{i=1}^{N}x_i \cdot \cos(\frac{2\pi
n}{N}(i-1))}
\end{align}\]</span> where <span class="math inline">\(a_n\)</span>
should be greater than <span class="math inline">\(0\)</span> for a
existent mode</p>
<p>In practice, the oscillator starts first from a linear mode of
operation where all the buffers are indeed acting as linear
transconductors. All oscillation modes that have mode gains <span
class="math inline">\(a_n\)</span> lower than the actual dc gain of the
inverter <span class="math inline">\(a_o\)</span> start to grow. As the
oscillation amplitude grows, the effective gain of the inverter drops
due to nonlinearity. Consequently, <em>modes with higher mode gain die
out and only the mode that requires the minimum gain continues to
oscillate and hence is the dominant mode</em></p>
<p>A. A. Hafez and C. K. Yang, "Design and Optimization of Multipath
Ring Oscillators," in IEEE Transactions on Circuits and Systems I:
Regular Papers, vol. 58, no. 10, pp. 2332-2345, Oct. 2011, doi:
10.1109/TCSI.2011.2142810.</p>
<h3 id="simulation-based-approach">Simulation-based approach</h3>
<p><strong>GCHECK</strong> is an automated verification tool that
validate whether a ring oscillator always converges to the desired mode
of operation regardless of <strong>the initial conditions</strong> and
<strong>variability conditions</strong>. This is the first tool ever
reported to address the global convergence failures in presence of
variability. It has been shown that the tool can successfully validate a
number of coupled ring oscillator circuits with various global
convergence failure modes (e.g. no oscillation, false oscillation, and
even chaotic oscillation) with reasonable computational costs such as
running 1000-point Monte-Carlo simulations for 7~60 initial conditions
(maximum 4 hours).</p>
<ul>
<li>The verification is performed using a <strong>predictive global
optimization algorithm</strong> that looks for a problematic initial
state from a discretized state space</li>
<li>despite the <strong>finite number of initial state
candidates</strong> considered and <strong>finite number of Monte-Carlo
samples</strong> to model variability, the proposed algorithm can verify
the oscillator to a prescribed confidence level</li>
</ul>
<p><img src="/2022/03/06/mpro/image-20220320183344877.png"
alt="image-20220320183344877" /></p>
<blockquote>
<ul>
<li>The observation that the responses of a circuit with nearby initial
conditions are strongly correlated with respect to common variability
conditions enables us to explore a <strong>discretized version</strong>
of the initial condition space instead of the continuous one.</li>
<li>the settling time increases as the initial state gets farther away
from the equilibrium state allowed us to use the settling time as a
guidance metric to find a problematic initial condition.</li>
</ul>
</blockquote>
<p><strong>Selecting the Next Initial Condition Candidate to
Evaluate</strong></p>
<p>To determine whether the algorithm should continue or terminate the
search for a new maximum, the algorithm estimates the probability of
finding a new <strong>initial condition with the longer settling
time</strong>, based on the information obtained with the
previously-evaluated initial conditions.</p>
<p><strong>GCHECK EXAMPLE</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python gcheck_osc.py input.scs</span><br></pre></td></tr></table></figure>
<p>output log:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Step 1/4: Simulating the setting-time distribution with the reference initial condition</span><br><span class="line">...</span><br><span class="line">Step 2/4: Simulating the setting-time distribution for randomly-selected initial probes</span><br><span class="line">...</span><br><span class="line">Step 3/4: Searching for Problematic Initial Conditions</span><br><span class="line">...</span><br><span class="line">Step 4/4: Reporting Verification Results and Statistics</span><br><span class="line">...</span><br></pre></td></tr></table></figure>
<p><img src="/2022/03/06/mpro/image-20220320201718018.png"
alt="image-20220320201718018" /></p>
<blockquote>
<p>T. Kim, D. -G. Song, S. Youn, J. Park, H. Park and J. Kim, "Verifying
start-up failures in coupled ring oscillators in presence of variability
using predictive global optimization," 2013 IEEE/ACM International
Conference on Computer-Aided Design (ICCAD), 2013, pp. 486-493, doi:
10.1109/ICCAD.2013.6691161.<a
target="_blank" rel="noopener" href="https://mics.snu.ac.kr/wiki/GCHECK">GCHECK: Global Convergence
Checker for Oscillators</a></p>
</blockquote>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/03/05/in-design-signoff-metalfill-innovus/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Guo">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="KNOW-HOW">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | KNOW-HOW">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2022/03/05/in-design-signoff-metalfill-innovus/" class="post-title-link" itemprop="url">In-design Sign-off Metal Fill Flow in Innovus</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2022-03-05 18:18:37" itemprop="dateCreated datePublished" datetime="2022-03-05T18:18:37+00:00">2022-03-05</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2024-08-26 05:39:01" itemprop="dateModified" datetime="2024-08-26T05:39:01+00:00">2024-08-26</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/innovus/" itemprop="url" rel="index"><span itemprop="name">innovus</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>Before inserting sign-off metal fill, stream out a GDSII stream file
of the current database. Specify the mapping file and units that match
with the rule deck you specify while inserting metal fill. If necessary,
include the detailed-cell (<code>-merge</code> option) Graphic Database
System (GDS).</p>
<p><strong>PVS:</strong></p>
<figure class="highlight tcl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">streamOut -merge <span class="variable">$GDSFile</span> -mode ALL -units <span class="variable">$GDSUNITS</span> -mapFile <span class="variable">$GDSMAP</span> -outputMacros pvs.fill.gds</span><br><span class="line">run_pvs_metal_fill -ruleFile <span class="variable">$DUMMYRULE</span> -defMapFile <span class="variable">$DEFMAP</span> -gdsFile pvs.fill.gds -cell [dbgDesignName]</span><br></pre></td></tr></table></figure>
<p><strong>Pegasus:</strong> <figure class="highlight tcl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">streamOut -merge <span class="variable">$GDSFile</span> -mode ALL -units <span class="variable">$GDSUNITS</span> -mapFile <span class="variable">$GDSMAP</span> -outputMacros pegasus.fill.gds</span><br><span class="line">run_pegasus_metal_fill -ruleFile <span class="variable">$DUMMYRULE</span> -defMapFile <span class="variable">$DEFMAP</span> -gdsFile pegasus.fill.gds -cell [dbgDesignName]</span><br></pre></td></tr></table></figure></p>
<blockquote>
<p>Just replace <code>run_pvs_metal_fill</code> with
<code>run_pegasus_metal_fill</code></p>
</blockquote>
<p><strong>Note</strong>: Innovus metal fill (e.g.
<code>addMetalFill</code>, <code>addViaFill</code>, etc.) does not
support 20nm and below node design rules. We strongly recommend the
Pegasus/PVS metal fill solution for 20nm and below. If you have sign-off
metal fill rule deck for 28nm and above available, we recommend you to
move to Pegasus/PVS solution too.</p>
<blockquote>
<ol type="1">
<li><p><code>trimMetalFillNearNet</code> does not check DRC rules. It
only removes the metal fill with specified spacing</p></li>
<li><p><strong>Do not</strong> perform ECO operations after dump in
sign-off metal fill (by <code>run_pvs_metal_fill</code> or
<code>run_pegasus_metal_fill</code>), especially, at 20nm and below
nodes.</p></li>
<li><p>If you perform an ECO action, the tool cannot get DRC clean
because <code>trimMetalFill</code> does not support 20nm and below node
design rules.</p></li>
<li><p>The sign-off metal fill typically does not cause DRC issues with
regular wires.</p></li>
</ol>
</blockquote>
<p>The <code>run_pvs_metal_fill</code> command does the following:</p>
<ul>
<li>Runs PVS with the fill rules to create a GDSII output file.</li>
<li>Converts the GDSII to a DEF format file based on the GDSII to DEF
layermap provided.</li>
<li><strong>Loads the resulting DEF file into Innovus</strong>.</li>
</ul>
<p>Pegasus is similar to PVS, shown as below,</p>
<p>The <code>run_pegasus_metal_fill</code> command does the
following:</p>
<ul>
<li>Runs Pegasus with the fill rules to create a GDSII output file.</li>
<li>Converts the GDSII to a DEF format file based on the GDSII to DEF
layermap provided.</li>
<li>Loads the resulting DEF file into Innovus.</li>
</ul>
<p><strong>Reference:</strong></p>
<p>Innovus User Guide, Product Version 21.12, Last Updated in November
2021</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/03/02/variation/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Guo">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="KNOW-HOW">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | KNOW-HOW">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2022/03/02/variation/" class="post-title-link" itemprop="url">Process Variation</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2022-03-02 00:05:56" itemprop="dateCreated datePublished" datetime="2022-03-02T00:05:56+00:00">2022-03-02</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2024-08-26 05:39:01" itemprop="dateModified" datetime="2024-08-26T05:39:01+00:00">2024-08-26</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/analog/" itemprop="url" rel="index"><span itemprop="name">analog</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h4 id="process-corners">Process Corners</h4>
<p><img src="/2022/03/02/variation/image-20220302000743092.png"
alt="image-20220302000743092" /></p>
<h4 id="globallocal-variation">Global/Local Variation</h4>
<p><img src="/2022/03/02/variation/image-20220302000808679.png"
alt="image-20220302000808679" /></p>
<h4 id="timing-and-rc-modeling-with-process-corners">Timing and RC
Modeling with Process Corners</h4>
<p><img src="/2022/03/02/variation/image-20220302000916728.png"
alt="image-20220302000916728" /></p>
<h4 id="global-and-local-variation-by-gaussian">Global and Local
variation by Gaussian</h4>
<p><img src="/2022/03/02/variation/image-20230111003336823.png"
alt="image-20230111003336823" /></p>
<blockquote>
<p>Local Monte-Carlo (<strong>SSG, FFG with Local Gaussian</strong>) as
Signoff golden</p>
</blockquote>
<p><img src="/2022/03/02/variation/image-20231215234014594.png"
alt="image-20231215234014594" /></p>
<h4 id="process-corner-model-limitations">Process Corner Model
Limitations</h4>
<p><img src="/2022/03/02/variation/image-20220323232119661.png"
alt="image-20220323232119661" /></p>
<p><img src="/2022/03/02/variation/image-20230111003705417.png"
alt="image-20230111003705417" /></p>
<p>Variation section</p>
<ul>
<li>Total corner (TT/SS/FF/SF/FS)
<ul>
<li>E.g. TTMacro_MOS_MOS_MOSCAP</li>
</ul></li>
<li>Global Corner (TTG/SSG/FFG/SFG/FSG) + Local MC
<ul>
<li>E.g. TTGlobalCorner_LocalMC_MOS_MOSCAP</li>
</ul></li>
<li>Local MC
<ul>
<li>E.g. LocalMCOnly_MOS_MOSCAP</li>
</ul></li>
<li>Global MC + Local MC (Total MC)
<ul>
<li>GlobalMC_LocalMC_MOS_MOSCAP</li>
</ul></li>
</ul>
<p><img src="/2022/03/02/variation/image-20230308003005235.png"
alt="image-20230308003005235" /></p>
<p><img src="/2022/03/02/variation/image-20230111010426775.png"
alt="image-20230111010426775" /></p>
<p><img
src="/2022/03/02/variation/Screen-Shot-2014-09-11-at-8.47.06-AM.png"
alt="img" /></p>
<p><img src="/2022/03/02/variation/image-20230111011757049.png"
alt="image-20230111011757049" /></p>
<blockquote>
<p><strong>SSGNP, FFGNP</strong>:</p>
<p>When N/P global correlation is weak (R^2=0.15), the corner of N/PMOS
balance circuit (e.g. inverter) can be tightened (<strong>3sigma -&gt;
2.5sgma</strong>) due to the <strong>cancellation</strong> between NMOS
and PMOS</p>
<p>SSGNP, FFGNP usually used in Digital STA</p>
</blockquote>
<blockquote>
<ul>
<li><strong>Global variation</strong> validation with <strong>global
corner</strong>
<ul>
<li><strong>3-sigma of global MC</strong> simulation is aligned with
<strong>global corner</strong></li>
</ul></li>
<li><strong>Total variation</strong> validation with <strong>total
corner</strong>
<ul>
<li><strong>3-sigma of global MC + local MC (total)</strong> simulation
is aligned with <strong>total corner</strong></li>
</ul></li>
</ul>
</blockquote>
<h4 id="global-corner">Global Corner</h4>
<blockquote>
<p><a
target="_blank" rel="noopener" href="https://community.cadence.com/cadence_technology_forums/f/custom-ic-design/20466/monte-carlo-simulation-global-local-vs-local-and-process-vs-mismatch/1365101#1365101">https://community.cadence.com/cadence_technology_forums/f/custom-ic-design/20466/monte-carlo-simulation-global-local-vs-local-and-process-vs-mismatch/1365101#1365101</a></p>
<p>The <strong>"total corner"</strong> is representative of the maximum
device parameter variation including local device variation effects.
However, it is not a statistical corner.</p>
<p>The <strong>"global" corner</strong> is defined as the
<strong>"total" corner minus the impact of "local
variation"</strong></p>
<p>Hence, if you were to examine simulation results for a parameter
using a "total" and "global" corner, you would find the range of
variation will be less with the "global" corner than with the "total"
corner.</p>
<p>The "global" corner is provided for use in <strong>statistical
simulations</strong>. Hence, when performing a Monte-Carlo simulation,
the "global" corner is selected - NOT the "total" corner.</p>
</blockquote>
<p><img src="/2022/03/02/variation/image-20230511234313012.png"
alt="image-20230511234313012" /></p>
<p><span class="math display">\[
\Delta V_{T,\sigma_{total}} = \sqrt{\Delta^2 _{T,
\sigma_{global}}+\Delta^2 _{T, \sigma_{local}}}
\]</span></p>
<h4 id="reference">reference</h4>
<p>Eric J.-W. Fang, T5: Fundamentals of Process Monitors for
Signoff-Oriented Circuit Design, 2022 IEEE International Solid-State
Circuits Conference</p>
<p>Alvin Loke, Device and Physical Design Considerations for Circuits in
FinFET Technology, ISSCC 2020 Short Course</p>
<p>簡報 Cln16ffcll Sr V1d0 2p1 Usage Guide URL: <a
target="_blank" rel="noopener" href="https://usermanual.wiki/Document/cln16ffcllsrv1d02p1usageguide.1649731847/view">https://usermanual.wiki/Document/cln16ffcllsrv1d02p1usageguide.1649731847/view</a></p>
<p>Radojcic, Riko, Dan Perry and Mark Nakamoto. “Design for
manufacturability for fabless manufactuers.” <em>IEEE Solid-State
Circuits Magazine</em> 1 (2009): n. pag.</p>
<p>How To Reduce Implementation Headaches In FinFET Processes URL: <a
target="_blank" rel="noopener" href="https://semiengineering.com/how-to-reduce-implementation-headaches-in-finfet-processes/">https://semiengineering.com/how-to-reduce-implementation-headaches-in-finfet-processes/</a></p>
<p>陌上风骑驴看IC, STA | SSGNP, FFGNP. <a
target="_blank" rel="noopener" href="https://mp.weixin.qq.com/s/eJ8fYRJBR1E9XbfH95OUOg">https://mp.weixin.qq.com/s/eJ8fYRJBR1E9XbfH95OUOg</a></p>
<p>陌上风骑驴看IC, STA | ssg 跟ss corner 的区别——谬误更正版 <a
target="_blank" rel="noopener" href="https://mp.weixin.qq.com/s?__biz=MzUzODczODg2NQ==&amp;mid=2247486225&amp;idx=1&amp;sn=e9c68f6108ae6c9958d47ca0b29373ca&amp;chksm=fad262cfcda5ebd949cc91353c7cbfaf4ba61179306f7d8e98461a4f4ca9d8a9baef5e9f2cc1&amp;scene=178&amp;cur_album_id=1326356275000705025#rd">https://mp.weixin.qq.com/s?__biz=MzUzODczODg2NQ==&amp;mid=2247486225&amp;idx=1&amp;sn=e9c68f6108ae6c9958d47ca0b29373ca&amp;chksm=fad262cfcda5ebd949cc91353c7cbfaf4ba61179306f7d8e98461a4f4ca9d8a9baef5e9f2cc1&amp;scene=178&amp;cur_album_id=1326356275000705025#rd</a></p>
<p>The Evolution, Pitfalls, and Cargo Cult Engineering of Advanced
Digital Timing Sign-off <a
target="_blank" rel="noopener" href="https://www.tauworkshop.com/2021/speaker_slides/christian_l.pdf">https://www.tauworkshop.com/2021/speaker_slides/christian_l.pdf</a></p>
<p>Don O'Riordan Cadence Design Systems. Recommended Spectre Monte Carlo
modeling methodology [<a
target="_blank" rel="noopener" href="https://designers-guide.org/modeling/montecarlo.pdf">https://designers-guide.org/modeling/montecarlo.pdf</a>]</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/03/01/multicycle-paths/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Guo">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="KNOW-HOW">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | KNOW-HOW">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2022/03/01/multicycle-paths/" class="post-title-link" itemprop="url">Multicycle Paths Constraints in PrimeTime</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2022-03-01 21:44:30" itemprop="dateCreated datePublished" datetime="2022-03-01T21:44:30+00:00">2022-03-01</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2024-08-26 05:39:01" itemprop="dateModified" datetime="2024-08-26T05:39:01+00:00">2024-08-26</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/digital/" itemprop="url" rel="index"><span itemprop="name">digital</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>PrimeTime <em>does not</em> automatically identifies multicycle
paths.</p>
<h4 id="specifying-multicycle-path-for-setup">specifying multicycle path
for setup</h4>
<figure class="highlight tcl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">set_multicycle_path <span class="number">6</span> -from reg[<span class="number">26</span>]/CP -to reg/D</span><br><span class="line"><span class="comment"># or</span></span><br><span class="line">set_multicycle_path -setup <span class="number">6</span> -from reg[<span class="number">26</span>]/CP -to reg/D</span><br><span class="line"><span class="comment"># check the exception</span></span><br><span class="line">report_exception</span><br></pre></td></tr></table></figure>
<h4
id="specifying-multicycle-path-for-hold-new-data-every-6-cycles">specifying
multicycle path for hold (new data every 6 cycles)</h4>
<figure class="highlight tcl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">set_multicycle_path -setup <span class="number">6</span> -to [get_pins <span class="string">&quot;*reg[*]/D&quot;</span>]</span><br><span class="line">set_multicycle_path -hold [<span class="keyword">expr</span> <span class="number">6</span><span class="number">-1</span>] -to [get_pins <span class="string">&quot;*reg[*]/D&quot;</span>]</span><br></pre></td></tr></table></figure>
<p><img src="/2022/03/01/multicycle-paths/image-20220301215938296.png"
alt="image-20220301215938296" /></p>
<p>M<sub>H</sub> stands for Hold Multiplier, M<sub>S</sub> for Setup
Multiplier. The Setup multiplier counts up with increasing clock cycles,
the Hold Multiplier counts up with decreasing cycles. The origin (0) for
the Hold Multiplier is always at the <code>Setup Multiplier - 1</code>
position.</p>
<h4 id="reporting-a-multicycle-path-with-report_timing">Reporting a
multicycle path with report_timing</h4>
<figure class="highlight tcl"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">report_timing -exceptions all -from *reg[<span class="number">26</span>]/CP -to *reg/D</span><br></pre></td></tr></table></figure>
<h4 id="timing-exceptions">Timing Exceptions</h4>
<p>If certain paths are <strong>not</strong> intended to operate
according to <em>the default setup and hold behavior assumed by the
PrimeTime tool</em>, you need to specify those paths as timing
exceptions. Otherwise, the tool might incorrectly report those paths as
having timing violations.</p>
<p>The PrimeTime tool lets you specify the following types of
exceptions:</p>
<ul>
<li>False path – A path that is never sensitized due to the logic
configuration, expected data sequence, or operating mode.</li>
<li>Multicycle path – A path designed to take more than one clock cycle
from launch to capture.</li>
<li>Minimum or maximum delay path – A path that must meet a delay
constraint that you explicitly specify as a time value.</li>
</ul>
<h4 id="ref">REF</h4>
<p>PrimeTime® User Guide Version O-2018.06-SP4 Chapter 1: Introduction
to PrimeTime Overview of Static Timing Analysis - Timing Exceptions</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/03/01/clock-edges-used-for-setup-and-hold-primetime/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Guo">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="KNOW-HOW">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | KNOW-HOW">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2022/03/01/clock-edges-used-for-setup-and-hold-primetime/" class="post-title-link" itemprop="url">Clock Edges used for Setup and Hold in PrimeTime</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2022-03-01 20:21:58" itemprop="dateCreated datePublished" datetime="2022-03-01T20:21:58+00:00">2022-03-01</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2024-08-26 05:39:01" itemprop="dateModified" datetime="2024-08-26T05:39:01+00:00">2024-08-26</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/digital/" itemprop="url" rel="index"><span itemprop="name">digital</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>PT picks the most restrictive pair of edges for setup and for hold.
It determines which edges to be used as follows:</p>
<ol type="1">
<li><p>Evaluate waveforms over the smallest common base period</p></li>
<li><p>For each capture edge, find the closest setup launch edge. Call
these the <strong>primary pairs</strong></p></li>
<li><p>Out of the <strong>primary pairs</strong>, pick the most
restrictive setup launch and capture edges.</p></li>
<li><p>For each <strong>primary pair</strong>, draw two hold
relationships:</p>
<ul>
<li><p>Launch to (capture - 1)</p></li>
<li><p>(Launch + 1) to Capture</p>
<p>From all of these hold relationships, pick the most
restrictive.</p></li>
</ul></li>
</ol>
<p>PrimeTime uses the ideal clock waveform (as reported in
<code>report_clock</code>) to determine the appropriate clock edges for
inter-clock analysis.</p>
<p><img
src="/2022/03/01/clock-edges-used-for-setup-and-hold-primetime/image-20220301203135490.png"
alt="image-20220301203135490" /></p>
<blockquote>
<p>The most restrictive setup pair is from Clk1 8ns to Clk2 9ns</p>
<p>The most restrictive hold pair is from Clk1 0ns to Clk2 0ns</p>
</blockquote>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/03/01/clocks-sta/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Guo">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="KNOW-HOW">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | KNOW-HOW">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2022/03/01/clocks-sta/" class="post-title-link" itemprop="url">primary clock, generated clock and virtual clock in SDC</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2022-03-01 19:15:43" itemprop="dateCreated datePublished" datetime="2022-03-01T19:15:43+00:00">2022-03-01</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2024-08-26 05:39:01" itemprop="dateModified" datetime="2024-08-26T05:39:01+00:00">2024-08-26</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/digital/" itemprop="url" rel="index"><span itemprop="name">digital</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p><strong>primary clocks</strong></p>
<ul>
<li>Primary clocks should be created at input ports and output pins of
black boxes.</li>
<li>Never create clocks on hierarchy pins. Creating clocks on hierarchy
will cause problems when reading SDF. The net timing arc becomes
segmented at the hierarchy and PrimeTime will be unable to annotate the
net successfully.</li>
</ul>
<p><strong>generated clocks</strong></p>
<ul>
<li>Generated clocks are generally created for waveform modifications of
a primary clock (not including simple inversions). PrimeTime does not
simulate a design and thus will <strong>not</strong> derive internally
generated clocks automatically - these clocks must be created by the
user and applied as a constraint.</li>
<li>PrimeTime caculate source latency for generated clocks if primary
clock is <strong>propagated</strong>, otherwise its source latency is
zero.</li>
</ul>
<figure class="highlight tcl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># primary clock</span></span><br><span class="line">create_clock -period <span class="number">4</span> [get_ports Clk]</span><br><span class="line">set_clock_latency -<span class="keyword">source</span> <span class="number">2</span> [get_clocks Clk]</span><br><span class="line">set_propagated_clock [get_clocks Clk]</span><br><span class="line">create_generated_clock -divide_by <span class="number">2</span> -name div_clk -<span class="keyword">source</span> [get_ports Clk] FF3/Q</span><br></pre></td></tr></table></figure>
<p><strong>virtual clocks</strong></p>
<ul>
<li>Are clock objects without a source</li>
<li>Do not clock sequential devices within the current_design</li>
<li>Serve as references of input or output delays</li>
</ul>
<figure class="highlight tcl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># create a virtual clock, vclk, for input and output delay constraints</span></span><br><span class="line">create_clock -period <span class="number">5</span> -name vclk</span><br><span class="line">set_input_delay -max <span class="number">2</span> -<span class="keyword">clock</span> vclk [get_ports in1]</span><br><span class="line">set_output_delay -max <span class="number">1</span> -<span class="keyword">clock</span> vclk [get_ports out2]</span><br></pre></td></tr></table></figure>
<blockquote>
<p>There is <strong>no</strong> network latency to calculate, even if a
virtual clock is propagated.</p>
</blockquote>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/02/23/Global-Handles-UVM/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Guo">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="KNOW-HOW">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | KNOW-HOW">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2022/02/23/Global-Handles-UVM/" class="post-title-link" itemprop="url">Global Handles in UVM</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2022-02-23 22:33:05" itemprop="dateCreated datePublished" datetime="2022-02-23T22:33:05+00:00">2022-02-23</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2024-08-26 05:39:00" itemprop="dateModified" datetime="2024-08-26T05:39:00+00:00">2024-08-26</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/digital/" itemprop="url" rel="index"><span itemprop="name">digital</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h4 id="mechanism-in-uvm-1.1">Mechanism in UVM-1.1</h4>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="keyword">void</span> test_base::start_of_simulation_phase(uvm_phase phase);</span><br><span class="line">	<span class="keyword">super</span><span class="variable">.start_of_simulation_phase</span>(phase);</span><br><span class="line">	uvm_top<span class="variable">.print_topology</span>(); <span class="comment">// Will not compile in UVM-1.2</span></span><br><span class="line">	factory<span class="variable">.print</span>(); <span class="comment">// Will not compile in UVM-1.2</span></span><br><span class="line"><span class="keyword">endfunction</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>Global handles uvm_top and factory in uvm_pkg have been removed in
UVM-1.2 and later</p>
</blockquote>
<h4 id="mechanism-in-uvm-1.1-and-uvm-1.2">Mechanism in UVM-1.1 and
UVM-1.2</h4>
<p>Call the <strong>get() method of the class</strong> to retrieve the
singleton handle.</p>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="keyword">void</span> test_base::start_of_simulation_phase(uvm_phase phase);</span><br><span class="line">	<span class="keyword">super</span><span class="variable">.start_of_simulation_phase</span>(phase);</span><br><span class="line">	uvm_root::get()<span class="variable">.print_topology</span>(); <span class="comment">// Works in UVM-1.1 &amp; UVM-1.2</span></span><br><span class="line">	uvm_factory::get()<span class="variable">.print</span>(); <span class="comment">// Works in UVM-1.1 &amp; UVM-1.2</span></span><br><span class="line"><span class="keyword">endfunction</span></span><br></pre></td></tr></table></figure>
<h4 id="mechanism-only-in-uvm-1.2">Mechanism Only in UVM-1.2</h4>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="keyword">void</span> test_base::start_of_simulation_phase(uvm_phase phase);</span><br><span class="line">	uvm_coreservice_t cs = uvm_coreservice_t::get();</span><br><span class="line">	cs<span class="variable">.get_root</span>()<span class="variable">.print_topology</span>();</span><br><span class="line">	cs<span class="variable">.get_factory</span>()<span class="variable">.print</span>();</span><br><span class="line"><span class="keyword">endfunction</span></span><br></pre></td></tr></table></figure>
<p><strong>uvm_coreservice_t</strong> is the uvm-1.2 mechanism for
accessing all the central UVM services such as
<strong>uvm_root</strong>,<strong>uvm_factory</strong>,
<strong>uvm_report_server</strong>, etc.</p>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Using the uvm_coreservice_t:</span></span><br><span class="line">uvm_coreservice_t cs;</span><br><span class="line">uvm_factory f;</span><br><span class="line">uvm_root top;</span><br><span class="line">cs = uvm_coreservice_t::get();</span><br><span class="line">f = cs<span class="variable">.get_factory</span>();</span><br><span class="line">top = cs<span class="variable">.get_root</span>();</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/02/23/emir-voltus-fi/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Guo">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="KNOW-HOW">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | KNOW-HOW">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2022/02/23/emir-voltus-fi/" class="post-title-link" itemprop="url">EMIR via Voltus-Fi</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2022-02-23 13:39:30" itemprop="dateCreated datePublished" datetime="2022-02-23T13:39:30+00:00">2022-02-23</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2024-08-26 05:39:01" itemprop="dateModified" datetime="2024-08-26T05:39:01+00:00">2024-08-26</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/cad/" itemprop="url" rel="index"><span itemprop="name">cad</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="general-terminology">general terminology</h2>
<h3 id="dc-related">DC related</h3>
<p><strong>Imax</strong> in T*'s DRC document is the maximum allowed
<strong>DC current</strong>, which depends on <em>Length and Width</em>
only</p>
<p><strong>Iavg</strong> is the average value of the current, which is
the effective <em>DC current</em>. Therefore, <strong>Iavg
rules</strong> are <strong>identical</strong> to <strong>Imax</strong>
rules <span class="math display">\[
I_{\text{avg}}=\frac{\int_0^\tau I(t)dt}{\tau}
\]</span> Similarly, <strong>Iabsavg rules</strong> are
<strong>identical</strong> to <strong>Imax</strong> rules, too <span
class="math display">\[
I_{\text{AbsAvg}}=\frac{\int_0^\tau |I(t)|dt}{\tau}
\]</span></p>
<h3 id="rms">rms</h3>
<p><strong>Irms</strong> is the root-mean-square of the current through
a metal line, which depends <strong>w(in um)</strong>, the <em>drawn
width</em> of the metal line and <span class="math inline">\(\Delta
T\)</span>, the temperature rise due to Joule heating. <span
class="math display">\[
I_{\text{rms}}=\left[\frac{\int_0^\tau I(t)^2dt}{\tau} \right]^{1/2}
\]</span></p>
<h3 id="peak-current">peak current</h3>
<p><strong>Ipeak</strong> in T*'s DRC document is the current at which a
metal line undergoes excessive Joule heating and can begin to melt.
<strong>Ipeak</strong> is corresponding to
<code>EM Current Analysis: max</code> in Voltus-Fi Analysis Setup <span
class="math display">\[
I_{\text{peak}}=\max(|I(t)|)
\]</span> The limit for the peak current is <span
class="math display">\[
I_{\text{peak,limit}}=\frac{I_{\text{peak\_DC}}}{\sqrt{r
} }
\]</span> where <strong>r</strong> is the duty ratio</p>
<p>The relationship between <strong>Ipeak</strong> and
<strong>Ipeak_DC</strong> is merged in DRC document so that there is
only <strong>Ipeak</strong> equation in document</p>
<blockquote>
<p><span class="math inline">\(I_{\text{peak,limit}}\)</span> depends on
<span class="math inline">\(t_D\)</span>, r, width and length</p>
</blockquote>
<p><span class="math display">\[
r=\frac{t_D}{\tau}
\]</span></p>
<p>where <span class="math inline">\(t_D\)</span> is equivalent duration
<span class="math display">\[
t_D =\frac{\int_0^\tau |I(t)|dt}{I_{\text{peak}}}
\]</span> or <span class="math display">\[
r=\frac{I_{\text{AbsAvg}}}{I_{\text{peak}}}
\]</span> <img
src="/2022/02/23/emir-voltus-fi/image-20220729023550943.png"
alt="image-20220729023550943" /></p>
<p>where the drawn width is 1um, r is 0.1</p>
<p><img src="/2022/02/23/emir-voltus-fi/image-20220729023722754.png"
alt="image-20220729023722754" /></p>
<p><img src="/2022/02/23/emir-voltus-fi/image-20220729023319156.png"
alt="image-20220729023319156" /> <span class="math display">\[
9.37*(1-0.004)/\sqrt0.1 = 29.512
\]</span></p>
<h3 id="acpeakpwc">acpeak/pwc</h3>
<p>It's same with <strong>max</strong> EM Current Analysis in
Voltus-Fi</p>
<h3 id="dynamicacpeak"><code>dynamicACPeak</code></h3>
<p><img src="/2022/02/23/emir-voltus-fi/image-20220729023154009.png"
alt="image-20220729023154009" /></p>
<p>This option affect how duty ratio r is computed in <code>max</code>
and <code>acpeak/pwc</code> EM current Analysis</p>
<p>When the <code>dynamicACPeak</code> variable is set to
<strong>true</strong> or <strong>multiPeak</strong> <span
class="math display">\[
r=\frac{T_d}{T_{\text{total}}}
\]</span></p>
<p>​ where <span class="math inline">\(T_{\text{total}} = \text{EMIR
time window}\)</span></p>
<p>​ <span class="math inline">\(T_d\)</span> = the time duration in
microsecond of the total "On Time" period based on <code>IPWC</code></p>
<blockquote>
<p>Pulse-Wise Constant EM current calculation (IPWC)</p>
</blockquote>
<p><img src="/2022/02/23/emir-voltus-fi/image-20220729032235649.png"
alt="image-20220729032235649" /></p>
<p>where <strong>Tau</strong> is <span
class="math inline">\(T_d\)</span> in above formula</p>
<blockquote>
<p>!!! It seems that t*'s PDK don't support
<code>dynamicACPeak=true</code></p>
</blockquote>
<h2 id="ir-drop-filter-layers">IR drop filter layers</h2>
<p>EM techfile (qrcTechFile) may take diffusion contact
(<em>n_odtap</em>, <em>p_odtap</em> in DSPF file) into account during IR
drop analysis. And these segment often dominate IR drop, but we as IC
designer can NOT improve them. In general, the IR drop to M1 layer is
enough and feasible.</p>
<h2 id="regular-analysis-statements-in-emir-configuration">Regular
analysis statements in emir configuration</h2>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">net name=[I0.vdd I0.vss] analysis=[vmax vavg]</span><br><span class="line">net name=[I0.*] analysis =[imax ivavg irms]</span><br></pre></td></tr></table></figure>
<h2 id="emirreport-command">emirreport command</h2>
<p>Creating reports for specific nets after simulation using
<code>emirreport</code></p>
<p>Create a new config file as shown below:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">** test.conf**</span><br><span class="line">net name=[I1.VDD I1.VSS] analysis=[iavg]</span><br><span class="line">net name=[I1.VBIAS] analysis=[imax]</span><br></pre></td></tr></table></figure>
<p>Run <code>emirreport</code> on the command line using the
<strong>emirdatabase</strong> (emir*.bin) and <strong>test.conf</strong>
created above in</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">% emirreport -64 -c test.conf -db &lt;emirdatabase&gt; -outdir newreport</span><br></pre></td></tr></table></figure>
<h2 id="database">database</h2>
<h3 id="simulation-result">simulation result</h3>
<ul>
<li><code>input.emir0_bin</code>: The first EMIR Analysis which is DC or
Transient, which depends on <em>Analyses</em> order</li>
</ul>
<blockquote>
<ul>
<li><p><code>input_tran.emir0_bin</code>: EMIR Analysis in Transient
simulation</p></li>
<li><p><code>input_dcOp.emir0_bin</code>: EMIR Analysis in DC
simulation</p></li>
</ul>
</blockquote>
<p>For example</p>
<p><img src="/2022/02/23/emir-voltus-fi/image-20220421203011393.png"
alt="image-20220421203011393" /></p>
<p>Two results are generated <code>input.emir0_bin</code> and
<code>input_dcOp.emir0_bin</code> and their reports respectly</p>
<p><img src="/2022/02/23/emir-voltus-fi/image-20220421203657123.png"
alt="image-20220421203657123" /></p>
<p><img src="/2022/02/23/emir-voltus-fi/image-20220421203554147.png"
alt="image-20220421203554147" /></p>
<h2 id="fix-electromigration">Fix Electromigration</h2>
<table>
<thead>
<tr class="header">
<th>Type</th>
<th>wider wire</th>
<th>downsize drivers</th>
<th>decrease fanout</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>RJ JMAX</td>
<td></td>
<td>✓</td>
<td>✓</td>
</tr>
<tr class="even">
<td>JAVG</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td>JABSAVG</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td>JACPEAK</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td>JACRMS</td>
<td>✓</td>
<td>✓</td>
<td>✓</td>
</tr>
</tbody>
</table>
<blockquote>
<ul>
<li><p>Iavg</p>
<p>The average value of the current, which is the effective DC
current</p></li>
<li><p>Irms</p>
<p>Irms rule relates to the heat or Joule-heating of metal
lines</p></li>
<li><p>Ipeak</p>
<p>The main goal of the Ipeak limits is to ensure that no thermal
breakdown could occur on single overshoot events. If the signal may not
have a high current density but if it has a very large peak current
density, then, local melting will happen and cause failures</p></li>
</ul>
</blockquote>
<p><img src="/2022/02/23/emir-voltus-fi/image-20220503205418275.png"
alt="image-20220503205418275" /></p>
<h2 id="qa">QA</h2>
<ol type="1">
<li><p>Q. Why “length” column in EM results form doesn’t show extracted
length, it shows “NA”.</p>
<p>A. Voltus-Fi reports the “length” column only when length rules are
present in the emDataFile.</p></li>
<li><p>Seeing different port currents with and without emir simulations
for same dspf included in EMIR Direct method using dspf_include.</p>
<p>Split Pins (*|P) in DSPF are only shorted in the EMIR flow not in the
regular spectre flow. Islands patching is only performed in EMIR
only</p></li>
<li><p>Setting temperature for EM analysis</p></li>
</ol>
<p>By Default, Voltus-FI and VPS pick up the current density limit for
<strong>temperature at which simulation has been performed</strong>.</p>
<blockquote>
<p>By the way, <code>Design Variables</code> - <em>temperature</em> will
override the temperature in <em>Setup toolbar</em> which is gray in ADE
Explorer</p>
</blockquote>
<p><img src="/2022/02/23/emir-voltus-fi/image-20220421184141363.png"
alt="image-20220421184141363" /></p>
<ol start="4" type="1">
<li><p>AC Peak EM analysis - Voltus-Fi</p>
<p>The available options within the EM current analysis section in the
EMIR Analysis Setup form are:</p>
<p><code>max / avg / avgabs / rms.</code></p>
<p>In order to enable the <em>AC Peak based information</em> when
loading the EM results, <strong>both max and avg</strong> should be
selected when setting up the EMIR Analysis Setup.</p>
<p>With this configuration, the AC Peak option becomes available and can
be used.</p></li>
<li><p>How to print average, rms, and peak current of <strong>device
tap</strong> in Spectre/Voltus FI EMIR analysis</p>
<p>The following option enables you to save the average, rms, and peak
tap currents in the <strong>emir0bin</strong> file and report it in the
<strong>input.rpt_tapi</strong> file.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">solver report_tapi=true</span><br></pre></td></tr></table></figure>
<p>Add this option in <strong>emir.conf</strong> to enable the reporting
of tap current after the Spectre EMIR simulation. The input.rpt_tapi
file will be saved in the psf/raw directory.</p>
<p><strong>Note:</strong> This feature is supported in SPECTRE20.1 ISR14
and later versions.</p></li>
<li><p>emir.conf file</p>
<p><code>emir.conf</code> file is generated automaticaly after configure
<em>EM/IR Analysis</em> in ADE, which is in <em>netlist</em>
directory.</p>
<p><img src="/2022/02/23/emir-voltus-fi/image-20220421182327011.png"
alt="image-20220421182327011" /></p></li>
<li><p>Setting default path for EM rules file in APS EMIR analysis</p>
<ul>
<li><p>set the following environment variable in your terminal</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">setenv EMDATAFILE &lt; path to EM rules file&gt;</span><br></pre></td></tr></table></figure></li>
<li><p>or set in <code>.cdsinit</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">setShellEnvVar(&quot;EMDATAFILE=&lt;path to EM rules file&gt;&quot;)</span><br></pre></td></tr></table></figure></li>
</ul></li>
<li><p>Print node names and length associated with parasitic resistors
in EM report file</p>
<blockquote>
<p><code>export CDS_MMSIM_VOLTUSFI_ROOT=$CDSHOME</code></p>
</blockquote>
<ul>
<li><p>Printing the parasitic resistor length in the EM report</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">emirutil reportLength=true</span><br></pre></td></tr></table></figure></li>
<li><p>Printing nodes that are associated with the parasitic
resistor</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">emirutil reportNodeName=true</span><br></pre></td></tr></table></figure>
<p>Once these are enabled, you will have the <strong>Length</strong>,
<strong>Node_1</strong>, and <strong>Node_2</strong> columns printed in
the EM report file, as shown below:</p>
<p><img src="/2022/02/23/emir-voltus-fi/servlet.jpeg"
alt="servlet" /></p></li>
</ul></li>
<li><p>Is it possible to run RMS IR Drop analysis using Voltus-Fi?</p>
<p>Typically, in a simulation, Power/Ground nets are always biased with
a <strong>constant DC source</strong>. Hence, at present, Voltus-Fi only
supports <strong>Average and Maximum (Peak) IR Drop</strong>
analysis.</p>
<p>For a net to have data for IR analysis(vmax/vavg), the net/node must
be connected to a <strong>DC vsource or a vsource which is constant
within the emir time window</strong>.</p></li>
<li><p>Can we change the time window of EM computation after the
simulation completed ?</p>
<p>It is not possible to modify the EM time window without re-running
the full simulation.</p>
<p>However you can specify several time window in the emir conf file for
instance for 2 time window [0 to 10n] and [10n 20n]</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">time window=[0 10n 10n 20n]</span><br></pre></td></tr></table></figure>
<p>In that case it will create 2 <strong>emir_bin</strong> files and
then 2 different em report files according to the 2 different time
windows.</p></li>
<li><p>How to print segment_W values being used to compute EM limits</p>
<p>You can use the following option to print <code>segment_W</code> to
the report:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">emirutil reportSegmentWidth=[true]</span><br></pre></td></tr></table></figure>
<p>This would print a <code>Segment_w</code> column in the report
containing the segment width values used for computing the limit:</p>
<table>
<colgroup>
<col style="width: 7%" />
<col style="width: 5%" />
<col style="width: 3%" />
<col style="width: 7%" />
<col style="width: 3%" />
<col style="width: 6%" />
<col style="width: 4%" />
<col style="width: 3%" />
<col style="width: 4%" />
<col style="width: 3%" />
<col style="width: 4%" />
<col style="width: 7%" />
<col style="width: 4%" />
<col style="width: 4%" />
<col style="width: 11%" />
<col style="width: 6%" />
<col style="width: 6%" />
<col style="width: 6%" />
</colgroup>
<thead>
<tr class="header">
<th>Pass/Fail %</th>
<th>Resistor</th>
<th>layer</th>
<th>Current</th>
<th>Width</th>
<th>PathLength</th>
<th>I limit</th>
<th>X1</th>
<th>Y1</th>
<th>X2</th>
<th>Y2</th>
<th>J/JMAX</th>
<th>Res</th>
<th>ViaArea</th>
<th>No of needed vias</th>
<th>width/#via</th>
<th>J limit</th>
<th>Segment_w</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td></td>
<td></td>
<td></td>
<td>(mA)</td>
<td>(um)</td>
<td>(um)</td>
<td></td>
<td>(um)</td>
<td>(um)</td>
<td>(um)</td>
<td>(um)</td>
<td></td>
<td></td>
<td>(nm^2)</td>
<td></td>
<td>(um/#)</td>
<td>(A/um)</td>
<td></td>
</tr>
<tr class="even">
<td>pass-100.0</td>
<td>Rj3292</td>
<td>Met1</td>
<td>9.02376e-12</td>
<td>0.1</td>
<td>42.72</td>
<td>1.10067</td>
<td>0.350</td>
<td>11.568</td>
<td>0.350</td>
<td>11.376</td>
<td>8.19843e-12</td>
<td>0.7382</td>
<td>NA</td>
<td>NA</td>
<td>0.0001</td>
<td>0.0110067</td>
<td>0.1</td>
</tr>
</tbody>
</table></li>
<li><p>pathLength vs Length in EM report file</p>
<ul>
<li><p>Length: parasitic resistor length, which is set by
<code>emirutil reportLength=true</code></p></li>
<li><p>pathlength: Blech length is also known as "Short length" or "Path
length", and can be explained as : The <strong>longest and continuous
centerline path from edge to edge</strong> among the connected wire
shapes on the <strong>same metal layer</strong>.</p>
<ul>
<li>For all resistors falling on this shape, <strong>same
pathLength</strong> is reported.</li>
<li>After the longest path in shape has been determined the tool applies
the same blech length to all the resistor falling on that shape.</li>
<li>This resistor length is <strong>NOT</strong> used in EM analysis
because EM rules consider Blech length of the resistor.</li>
</ul>
<p><img src="/2022/02/23/emir-voltus-fi/image-20220421001806689.png"
alt="image-20220421001806689" /></p>
<blockquote>
<p>where W is the wire width and L is the Blech length.</p>
</blockquote>
<ul>
<li><p>By default the tool will <strong>sum all branches of a given
metal layer</strong>. In other words the path length that will be used
to look up the EM density limit is :</p>
<p>Bl = $l(R1) + $l(R2) + $l(R3) + $l(R4) + $l(R5) + $l(R6) + $l(R7) +
$l(R8)</p>
<p><img src="/2022/02/23/emir-voltus-fi/servlet-16504730496591.jpeg"
alt="servlet" /></p></li>
</ul></li>
</ul></li>
<li><p>How to enable EMIR analysis in PSS simualtion ?</p>
<p>To enable EMIR in PSS, you have to enable DC and/or Tran simulation
simultaneously. Two or more binary results file should be generated and
select the file based file name or configure text file in
<code>psf</code> directory.</p>
<p>(given ICADVM 18.1 ISR11, Spectre 19.1 ISR6)</p></li>
</ol>
<h2 id="reference">reference</h2>
<p>AC Peak Analysis Using IPWC Rapid Adoption Kit (RAK) Product Version:
IC6.1.8 ISR10, SPECTRE19.1 ISR5 April 2020</p>
<p>Posser, Gracieli &amp; Sapatnekar, Sachin &amp; Reis, Ricardo.
(2017). Electromigration Inside Logic Cells.
10.1007/978-3-319-48899-8.</p>
<p>A. B. Kahng, S. Nath and T. S. Rosing, "On potential design impacts
of electromigration awareness," 2013 18th Asia and South Pacific Design
Automation Conference (ASP-DAC), 2013, pp. 527-532, doi:
10.1109/ASPDAC.2013.6509650.</p>
<p>Kumar, Neeraj and Mohammad S. Hashmi. “Study, analysis and modeling
of electromigration in SRAMs.” (2014).</p>
<p>N. S. Nagaraj, F. Cano, H. Haznedar and D. Young, "A practical
approach to static signal electromigration analysis," Proceedings 1998
Design and Automation Conference. 35th DAC. (Cat. No.98CH36175), 1998,
pp. 572-577, doi: 10.1109/DAC.1998.724536.</p>
<p>Blaauw, David &amp; Oh, Chanhee &amp; Zolotov, Vladimir &amp;
Dasgupta, Aurobindo. (2003). Static electromigration analysis for
on-chip signal interconnects. Computer-Aided Design of Integrated
Circuits and Systems, IEEE Transactions on. 22. 39 - 48.
10.1109/TCAD.2002.805728.</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




  <nav class="pagination">
    <a class="extend prev" rel="prev" title="Previous page" aria-label="Previous page" href="/page/12/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/12/">12</a><span class="page-number current">13</span><a class="page-number" href="/page/14/">14</a><span class="space">&hellip;</span><a class="page-number" href="/page/17/">17</a><a class="extend next" rel="next" title="Next page" aria-label="Next page" href="/page/14/"><i class="fa fa-angle-right"></i></a>
  </nav>

</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">

  <div class="copyright">
    &copy; 
    <span itemprop="copyrightYear">2024</span>
    <span class="with-love">
      <i class="fa fa-heart"></i>
    </span>
    <span class="author" itemprop="copyrightHolder">Guo</span>
  </div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/" rel="noopener" target="_blank">NexT.Gemini</a>
  </div>

    </div>
  </footer>

  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>
  <div class="sidebar-dimmer"></div>
  <div class="back-to-top" role="button" aria-label="Back to top">
    <i class="fa fa-arrow-up fa-lg"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


  
  <script src="https://cdn.jsdelivr.net/npm/animejs@3.2.1/lib/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/sidebar.js"></script><script src="/js/next-boot.js"></script>

  <script src="https://cdn.jsdelivr.net/npm/hexo-generator-searchdb@1.4.1/dist/search.js" integrity="sha256-1kfA5uHPf65M5cphT2dvymhkuyHPQp5A53EGZOnOLmc=" crossorigin="anonymous"></script>
<script src="/js/third-party/search/local-search.js"></script>

  <script class="next-config" data-name="pdf" type="application/json">{"object_url":{"url":"https://cdn.jsdelivr.net/npm/pdfobject@2.3.0/pdfobject.min.js","integrity":"sha256-JJZNsid68vnh3/zyj0lY9BN5ynxVX/12XgOa1TlaYN0="},"url":"/lib/pdf/web/viewer.html"}</script>
  <script src="/js/third-party/tags/pdf.js"></script>






  




  

  <script class="next-config" data-name="enableMath" type="application/json">true</script><script class="next-config" data-name="mathjax" type="application/json">{"enable":true,"tags":"none","js":{"url":"https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.js","integrity":"sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI="}}</script>
<script src="/js/third-party/math/mathjax.js"></script>



</body>
</html>
