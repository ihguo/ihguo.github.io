<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222"><meta name="generator" content="Hexo 7.1.1">

  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.5.2/css/all.min.css" integrity="sha256-XOqroi11tY4EFQMR9ZYwZWKj5ZXiftSx36RRuC3anlA=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"example.com","root":"/","images":"/images","scheme":"Gemini","darkmode":false,"version":"8.20.0","exturl":false,"sidebar":{"position":"left","width_expanded":320,"width_dual_column":240,"display":"post","padding":18,"offset":12},"copycode":{"enable":true,"style":null},"fold":{"enable":false,"height":500},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":false,"async":false,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"},"path":"/search.xml","localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false}}</script><script src="/js/config.js"></script>

    <meta property="og:type" content="website">
<meta property="og:title" content="KNOW-HOW">
<meta property="og:url" content="http://example.com/page/6/index.html">
<meta property="og:site_name" content="KNOW-HOW">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="Guo">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="http://example.com/page/6/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":true,"isPost":false,"lang":"en","comments":"","permalink":"","path":"page/6/index.html","title":""}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>KNOW-HOW</title>
  








  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">KNOW-HOW</h1>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="Search" role="button">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>About</a></li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>Search
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup"><div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off" maxlength="80"
           placeholder="Searching..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close" role="button">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div class="search-result-container no-result">
  <div class="search-result-icon">
    <i class="fa fa-spinner fa-pulse fa-5x"></i>
  </div>
</div>

    </div>
  </div>

</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-overview-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Guo</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">168</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">8</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">1</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author animated">
      <span class="links-of-author-item">
        <a href="https://github.com/raytroop" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;raytroop" rel="noopener me" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:raytroop@gmail.com" title="E-Mail → mailto:raytroop@gmail.com" rel="noopener me" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
  </div>

        </div>
      </div>
    </div>

    
  </aside>


    </div>

    <div class="main-inner index posts-expand">

    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/01/14/ModelLibrarySetup/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Guo">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="KNOW-HOW">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | KNOW-HOW">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2023/01/14/ModelLibrarySetup/" class="post-title-link" itemprop="url">Model Library Setup</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2023-01-14 21:59:30" itemprop="dateCreated datePublished" datetime="2023-01-14T21:59:30+00:00">2023-01-14</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2024-06-10 13:55:41" itemprop="dateModified" datetime="2024-06-10T13:55:41+00:00">2024-06-10</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/cad/" itemprop="url" rel="index"><span itemprop="name">cad</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>In order to set up model files automatically in the <em>Model Library
Setup</em> form for Spectre or AMS simulator in ADE Explorer or ADE
Assembler</p>
<p>Add the following line in your <code>.cdsinit</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">envSetVal( &quot;spectre.envOpts&quot; &quot;modelFiles&quot; &#x27;string &quot;&lt;path_to model_file&gt;/myModels.scs&quot;)</span><br></pre></td></tr></table></figure>
<p>or</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">envSetVal(&quot;spectre.envOpts&quot; &quot;modelFiles&quot; &#x27;string &quot;moreModels;ff mymodels;tt&quot;)</span><br></pre></td></tr></table></figure>
<p><img src="/2023/01/14/ModelLibrarySetup/image-20230114220458438.png"
alt="image-20230114220458438" /></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/01/06/ClockedComparators/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Guo">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="KNOW-HOW">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | KNOW-HOW">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2023/01/06/ClockedComparators/" class="post-title-link" itemprop="url">Noise and Offset in Dynamic Comparators</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2023-01-06 23:13:29" itemprop="dateCreated datePublished" datetime="2023-01-06T23:13:29+00:00">2023-01-06</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2024-06-10 13:55:41" itemprop="dateModified" datetime="2024-06-10T13:55:41+00:00">2024-06-10</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/noise/" itemprop="url" rel="index"><span itemprop="name">noise</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="offset">Offset</h2>
<h2 id="noise">Noise</h2>
<h3 id="transient-noise-method">transient noise method</h3>
<h3 id="pss-method">PSS method</h3>
<p><span class="math display">\[
\overline{V^2_{n,in}}=\frac{\overline{V^2_{n,out}}}{A_v}
\]</span></p>
<p><img src="/2023/01/06/ClockedComparators/image-20230106232724903.png"
alt="image-20230106232724903" /></p>
<h2 id="rx-sensitivity-and-input-referred-noise">RX sensitivity and
input referred noise</h2>
<h2 id="reference">reference</h2>
<p>J. Silva, D. Brito, G. Rodrigues, T. Rabuske, A. C. Pinto and J.
Fernandes, "Methods for Fast Characterization of Noise and Offset in
Dynamic Comparators," 2021 19th IEEE International New Circuits and
Systems Conference (NEWCAS), 2021, pp. 1-4, doi:
10.1109/NEWCAS50681.2021.9462744.</p>
<p>P. Lund, “Comparator Design for High-Speed ADCs,” Dissertation, 2022.
URL: <a
target="_blank" rel="noopener" href="https://www.diva-portal.org/smash/get/diva2:1688161/FULLTEXT01.pdf">https://www.diva-portal.org/smash/get/diva2:1688161/FULLTEXT01.pdf</a></p>
<p>Art Schaldenbrand, Senior Product Manager, Keeping Things Quiet: A
New Methodology for Dynamic Comparator Noise Analysis URL:<a
target="_blank" rel="noopener" href="https://www.cadence.com/content/dam/cadence-www/global/en_US/videos/tools/custom-_ic_analog_rf_design/NoiseAnalyisposting201612Chalk%20Talk.pdf">https://www.cadence.com/content/dam/cadence-www/global/en_US/videos/tools/custom-_ic_analog_rf_design/NoiseAnalyisposting201612Chalk%20Talk.pdf</a></p>
<p>Masaya Miyahara, Yusuke Asada, Daehwa Paik and Akira Matsuzawa, "A
low-noise self-calibrating dynamic comparator for high-speed ADCs," 2008
IEEE Asian Solid-State Circuits Conference, 2008, pp. 269-272, doi:
10.1109/ASSCC.2008.4708780.</p>
<p>J. Kim, B. S. Leibowitz, J. Ren and C. J. Madden, "Simulation and
Analysis of Random Decision Errors in Clocked Comparators," in IEEE
Transactions on Circuits and Systems I: Regular Papers, vol. 56, no. 8,
pp. 1844-1857, Aug. 2009, doi: 10.1109/TCSI.2009.2028449. URL:<a
target="_blank" rel="noopener" href="https://people.engr.tamu.edu/spalermo/ecen689/simulation_analysis_clocked_comparators_kim_tcas1_2009.pdf">https://people.engr.tamu.edu/spalermo/ecen689/simulation_analysis_clocked_comparators_kim_tcas1_2009.pdf</a></p>
<p>Jaeha Kim, Lecture 12. Aperture and Noise Analysis of Clocked
Comparators URL:<a
target="_blank" rel="noopener" href="https://ocw.snu.ac.kr/sites/default/files/NOTE/7038.pdf">https://ocw.snu.ac.kr/sites/default/files/NOTE/7038.pdf</a></p>
<p>Shanthi Pavan, NOC:Introduction to Time - Varying Electrical
Networks, IIT Madras <a
target="_blank" rel="noopener" href="https://youtube.com/playlist?list=PLyqSpQzTE6M8qllAtp9TTODxNfaoxRLp9">https://youtube.com/playlist?list=PLyqSpQzTE6M8qllAtp9TTODxNfaoxRLp9</a></p>
<p>Rabuske, Taimur &amp; Fernandes, Jorge. (2014). Noise-aware
simulation-based sizing and optimization of clocked comparators. Analog
Integr. Circuits Signal Process.. 81. 723-728.
10.1007/s10470-014-0428-4.</p>
<p>Rabuske, Taimur &amp; Fernandes, Jorge. (2017), Chapter 5 Noise-Aware
Synthesis and Optimization of Voltage Comparators, "Charge-Sharing SAR
ADCs for Low-Voltage Low-Power Applications"</p>
<p>Eric Chang, EE240B Discussion 9 <a
target="_blank" rel="noopener" href="https://inst.eecs.berkeley.edu/~ee240b/sp18/discussions/dis9.pdf">https://inst.eecs.berkeley.edu/~ee240b/sp18/discussions/dis9.pdf</a></p>
<p>Y. Luo, A. Jain, J. Wagner and M. Ortmanns, "Input Referred
Comparator Noise in SAR ADCs," in IEEE Transactions on Circuits and
Systems II: Express Briefs, vol. 66, no. 5, pp. 718-722, May 2019, doi:
10.1109/TCSII.2019.2909429.</p>
<p>E. Gillen, G. Panchanan, B. Lawton and D. O'Hare, "Comparison of
transient and PNOISE simulation techniques for the design of a dynamic
comparator," 2022 33rd Irish Signals and Systems Conference (ISSC),
Cork, Ireland, 2022, pp. 1-5, doi: 10.1109/ISSC55427.2022.9826195.</p>
<p>Sam Palermo Lecture 6: RX Circuits URL:<a
target="_blank" rel="noopener" href="https://people.engr.tamu.edu/spalermo/ecen689/lecture6_ee689_rx_circuits.pdf">https://people.engr.tamu.edu/spalermo/ecen689/lecture6_ee689_rx_circuits.pdf</a></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/01/03/pole-splitting/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Guo">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="KNOW-HOW">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | KNOW-HOW">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2023/01/03/pole-splitting/" class="post-title-link" itemprop="url">pole splitting</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2023-01-03 22:31:41" itemprop="dateCreated datePublished" datetime="2023-01-03T22:31:41+00:00">2023-01-03</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2024-06-10 13:55:41" itemprop="dateModified" datetime="2024-06-10T13:55:41+00:00">2024-06-10</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/analog/" itemprop="url" rel="index"><span itemprop="name">analog</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h3 id="generic-circuit-in-textbook">Generic circuit in textbook</h3>
<p>In addition to <em>lowering</em> the required capacitor value, Miller
compensation entails a very important property: it moves the output pole
<em>away from the origin</em>. This effect is called <strong>pole
splitting</strong></p>
<p><img src="/2023/01/03/pole-splitting/image-20230103223438823.png"
alt="image-20230103223438823" /></p>
<p>The 1st stage is replaced with Thevenin equivalent circuit , <span
class="math inline">\(V_i \cong V_i \cdot g_{m1}R_{o1}\)</span></p>
<p><span class="math display">\[\begin{align}
\frac{V_i-V_{o1}}{R_{o1}} &amp;= V_{o1}\cdot sC_{o1}+(V_{o1}-V_o)\cdot
sC_c \\
V_{o1} &amp;= \frac{V_i+sR_{o1}C_cV_o}{1+sR_{o1}(C_{o1}+C_c)}
\end{align}\]</span> <span class="math display">\[
(V_{o1}-V_o)sC_c=g_{m2}V_{o1}+V_o(\frac{1}{R_{o2}+sC_L})
\]</span> substitute <span class="math inline">\(V_{o1}\)</span>, we
get</p>
<p><span class="math display">\[\begin{align}
\frac{V_o}{V_i} &amp;=
\frac{(sC_c-g_{m2})R_{o2}}{s^2R_{o1}R_{o2}(C_cC_{o1}+C_LC_{o1}+C_LC_c)+s\left\{
R_{o1}C_c\cdot g_{m2}R_{o2}+R_{o2}(C_c+C_L)+R_{o1}(C_{o1}+C_c) \right\}
+1} \\
&amp;=
\frac{g_{m2}R_{o2}(s\frac{C_c}{g_{m2}}-1)}{s^2R_{o1}R_{o2}(C_cC_{o1}+C_LC_{o1}+C_LC_c)+s\left\{
R_{o1}C_c\cdot g_{m2}R_{o2}+R_{o2}(C_c+C_L)+R_{o1}(C_{o1}+C_c) \right\}
+1}
\end{align}\]</span></p>
<p>left hand plane poles</p>
<p><span class="math display">\[\begin{align}
\omega_1 &amp;= \frac{1}{R_{o1}C_c\cdot
g_{m2}R_{o2}+R_{o2}(C_c+C_L)+R_{o1}(C_{o1}+C_c)} \\
\omega_2 &amp;= \frac{R_{o1}C_c\cdot
g_{m2}R_{o2}+R_{o2}(C_c+C_L)+R_{o1}(C_{o1}+C_c)}{R_{o1}R_{o2}(C_cC_{o1}+C_LC_{o1}+C_LC_c)}
\end{align}\]</span></p>
<p>and RHP (<em>right</em>-<em>hand plane</em>) zero <span
class="math display">\[
\omega_z=\frac{g_{m2}}{C_c}
\]</span></p>
<h3 id="the-circuit-with-series-switch">The circuit with series
switch</h3>
<p><img src="/2023/01/03/pole-splitting/image-20230103230122637.png"
alt="image-20230103230122637" /></p>
<p>replace <span class="math inline">\(sC_L\)</span> with <span
class="math inline">\(1/(R_{sw}+\frac{1}{sC_L})\)</span> <span
class="math display">\[\begin{align}
\frac{V_{o2}}{V_i} &amp;=
\frac{g_{m2}R_{o2}(s\frac{C_c}{g_{m2}}-1)(1+sR_{sw}C_L)}{s^3R_{o1}R_{o2}R_{sw}C_{o1}C_cC_L+s^2\left\{R_{o1}R_{o2}(C_cC_{o1}+C_LC_{o1}+C_LC_c)+
\left[ R_{o1}C_c\cdot
g_{m2}R_{o2}+R_{o2}(C_c+0)+R_{o1}(C_{o1}+C_c)\right]R_{sw}C_L
\right\}+s\left\{ R_{o1}C_c\cdot
g_{m2}R_{o2}+R_{o2}(C_c+C_L)+R_{o1}(C_{o1}+C_c) +R_{sw}C_L\right\} +1}
\end{align}\]</span> Due to <span class="math display">\[
\frac{V_o}{V_{o2}} =
\frac{\frac{1}{sC_L}}{R_{sw}+\frac{1}{sC_L}}=\frac{1}{1+sR_{sw}C_L}
\]</span> Then <span class="math display">\[\begin{align}
\frac{V_o}{V_i} &amp;= \frac{V_{o2}}{V_i} \cdot \frac{V_o}{V_{o2}} \\
&amp;=
\frac{g_{m2}R_{o2}(s\frac{C_c}{g_{m2}}-1)}{s^3R_{o1}R_{o2}R_{sw}C_{o1}C_cC_L+s^2\left\{R_{o1}R_{o2}(C_cC_{o1}+C_LC_{o1}+C_LC_c)+
\left[ R_{o1}C_c\cdot
g_{m2}R_{o2}+R_{o2}(C_c+0)+R_{o1}(C_{o1}+C_c)\right]R_{sw}C_L
\right\}+s\left\{ R_{o1}C_c\cdot
g_{m2}R_{o2}+R_{o2}(C_c+C_L)+R_{o1}(C_{o1}+C_c) +R_{sw}C_L\right\} +1}
\end{align}\]</span></p>
<h3 id="r_sw-and-r_c"><span class="math inline">\(R_{sw}\)</span> and
<span class="math inline">\(R_c\)</span></h3>
<p><img src="/2023/01/03/pole-splitting/image-20230103232837318.png"
alt="image-20230103232837318" /></p>
<p><span class="math display">\[\begin{align}
\frac{V_{o2}}{V_i}
&amp;=-g_{m2}R_{o2}\frac{sC_c(R_c-1/g_{m2})+1}{(1+sR_{o1}C_{o1})sR_{o2}C_c+sR_{o1}\cdot
g_{m2}R_{o2}C_c+\frac{s(R_{o2}+R_{sw})C_L+1}{sR_{sw}C_L+1}\left[(1+sR_{o1}C_{o1})(1+sR_cC_c)+sR_{o1}C_c
\right]} \\
&amp;=-g_{m2}R_{o2}\frac{sC_c(R_c-1/g_{m2})+1}{s^2R_{o1}R_{o2}C_{o1}C_c+sR_{o2}C_c+sR_{o1}\cdot
g_{m2}R_{o2}C_c+\frac{s(R_{o2}+R_{sw})C_L+1}{sR_{sw}C_L+1}\left[(1+sR_{o1}C_{o1})(1+sR_cC_c)+sR_{o1}C_c
\right]} \\
&amp;=-g_{m2}R_{o2}\frac{\left[ sC_c(R_c-1/g_{m2})+1
\right](sR_{sw}C_L+1)}{s^2R_{o1}R_{o2}C_{o1}C_c(sR_{sw}C_L+1)+sR_{o2}C_c(sR_{sw}C_L+1)+sR_{o1}\cdot
g_{m2}R_{o2}C_c(sR_{sw}C_L+1)+\left[s(R_{o2}+R_{sw})C_L+1\right]\left[(1+sR_{o1}C_{o1})(1+sR_cC_c)+sR_{o1}C_c
\right]}
\end{align}\]</span></p>
<p><span class="math inline">\(s^3\)</span> terms in denominator <span
class="math display">\[
H_3 = s^3\cdot(R_{o1}R_{o2}R_c+R_{o1}R_{o2}R_{sw} +R_{o1}R_cR_{sw})\cdot
C_{o1}C_cC_L
\]</span> <span class="math inline">\(s^2\)</span> terms in denominator
<span class="math display">\[\begin{align}
H_2
&amp;=s^2\cdot(R_{o1}R_{o2}C_{o1}C_c+R_{o1}R_{o2}C_{o1}C_L+R_{o2}R_cC_cC_L+R_{o1}R_{o2}C_cC_L+R_{o1}R_cC_{o1}C_c\\
&amp;+R_{o2}R_{sw}C_cC_L+R_{o1}R_{sw}C_cC_L\cdot
g_{m2}R_{o2}+R_{o1}R_{sw}C_{o1}C_L+R_{sw}R_cC_cC_L+R_{o1}R_{sw}C_cC_L)
\end{align}\]</span></p>
<p><span class="math inline">\(s^1\)</span> term in denominator <span
class="math display">\[
H_1=s(R_{o1}\cdot
g_{m2}R_{o2}C_c+R_{o1}C_{o1}+R_cC_c+R_{o1}C_c+R_{o2}C_c+R_{o2}C_L+R_{sw}C_L)
\]</span> <span class="math inline">\(s^0\)</span> term in denominator
<span class="math display">\[
H_0=1
\]</span> set <span class="math inline">\(R_c=0\)</span> and <span
class="math inline">\(R_{sw}=0\)</span>, the <span
class="math inline">\(H_*\)</span> reduced to <span
class="math display">\[\begin{align}
H_3 &amp;= 0 \\
H_2 &amp;=s^2R_{o1}R_{o2}(C_{o1}C_c+C_{o1}C_L+C_cC_L) \\
H_1&amp;=s(R_{o1}\cdot
g_{m2}R_{o2}C_c+R_{o1}C_{o1}+R_{o1}C_c+R_{o2}C_c+R_{o2}C_L) \\
H_0&amp;=1
\end{align}\]</span> That is <span class="math display">\[
H=s^2R_{o1}R_{o2}(C_{o1}C_c+C_{o1}C_L+C_cC_L)+s(R_{o1}\cdot
g_{m2}R_{o2}C_c+R_{o1}C_{o1}+R_{o1}C_c+R_{o2}C_c+R_{o2}C_L)+1
\]</span></p>
<p>which is same with our previous analysis of <em>Generic circuit in
textbook</em></p>
<p>And we know <span class="math display">\[
\frac{V_o}{V_{o2}}=\frac{1}{1+sR_{sw}C_L}
\]</span> Finally, we get <span
class="math inline">\(\frac{V_o}{V_i}\)</span> <span
class="math display">\[\begin{align}
\frac{V_o}{V_i} &amp;= \frac{V_{o2}}{V_i} \cdot \frac{V_o}{V_{o2}} \\
&amp;= -g_{m2}R_{o2}\frac{\left[ sC_c(R_c-1/g_{m2})+1
\right](sR_{sw}C_L+1)}{H_3+H_2+H_1+1} \cdot \frac{1}{1+sR_{sw}C_L} \\
&amp;= -g_{m2}R_{o2}\frac{ sC_c(R_c-1/g_{m2})+1}{H_3+H_2+H_1+1}
\end{align}\]</span></p>
<p>The loop transfer function is <span class="math display">\[
\frac{V_o}{V_i} =-g_{m1}R_{o1}g_{m2}R_{o2}\frac{
sC_c(R_c-1/g_{m2})+1}{H_3+H_2+H_1+1}
\]</span></p>
<h4 id="vccs-model">vccs model</h4>
<p><img src="/2023/01/03/pole-splitting/image-20230106214027323.png"
alt="image-20230106214027323" /></p>
<h4 id="simplify-the-transfer-function">simplify the transfer
function</h4>
<h5 id="omit-c_o1">omit <span class="math inline">\(C_{o1}\)</span></h5>
<p>We omit <span class="math inline">\(C_{o1}\)</span> in frequency
range of interest</p>
<p><span class="math display">\[\begin{align}
H_3 &amp;= 0 \\
H_2 &amp;=s^2(R_{o2}R_c+R_{o1}R_{o2}+R_{o2}R_{sw}+R_{o1}R_{sw}\cdot
g_{m2}R_{o2}+R_{sw}R_c+R_{o1}R_{sw})\cdot C_cC_L \\
H_1 &amp;=s(R_{o1}\cdot
g_{m2}R_{o2}C_c+R_cC_c+R_{o1}C_c+R_{o2}C_c+R_{o2}C_L+R_{sw}C_L) \\
H_0 &amp;= 1
\end{align}\]</span></p>
<blockquote>
<p>two poles and 1 zero</p>
</blockquote>
<p><img src="/2023/01/03/pole-splitting/image-20230105221058404.png"
alt="image-20230105221058404" /></p>
<h5 id="more-simplification">more simplification</h5>
<p>Then, some terms can be omitted</p>
<p><span class="math display">\[\begin{align}
H_2 &amp;=s^2R_{o1}R_{o2}(1+g_{m2}R_{sw})\cdot C_cC_L \\
H_1 &amp;=sR_{o1}\cdot g_{m2}R_{o2}C_c \\
H_0 &amp;= 1
\end{align}\]</span></p>
<p>The poles can be deduced <span class="math display">\[\begin{align}
\omega_1 &amp;= \frac{1}{R_{o1}\cdot g_{m2}R_{o2}C_c} \\
\omega_2 &amp;= \frac{1}{1+g_{m2}R_{sw}}\cdot \frac{g_{m2}}{C_L} \\
&amp;= \frac{1}{(gm_2^{-1}+R_{sw})C_L}
\end{align}\]</span></p>
<p>The pole <span
class="math inline">\(\omega_2=\frac{1}{gm_2^{-1}C_L}\)</span> is
changed to <span
class="math inline">\(\omega_2=\frac{1}{(gm_2^{-1}+R_{sw})C_L}\)</span></p>
<blockquote>
<p>In order to cancell <span class="math inline">\(\omega_2\)</span>
with <span class="math inline">\(\omega_z\)</span>, <span
class="math inline">\(R_c\)</span> shall be increased</p>
</blockquote>
<p><span class="math display">\[
R_{eq}=g_{m2}^{-1}+R_{sw}
\]</span> <img src="/2023/01/03/pole-splitting/fndRsw.drawio.svg"
alt="fndRsw.drawio.svg" /></p>
<p><img src="/2023/01/03/pole-splitting/image-20230105221201876.png"
alt="image-20230105221201876" /></p>
<p><img src="/2023/01/03/pole-splitting/image-20230105220034632.png"
alt="image-20230105220034632" /></p>
<p><img src="/2023/01/03/pole-splitting/image-20230105220102170.png"
alt="image-20230105220102170" /></p>
<p><img src="/2023/01/03/pole-splitting/image-20230105220119502.png"
alt="image-20230105220119502" /></p>
<p><img src="/2023/01/03/pole-splitting/image-20230105221805322.png"
alt="image-20230105221805322" /></p>
<blockquote>
<p><strong>omit <span class="math inline">\(C_{o1}\)</span></strong> is
same with <strong>2nd system</strong> simplification</p>
</blockquote>
<h3 id="non-dominant-pole-in-sansens-book">non-dominant pole in Sansen's
book</h3>
<p><img src="/2023/01/03/pole-splitting/image-20230103231300609.png"
alt="image-20230103231300609" /></p>
<p>Following demonstrate how derive <span
class="math inline">\(f_{nd}\)</span> from Razavi's equation. We copy
<span class="math inline">\(\omega_2\)</span> here <span
class="math display">\[
\omega_2 = \frac{R_{o1}C_c\cdot
g_{m2}R_{o2}+R_{o2}(C_c+C_L)+R_{o1}(C_{o1}+C_c)}{R_{o1}R_{o2}(C_cC_{o1}+C_LC_{o1}+C_LC_c)}
\]</span> which can be reduced as below</p>
<p><span class="math display">\[\begin{align}
\omega_2 &amp;= \frac{R_{o1}C_c\cdot
g_{m2}R_{o2}+R_{o2}(C_c+C_L)+R_{o1}(C_{o1}+C_c)}{R_{o1}R_{o2}(C_cC_{o1}+C_LC_{o1}+C_LC_c)}
\\
&amp;= \frac{R_{o1}C_c\cdot
g_{m2}R_{o2}}{R_{o1}R_{o2}(C_cC_{o1}+C_LC_{o1}+C_LC_c)} \\
&amp;= \frac{C_c\cdot g_{m2}}{C_cC_{o1}+C_LC_{o1}+C_LC_c} \\
&amp;= \frac{g_{m2}}{C_{o1}+C_L\frac{C_{o1}}{C_c}+C_L} \\
&amp;= \frac{g_{m2}}{C_L\frac{C_{o1}}{C_c}+C_L} \\
&amp;= \frac{g_{m2}}{C_L} \cdot \frac{1}{1+\frac{C_{o1}}{C_c}}
\end{align}\]</span></p>
<p><img src="/2023/01/03/pole-splitting/image-20230129221424763.png"
alt="image-20230129221424763" /></p>
<h3 id="exercise-of-2-stage-opamp">Exercise of 2-stage opamp</h3>
<p><img src="/2023/01/03/pole-splitting/image-20230105001747174.png"
alt="image-20230105001747174" /></p>
<p><img src="/2023/01/03/pole-splitting/image-20230105001758050.png"
alt="image-20230105001758050" /></p>
<p><img src="/2023/01/03/pole-splitting/image-20230105001812304.png"
alt="image-20230105001812304" /></p>
<p><img src="/2023/01/03/pole-splitting/image-20230105001849554.png"
alt="image-20230105001849554" /></p>
<blockquote>
<p><span class="math inline">\(R_{o1}\)</span> and <span
class="math inline">\(R_{o2}\)</span> don't affect stability, if <span
class="math inline">\(f_{nd}&gt;3\text{GBW}\)</span></p>
<p>DC gain: <span
class="math inline">\(g_{m1}g_{m2}R_{o1}R_{o2}\)</span></p>
<p>dominant pole: <span
class="math inline">\(\omega_d=\frac{1}{R_{o1}\cdot
g_{m2}R_{o2}C_c}\)</span></p>
</blockquote>
<p><img src="/2023/01/03/pole-splitting/image-20230105001923985.png"
alt="image-20230105001923985" /></p>
<p><img src="/2023/01/03/pole-splitting/image-20230105002653735.png"
alt="image-20230105002653735" /></p>
<blockquote>
<p><span
class="math inline">\(20log_{10}(1.414^2)=6\text{dB}\)</span></p>
</blockquote>
<h3 id="reference">reference</h3>
<p>Razavi, Behzad. Design of Analog CMOS Integrated Circuits. India:
McGraw-Hill, 2017.</p>
<p>Sansen, Willy M. Analog Design Essentials. Germany: Springer US,
2006.</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/01/01/insight/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Guo">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="KNOW-HOW">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | KNOW-HOW">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2023/01/01/insight/" class="post-title-link" itemprop="url">Circuit insight</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2023-01-01 17:50:13" itemprop="dateCreated datePublished" datetime="2023-01-01T17:50:13+00:00">2023-01-01</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2024-06-10 13:55:41" itemprop="dateModified" datetime="2024-06-10T13:55:41+00:00">2024-06-10</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/analog/" itemprop="url" rel="index"><span itemprop="name">analog</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="effect-of-feedback-on-noise">Effect of Feedback on Noise</h2>
<blockquote>
<p>Feedback does <strong>not improve</strong> the noise performance of
circuits.</p>
</blockquote>
<p><img src="/2023/01/01/insight/image-20240508205903213.png"
alt="image-20240508205903213" /></p>
<blockquote>
<p>The input-referred noise voltage and current remain the same if the
feedback network introduces no noise.</p>
</blockquote>
<h2 id="burn-in-high-temperature-operating-life-htol">Burn-in &amp;
High-temperature operating life (HTOL)</h2>
<p><em>TODO</em> 📅</p>
<h2 id="rc-charge-and-discharge">RC charge and discharge</h2>
<ul>
<li><p>charge: <span class="math display">\[
V_o(t) = V_{X}(1-e^{-\frac{t}{\tau}}) + V_{o,0}\cdot
e^{-\frac{-t}{\tau}}
\]</span></p></li>
<li><p>discharge: <span class="math display">\[
V_o(t) = V_{o,0}\cdot e^{-\frac{t}{\tau}} +
V_{o,\infty}\cdot(1-e^{-\frac{t}{\tau}})
\]</span></p></li>
</ul>
<blockquote>
<ol type="1">
<li><span class="math inline">\(e^{-\frac{t}{\tau}}\)</span> item
determine the <strong>initial state </strong></li>
<li><span class="math inline">\((1-e^{-\frac{t}{\tau}})\)</span> item
determine the <strong>final state</strong></li>
</ol>
</blockquote>
<p><img src="/2023/01/01/insight/image-20231104231640290.png"
alt="image-20231104231640290" /></p>
<p><img src="/2023/01/01/insight/image-20231104232000036.png"
alt="image-20231104232000036" /></p>
<h3 id="ac-coupling">AC coupling</h3>
<p><img src="/2023/01/01/insight/image-20231121224940814.png"
alt="image-20231121224940814" /></p>
<p><img src="/2023/01/01/insight/image-20231121225358509.png"
alt="image-20231121225358509" /></p>
<hr />
<p><span class="math display">\[
\tau = 200 \text{nF} \times (50+50)\text{ohm} = 20 \mu s
\]</span></p>
<p>high level envelope:</p>
<p><img src="/2023/01/01/insight/image-20231121230155083.png"
alt="image-20231121230155083" /></p>
<p><img src="/2023/01/01/insight/image-20231121230225895.png"
alt="image-20231121230225895" /></p>
<h2 id="switched-capacitor-resistor">switched-capacitor resistor</h2>
<p><img src="/2023/01/01/insight/image-20231104212333555.png"
alt="image-20231104212333555" /></p>
<p><img src="/2023/01/01/insight/image-20231104212343670.png"
alt="image-20231104212343670" /></p>
<blockquote>
<p>Switching the capacitor moves a charge proportional to the voltage
difference. The resistor achieves the same function only in a continuous
manner.</p>
<p>Using a water analogy, we can imagine a couple of scenarios:</p>
<ol type="1">
<li>a steady water flow,</li>
<li>or 2) the same water delivered rapidly in buckets. Both create the
same flow of water - <strong>on average!</strong></li>
</ol>
</blockquote>
<h2 id="current-mirror-with-source-degeneration">Current mirror with
source degeneration</h2>
<p><img src="/2023/01/01/insight/image-20231103213308081.png"
alt="image-20231103213308081" /></p>
<p><img src="/2023/01/01/insight/image-20231103213327501.png"
alt="image-20231103213327501" /></p>
<p><img
src="/2023/01/01/insight/current_mirror_with_res_degeneration.jpg"
alt="degeneration" /></p>
<blockquote>
<p>Razavi 2nd, problem 14.15</p>
</blockquote>
<h2 id="monitored-analog-critical-parameters">Monitored Analog Critical
Parameters</h2>
<p><img src="/2023/01/01/insight/monitor_parameters.drawio.svg"
alt="monitor_parameters.drawio" /></p>
<p>Parameter Definition:</p>
<p><span class="math display">\[\begin{align}
I_{\text{D,lin}} &amp;= I_D \mid _{V_G=V_{DD},V_D=0.05V} \\
I_{\text{D,sat}} &amp;= I_D \mid _{V_G=V_D=V_{DD}} \\
V_{\text{t,lin}} &amp;= V_G \mid _{I_D=I_{\text{thx}}\cdot
\frac{W}{L}@\{V_D=0.05V\}}
\end{align}\]</span></p>
<blockquote>
<p><span class="math inline">\(I_{\text{thx}}\)</span> could be
different for technologies. (For N16, <span
class="math inline">\(I_{\text{thx}}=10\)</span>nA)</p>
</blockquote>
<h2 id="demystifying-stb-and-pstb-in-spectre">Demystifying stb and pstb
in Spectre</h2>
<p>All credits to my colleague, Zhang Wenpian.</p>
<h3 id="spectres-stb-analysis">Spectre's stb analysis</h3>
<p>Spectre <strong>stb</strong>'s "loopgain" is negative of "T" in
paper<sup>[1]</sup> <span class="math display">\[
T = \frac{2(AD-BC) - A + D}{2(AD-BC)-A+D-1}
\]</span></p>
<p>AC simulation testbench, shown as below,</p>
<p><img src="/2023/01/01/insight/stb_pstb.drawio.svg"
alt="stb_pstb.drawio" /></p>
<ol type="1">
<li><p><span class="math inline">\(I_{inj}\)</span> = 0, <span
class="math inline">\(V_{inj}\)</span> = 1</p>
<p>B = if, D = ve</p></li>
<li><p><span class="math inline">\(I_{inj}\)</span> = 1, <span
class="math inline">\(V_{inj}\)</span> = 0</p>
<p>A = if, C = ve</p></li>
</ol>
<h3 id="spectres-pstb-analysis">Spectre's pstb analysis</h3>
<p>Spectre <strong>pstb</strong> is similar to stb, just set
<strong>pac</strong> as <strong>1</strong> instead of
<strong>ac</strong> in current source and voltage source.</p>
<p>This analysis just use <strong>harmonic 0</strong> transfer function
in pac analysis, which has limitation.</p>
<h2 id="thevenin-and-norton-equivalent-circuits">Thevenin and Norton
Equivalent Circuits</h2>
<h3 id="戴维南定理">戴维南定理</h3>
<p><img src="/2023/01/01/insight/image-20231021084850078.png"
alt="image-20231021084850078" /></p>
<h3 id="等效电阻的计算方法">等效电阻的计算方法</h3>
<p><img src="/2023/01/01/insight/image-20231021085151943.png"
alt="image-20231021085151943" /></p>
<blockquote>
<p>使用<strong>外加电源法</strong>时， 全部独立电源需要置零</p>
</blockquote>
<h3 id="诺顿定理">诺顿定理</h3>
<p><img src="/2023/01/01/insight/image-20231021090448282.png"
alt="image-20231021090448282" /></p>
<h4 id="lemma-of-razavi">Lemma of Razavi</h4>
<p><span class="math display">\[
A_V = -G_m R_{out}
\]</span></p>
<p><img src="/2023/01/01/insight/image-20231021092407849.png"
alt="image-20231021092407849" /></p>
<blockquote>
<p><em>Design of Analog CMOS Integrated Circuits, Second Edition -
Behzad Razavi</em></p>
</blockquote>
<h2 id="millers-approximation-right-half-plane-zero">Miller's
Approximation: right-half-plane zero</h2>
<p><img src="/2023/01/01/insight/image-20231021101204165.png"
alt="image-20231021101204165" /></p>
<p>A quick inspection of this circuit reveals that a
<strong>zero</strong> lies at a frequency where the current through
<span class="math inline">\(C_{12}\)</span> becomes equal to <span
class="math inline">\(g_2V_1\)</span>.</p>
<p>When this occurs, the current through the parallel combination of
<span class="math inline">\(C_2\)</span> and <span
class="math inline">\(R_2\)</span> becomes zero, creating a zero in the
transfer function.</p>
<p>In other words, we can write</p>
<p><span class="math display">\[\begin{align}
g_2V_1 &amp;= V_1sC_{12} \\
s &amp;= \frac{g_2}{C_{12}}
\end{align}\]</span></p>
<h2 id="how-to-mitigate-impact-of-zero">How to Mitigate Impact of
Zero</h2>
<h3 id="lectures">Lectures</h3>
<p>EE 240B: Advanced Analog Circuit Design, Prof. Bernhard E. Boser [<a
target="_blank" rel="noopener" href="https://people.eecs.berkeley.edu/~boser/courses/240B/lectures/M07%20OTA%20II.pdf">OTA
II, Multi-Stage</a>]</p>
<h3 id="papers">Papers</h3>
<p>B. K. Ahuja, "An improved frequency compensation technique for CMOS
operational amplifiers," in IEEE Journal of Solid-State Circuits, vol.
18, no. 6, pp. 629-633, Dec. 1983, doi: 10.1109/JSSC.1983.1052012.</p>
<p>D. B. Ribner and M. A. Copeland, "Design techniques for cascoded CMOS
op amps with improved PSRR and common-mode input range," in IEEE Journal
of Solid-State Circuits, vol. 19, no. 6, pp. 919-925, Dec. 1984, doi:
10.1109/JSSC.1984.1052246.</p>
<p>Abo, Andrew &amp; Gray, Paul. (1999). A 1.5V, 10-bit, 14MS/s CMOS
Pipeline Analog-to-Digital Converter.</p>
<h3 id="books-chapters">Book's chapters</h3>
<p>Design of analog CMOS integrated circuits, Behzad Razavi</p>
<ul>
<li>10.5 Compensation of Two-Stage Op Amps</li>
<li>10.7 Other Compensation Techniques</li>
</ul>
<p>Analog Design Essentials, Willy M.C. Sansen</p>
<ul>
<li>chapter #5 Stability of operational amplifiers - Compensation of
positive zero</li>
</ul>
<p>Analysis and Design of Analog Integrated Circuits 5th Edition, Paul
R. Gray, Paul J. Hurst, Stephen H. Lewis, Robert G. Meyer</p>
<ul>
<li>9.4.3 Two-Stage MOS Amplifier Compensation</li>
</ul>
<p>CMOS Analog Circuit Design 3rd Edition, Phillip E. Allen, Douglas R.
Holberg</p>
<ul>
<li>6.2.2 Miller Compensation of the Two-Stage Op Amp</li>
</ul>
<h3 id="example---cascode-compensation">Example - cascode
compensation</h3>
<p><img src="/2023/01/01/insight/cascode_compensation.PNG"
alt="cascode_compensation" /> <span class="math display">\[\begin{align}
\omega_{p1} &amp;= \frac {1} {R_{eq}g_{m9}R_{L}C_{c}} \\
\omega_{p2} &amp;= \frac {g_{m4}R_{eq}g_{m9}} {C_L} \\
\omega_z &amp;= (g_{m4}R_{eq})(\frac {g_{m9}} {C_c})
\end{align}\]</span></p>
<blockquote>
<p>Figure 10.46 in Razavi's book</p>
</blockquote>
<h2 id="non-overlapping-clock">Non Overlapping Clock</h2>
<div class="pdf-container" data-target="/pdfs/nonoverlapping_clocks.pdf" data-height="500px"></div>
<h2 id="single-ended-amplifier-offset-voltage">Single ended Amplifier
Offset Voltage</h2>
<h3 id="unity-gain-buffer">unity gain buffer</h3>
<p><img src="/2023/01/01/insight/image-20220917115231508.png"
alt="image-20220917115231508" /></p>
<p><span class="math display">\[\begin{align}
V_o &amp;= V_{o,dc}+A(V_p-V_m) \\
V_o&#39; &amp;= V_{o,dc}+A(V_p+V_{os}-V_m&#39;)
\end{align}\]</span></p>
<p>Then, we get <span class="math display">\[
V_{os}=\frac{V_o&#39;-V_o}{A}+(V_m&#39;-V_m)
\]</span> Due to <span class="math inline">\(V_o=V_m\)</span> and <span
class="math inline">\(V_o&#39;=V_m&#39;\)</span> <span
class="math display">\[
V_{os}=(1/A+1)\Delta{V_m}
\]</span> or <span class="math display">\[
V_{os}=(1/A+1)\Delta{V_o}
\]</span> if <span class="math inline">\(A \gg 1\)</span> <span
class="math display">\[
V_{os}=\Delta{V_o}
\]</span></p>
<h3 id="non-inverting-amplifier">non-inverting amplifier</h3>
<p><img src="/2023/01/01/insight/image-20220917115308699.png"
alt="image-20220917115308699" /> <span
class="math display">\[\begin{align}
V_o &amp;= V_{o,dc}+A(V_p-V_m) \\
V_o&#39; &amp;= V_{o,dc}+A(V_p+V_{os}-V_m&#39;) \\
V_m &amp;= \beta V_o \\
V_m&#39; &amp;= \beta V_o&#39;
\end{align}\]</span></p>
<p>we get <span class="math display">\[
V_{os}=\frac{V_o&#39;-V_o}{A}+(V_m&#39;-V_m)
\]</span> or <span class="math display">\[
V_{os}=\frac{\Delta V_o}{A}+\beta \Delta V_o
\]</span> if <span class="math inline">\(A \gg 1\)</span> <span
class="math display">\[
V_{os}=\beta \Delta V_o
\]</span> or <span class="math display">\[
V_{os}=\Delta V_m
\]</span></p>
<hr />
<p><strong>Lecture 22 Variability and Mismatch of Dr. Hesham A. Omran's
Analog IC Design</strong></p>
<p><img src="/2023/01/01/insight/image-20221022010448797.png"
alt="image-20221022010448797" /></p>
<blockquote>
<p>URL: <a
target="_blank" rel="noopener" href="https://www.master-micro.com/professional-courses/analog-ic-design/course-resources">https://www.master-micro.com/professional-courses/analog-ic-design/course-resources</a></p>
</blockquote>
<h2 id="gotcha-mos-ron">Gotcha MOS ron</h2>
<p>There is discrepancy between model operating point and <span
class="math inline">\(V_{ds}/I_{ds}\)</span></p>
<p>I believe that the equation <span
class="math inline">\(V_{ds}/I_{ds}\)</span> is more appropriate where
mos is used as switch, though <span
class="math inline">\(V_{ds}=0\)</span> is an outlier.</p>
<p><img src="/2023/01/01/insight/image-20230104230757729.png"
alt="image-20230104230757729" /></p>
<p><img src="/2023/01/01/insight/image-20230104230837829.png"
alt="image-20230104230837829" /></p>
<p><img src="/2023/01/01/insight/image-20230104230851475.png"
alt="image-20230104230851475" /></p>
<h2 id="channel-length-modulation">Channel-length modulation</h2>
<blockquote>
<p>short-channel effects</p>
</blockquote>
<p><span class="math display">\[\begin{align}
I_D
&amp;=\frac{1}{2}\mu_nC_{ox}\frac{W}{L}(V_{GS}-V_{TH})^2(1+\frac{\Delta
L}{L}) \\
I_D &amp;=\frac{1}{2}\mu_nC_{ox}\frac{W}{L}(V_{GS}-V_{TH})^2(1+\lambda
V_{DS}) \\
I_D
&amp;=\frac{1}{2}\mu_nC_{ox}\frac{W}{L}(V_{GS}-V_{TH})^2(1+\frac{V_{DS}}{V_A})
\end{align}\]</span></p>
<p>where <span class="math inline">\(\frac{\Delta L}{L}=\lambda
V_{DS}\)</span> and <span
class="math inline">\(V_A=\frac{1}{\lambda}\)</span></p>
<p><span class="math inline">\(\lambda\)</span> is channel length
modulation parameter</p>
<p><span class="math inline">\(V_A\)</span>, i.e. Early voltage is equal
to inverse of channel length modulation parameter</p>
<p>The output resistance <span class="math inline">\(r_o\)</span></p>
<p><span class="math display">\[\begin{align}
r_o &amp;= \frac{\partial V_{DS}}{\partial I_D} \\
&amp;= \frac{1}{\partial I_D/\partial V_{DS}} \\
&amp;= \frac{1}{\lambda I_D} \\
&amp;= \frac{V_A}{I_D}
\end{align}\]</span></p>
<p>Due to <span class="math inline">\(\lambda \propto 1/L\)</span>, i.e.
<span class="math inline">\(V_A \propto L\)</span> <span
class="math display">\[
r_o \propto \frac{L}{I_D}
\]</span> <img src="/2023/01/01/insight/image-20220930001909262.png"
alt="image-20220930001909262" /></p>
<p><img src="/2023/01/01/insight/image-20220930002003924.png"
alt="image-20220930002003924" /></p>
<p><img src="/2023/01/01/insight/image-20220930002157365.png"
alt="image-20220930002157365" /></p>
<p>The output resistance is almost doubled using Stacked FET in
<em>saturation region</em></p>
<blockquote>
<p><span class="math inline">\(V_t\)</span> and mobility <span
class="math inline">\(\mu_{n,p}\)</span> are sensitive to
temperature</p>
<ul>
<li><span class="math inline">\(V_t\)</span> decreases by 2-mV for every
1<span class="math inline">\(^oC\)</span> rise in temperature</li>
<li>mobility <span class="math inline">\(\mu_{n,p}\)</span> decreases
with temperature</li>
</ul>
<p>Overall, increase in temperature results in lower drain currents</p>
</blockquote>
<h2
id="biasing-current-source-and-global-variation-monte-carlo-simulation">Biasing
current source and global variation Monte Carlo simulation</h2>
<p><img src="/2023/01/01/insight/image-20221020225334767.png"
alt="image-20221020225334767" /></p>
<p><img src="/2023/01/01/insight/image-20221020225502503.png"
alt="image-20221020225502503" /></p>
<p><strong>iwl</strong>: biased by mirror</p>
<p><strong>iwl_ideal</strong>: biased by <em>vdc</em> source, whose
value is <em>typical corner</em></p>
<hr />
<p>For <strong>local variation</strong>, constant voltage bias
(<em>vb_const</em> in schematic) help reduce variation from <span
class="math inline">\(\sqrt{2}\Delta V_{th}\)</span> to <span
class="math inline">\(\Delta V_{th}\)</span></p>
<p>For <strong>global variation</strong>, <em>all device have same
variation</em>, mirror help reduce variation by sharing same <span
class="math inline">\(V_{gs}\)</span></p>
<ol type="1">
<li>global variation + local variation (All MC)</li>
</ol>
<p><img src="/2023/01/01/insight/image-20221020225615633.png"
alt="image-20221020225615633" /></p>
<ol start="2" type="1">
<li>local variation (Mismatch MC)</li>
</ol>
<p><img src="/2023/01/01/insight/image-20221020225701218.png"
alt="image-20221020225701218" /></p>
<ol start="3" type="1">
<li>global variation (Process MC)</li>
</ol>
<p><img src="/2023/01/01/insight/image-20221020232515420.png"
alt="image-20221020232515420" /></p>
<blockquote>
<p>We had better bias mos gate with mirror rather than the <em>vdc</em>
source while simulating sub-block.</p>
<p>This is real situation due to current source are always biased by
mirror and <em>vdc</em> biasing don't give the right result in global
variation Monte Carlo simulation (<em>542.8n</em> is too pessimistic,
<em>13.07p</em> is right result)</p>
</blockquote>
<h2 id="schmitt-inverter">Schmitt Inverter</h2>
<p><img src="/2023/01/01/insight/image-20231021232912529.png"
alt="image-20231021232912529" /></p>
<h2 id="gmid-adt">gm/ID: ADT</h2>
<p><img src="/2023/01/01/insight/image-20230101175707586.png"
alt="image-20230101175707586" /></p>
<p><img src="/2023/01/01/insight/image-20230101191928423.png"
alt="image-20230101191928423" /></p>
<p><img src="/2023/01/01/insight/image-20230101212125344.png"
alt="image-20230101212125344" /></p>
<p><img src="/2023/01/01/insight/image-20230101234936702.png"
alt="image-20230101234936702" /></p>
<p><img src="/2023/01/01/insight/image-20230101235655601.png"
alt="image-20230101235655601" /></p>
<p><img src="/2023/01/01/insight/image-20230102000059723.png"
alt="image-20230102000059723" /></p>
<p><img src="/2023/01/01/insight/image-20230103220933081.png"
alt="image-20230103220933081" /></p>
<blockquote>
<p>small gm/ID for High ro, or high Early voltage <span
class="math inline">\(V_A\)</span></p>
</blockquote>
<h2 id="transit-frequency-f_t">Transit Frequency <span
class="math inline">\(f_T\)</span></h2>
<p>Defined as the frequency at which the <strong>small-signal current
gain</strong> of a device is <strong>unity</strong></p>
<p><img src="/2023/01/01/insight/image-20231213234524075.png"
alt="image-20231213234524075" /></p>
<hr />
<p><img src="/2023/01/01/insight/image-20240116233951006.png"
alt="image-20240116233951006" /></p>
<h2 id="g_m-vs-v_textds"><span class="math inline">\(g_m\)</span> vs
<span class="math inline">\(V_{\text{DS}}\)</span></h2>
<p><img src="/2023/01/01/insight/image-20231125224714658.png"
alt="image-20231125224714658" /></p>
<h2 id="operating-points-small-gain-theorem">Operating points &amp;
Small gain theorem</h2>
<blockquote>
<p>Dr. Degang Chen, <strong>EE 501:</strong> <strong>CMOS Analog
Integrated Circuit Design</strong> [<a
target="_blank" rel="noopener" href="https://class.ece.iastate.edu/djchen/ee501/2020/References.ppt">https://class.ece.iastate.edu/djchen/ee501/2020/References.ppt</a>]</p>
</blockquote>
<p><img src="/2023/01/01/insight/image-20231202102259692.png"
alt="image-20231202102259692" /></p>
<p>For any given constant values of <em>u</em> and <em>v</em>, the
constant values of variables that solve the the feed back relationship
are called the <strong>operating points</strong>, or <strong>equilibrium
points</strong>.</p>
<blockquote>
<p><em>Operating points</em> can be either <em>stable</em> or
<em>unstable</em>.</p>
<p>An operating point is unstable if any or some small perturbation near
it causes divergence away from that operating point.</p>
</blockquote>
<p>If the loop gain evaluated at an operating point is <strong>less than
one</strong>, that operating point is <strong>stable</strong>.</p>
<blockquote>
<p>This is a sufficient condition</p>
</blockquote>
<p><img src="/2023/01/01/insight/image-20231202105749888.png"
alt="image-20231202105749888" /></p>
<p><img src="/2023/01/01/insight/image-20231202105621385.png"
alt="image-20231202105621385" /></p>
<p>With <span class="math inline">\(m_{1\to 2} = 1\)</span> <span
class="math display">\[
\text{Loop Gain} \simeq \frac{V_{BN}-V_{T2}}{V_{BN}-V_{T2} + V_R}
\tag{LG\_0}
\]</span> Assuming all MOS in strong inv operation, <span
class="math inline">\(I\)</span>, <span
class="math inline">\(V_{BN}\)</span> and <span
class="math inline">\(V_R\)</span> is obtain <span
class="math display">\[\begin{align}
I &amp;= \frac{2\beta _1 + 2\beta _2 - 4\sqrt{\beta _1 \beta
_2}}{R^2\beta _1 \beta _2} \\
V_{BN} &amp;= V_{T2} + \frac{2}{R\beta _2}(1- \sqrt{\frac{\beta
_2}{\beta _1}}) \\
IR &amp;= \frac{2}{R}\left( \frac{1}{\sqrt{\beta_2}}
-  \frac{1}{\sqrt{\beta_1}} \right)
\end{align}\]</span></p>
<p>Substitute <span class="math inline">\(V_{BN}\)</span> and <span
class="math inline">\(V_R\)</span> of <span
class="math inline">\((LG\_0)\)</span> <span
class="math display">\[\begin{align}
\text{Loop Gain} &amp; \simeq
\frac{1-\sqrt{\frac{\beta_2}{\beta_1}}}{\frac{\beta_2}{\beta_1} -
3\sqrt{\frac{\beta_2}{\beta_1}}+2} \\
&amp;= \frac{1}{2-\sqrt{\frac{\beta_2}{\beta_1}}} \tag{LG\_1}
\end{align}\]</span></p>
<h3 id="alternative-approach-for-loop-gain">Alternative approach for
Loop Gain</h3>
<blockquote>
<p>using derivation of large signal</p>
</blockquote>
<p><img src="/2023/01/01/insight/image-20231202132310478.png"
alt="image-20231202132310478" /></p>
<p><img src="/2023/01/01/insight/image-20231202134138319.png"
alt="image-20231202134138319" /></p>
<hr />
<blockquote>
<p>❗❗❗ R should <strong>not</strong> be on the other side</p>
</blockquote>
<p><img src="/2023/01/01/insight/image-20231202104505264.png"
alt="image-20231202104505264" /></p>
<h2 id="bias-circuit">Bias Circuit</h2>
<h3 id="cascode-with-switch">cascode with switch</h3>
<p><img src="/2023/01/01/insight/image-20231212145336401.png"
alt="image-20231212145336401" /></p>
<h3 id="cascode-with-single-current-input">cascode with single current
input</h3>
<p><img src="/2023/01/01/insight/image-20231212153054247.png"
alt="image-20231212153054247" /></p>
<h3 id="supply-independent-biasing">Supply Independent Biasing</h3>
<h4 id="constant-gm">constant-gm</h4>
<blockquote>
<p>aka. <strong>Beta-multiplier reference</strong></p>
</blockquote>
<p><img src="/2023/01/01/insight/image-20231213235846243.png"
alt="image-20231213235846243" /></p>
<h2 id="mosfet-ztc-condition-analysis">MOSFET ZTC Condition
Analysis</h2>
<blockquote>
<p>zero temperature coefficient (ZTC)</p>
</blockquote>
<p><img src="/2023/01/01/insight/image-20231212195536754.png"
alt="image-20231212195536754" /></p>
<h2 id="mom-cap-of-wo_mx">MOM cap of wo_mx</h2>
<p>Monte Carlo model:</p>
<ul>
<li><span class="math inline">\(C_{pa}=C_{pa1}\)</span>, <span
class="math inline">\(C_{pb}=C_{pb1}\)</span> for each iteration during
<em>Process Variation</em></li>
<li>different variation is applied to <span
class="math inline">\(C_{ab}\)</span> and <span
class="math inline">\(C_{a1b1}\)</span> each iteration during
<em>Mismatch Variation</em>, though <span
class="math inline">\(C_{pa}\)</span>, <span
class="math inline">\(C_{pb}\)</span>, <span
class="math inline">\(C_{pa1}\)</span> and <span
class="math inline">\(C_{pb1}\)</span> remain constant</li>
</ul>
<p><img src="/2023/01/01/insight/image-20230220230434891.png"
alt="image-20230220230434891" /></p>
<p><img src="/2023/01/01/insight/image-20230220230331505.png"
alt="image-20230220230331505" /></p>
<h2 id="active-inductor">Active Inductor</h2>
<p><img src="/2023/01/01/insight/activeInd.svg" alt="activeInd" /></p>
<p><span class="math display">\[\begin{align}
A &amp;= \frac{g_mR_L}{1+(g_\text{m\_dio}+ g_\text{ds\_tot})R_L}\cdot
\frac{1+R_pC_Ps}{1+\frac{(1+g_\text{ds\_tot}R_L)R_PC_P+C_PR_L+R_LC_L}{1+(g_\text{m\_dio}+g_\text{ds\_tot})R_L}s
+ \frac{R_LC_LR_PC_P}{1+(g_\text{m\_dio}+g_\text{ds\_tot})R_L}s^2} \\
&amp;= \frac{g_mR_L}{1+(g_\text{m\_dio}+ g_\text{ds\_tot})R_L}\cdot
\frac{R_PC_P}{
\frac{R_LC_LR_PC_P}{1+(g_\text{m\_dio}+g_\text{ds\_tot})R_L}}\cdot
\frac{1/(R_PC_P)+s}{s^2 +
\frac{(1+g_\text{ds\_tot}R_L)R_PC_P+C_PR_L+R_LC_L}{R_PC_P}s +
\frac{1+(g_\text{m\_dio}+g_\text{ds\_tot})R_L}{R_LC_LR_PC_P}} \\
&amp;= A_0 \cdot A(s)
\end{align}\]</span></p>
<p>That is</p>
<p><span class="math display">\[\begin{align}
\omega_z &amp;= \frac{1}{R_PC_P} \tag{1} \\
\omega_n &amp;=
\sqrt{\frac{1+(g_\text{m\_dio}+g_\text{ds\_tot})R_L}{R_LC_LR_PC_P}} =
\sqrt{\omega_{p0}\omega_z} \\
\zeta &amp; = \frac{(1+g_\text{ds\_tot}R_L)R_PC_P+C_PR_L+R_LC_L}{R_PC_P}
\frac{1}{2 \omega_n}
\end{align}\]</span></p>
<p>Where <span class="math display">\[\begin{align}
\omega_{p0} &amp;=
\frac{1}{(R_L||\frac{1}{g_\text{m\_dio}}||\frac{1}{g_\text{ds\_tot}})C_L}  \tag{2}
\end{align}\]</span></p>
<p>Here, relate <span class="math inline">\(\omega_{p0}\)</span> and
<span class="math inline">\(\omega_z\)</span> by coefficient <span
class="math inline">\(\alpha\)</span> <span class="math display">\[
\omega_{p0} = \alpha \cdot  \omega_z \tag{3}
\]</span> This way <span class="math display">\[
\omega_n= \sqrt{\alpha}\cdot \omega_z
\]</span></p>
<p><span class="math display">\[
\zeta = \frac{1}{2}(K\sqrt{\alpha}+\frac{1+C_P/C_L}{\sqrt{\alpha}})
\tag{4}
\]</span> where <span class="math display">\[
K =
\frac{R_L||\frac{1}{g_\text{m\_dio}}||\frac{1}{g_\text{ds\_tot}}}{R_L||g_\text{ds\_tot}}
\]</span></p>
<p>And <span class="math inline">\(A(s)\)</span> can be expressed as
<span class="math display">\[
A(s) =
\frac{\frac{s}{\omega_z}+1}{\frac{s^2}{\omega_n^2}+2\frac{\zeta}{\omega_n}s+1}
\]</span> It magnitude in dB <span class="math display">\[
A_\text{dB} =
10\log\frac{1+(\omega/\omega_z)^2}{1+(\omega/\omega_n)^4+2\omega^2(2\zeta^2-1)/\omega_n^2}
\]</span> Substitute <span class="math inline">\(\omega_n\)</span> with
Eq (2), followed is obtained <span class="math display">\[
A_\text{dB} = 10\log{\frac{\alpha^2(\omega_z^4 +
\omega_z^2\omega^2)}{\alpha^2\omega_z^4+\omega^4+2\alpha\omega_z^2(2\zeta^2-1)\omega^2}}
\]</span> peaking frequency <span class="math display">\[
\omega_\text{peak} = \omega_z\cdot \sqrt{\sqrt{(\alpha+1)^2 - 4\alpha
\zeta^2}-1}
\]</span> If <span class="math inline">\(\zeta=1\)</span> <span
class="math display">\[\begin{align}
\omega_{A_\text{dB = 0dB} }&amp;= \sqrt{1-2/\alpha}\cdot \omega_{p0} \\
\omega_\text{peak} &amp;= \omega_z\sqrt{\alpha-2} \\
A_\text{dB,peak} &amp;= 10\log\frac{\alpha^2}{4(\alpha-1)}
\end{align}\]</span></p>
<h2 id="miller-multiplication-of-capacitor">Miller multiplication of
Capacitor</h2>
<h3 id="positive-cap">Positive Cap</h3>
<p><img src="/2023/01/01/insight/image-20231220225508580.png"
alt="image-20231220225508580" /></p>
<p><img src="/2023/01/01/insight/image-20231220225450481.png"
alt="image-20231220225450481" /></p>
<h3 id="negative-cap">Negative Cap</h3>
<p><img src="/2023/01/01/insight/image-20231220225910283.png"
alt="image-20231220225910283" /></p>
<p><img src="/2023/01/01/insight/image-20231220230015868.png"
alt="image-20231220230015868" /></p>
<h2 id="ds-small-signal-model">D/S small signal model</h2>
<p><img src="/2023/01/01/insight/image-20240106161059584.png"
alt="image-20240106161059584" /></p>
<blockquote>
<p>The <code>Drain</code> and <code>Source</code> of MOS are determined
in <em>DC operating point</em>, i.e. large signal.</p>
</blockquote>
<p>That is, top of <span class="math inline">\(M_2\)</span> is
<code>drain</code> and bottom is <code>source</code>, <span
class="math display">\[\begin{align}
R_\text{eq2} &amp;= \frac{r_\text{o2}+R_L}{1+g_\text{m2}r_\text{o2}} \\
&amp; \simeq  \frac{1}{g_\text{m2}}
\end{align}\]</span></p>
<h2 id="pmos-small-signal-model-polarity">PMOS small signal model
polarity</h2>
<blockquote>
<p>The small-signal models of NMOS and PMOS transistors are
<strong>identical</strong></p>
</blockquote>
<p>A negative <span class="math inline">\(\Delta V_\text{GS}\)</span>
leads to a negative <span class="math inline">\(\Delta I_D\)</span>.</p>
<blockquote>
<p>Recall that <span class="math inline">\(I_D\)</span>, in the
direction shown here, is negative because the actual current of holes
flows from the source to the drain.</p>
<p><img src="/2023/01/01/insight/image-20240106170315177.png"
alt="image-20240106170315177" /></p>
</blockquote>
<p>Conversely, a positive <span class="math inline">\(\Delta
V_\text{GS}\)</span> produces a positive <span
class="math inline">\(\Delta I_D\)</span>, as is the case for an NMOS
device.</p>
<p><img src="/2023/01/01/insight/image-20240106164923917.png"
alt="image-20240106164923917" /></p>
<h2 id="current-mirror-mismatch">current mirror mismatch</h2>
<p>The current mismatch consists of two components.</p>
<ul>
<li>The first depends on threshold voltage mismatch and increases as the
overdrive <span class="math inline">\((V_{GS} − V_t)\)</span> is
reduced.</li>
<li>The second is geometry dependent and contributes a fractional
current mismatch that is independent of bias point.</li>
</ul>
<p><span class="math display">\[
\Delta I_D = g_m\cdot \Delta V_{TH}+I_D\cdot \frac{\Delta(W/L)}{W/L}
\]</span></p>
<p>where mismatches in <span class="math inline">\(\mu_nC_{ox}\)</span>
are neglected</p>
<p><span class="math display">\[\begin{align}
\Delta V_{TH} &amp;= \frac{A_{VTH}}{\sqrt{WL}} \\
\frac{\Delta(W/L)}{W/L} &amp;= \frac{A_{WL}}{\sqrt{WL}}
\end{align}\]</span></p>
<h3 id="summary">summary</h3>
<table>
<colgroup>
<col style="width: 35%" />
<col style="width: 7%" />
<col style="width: 8%" />
<col style="width: 14%" />
<col style="width: 28%" />
<col style="width: 4%" />
</colgroup>
<thead>
<tr class="header">
<th>Size</th>
<th><span class="math inline">\(g_m\)</span></th>
<th><span class="math inline">\(\Delta V_{TH}\)</span></th>
<th><span class="math inline">\(\frac{\Delta(W/L)}{W/L}\)</span></th>
<th>mismatch (%)</th>
<th>simu (%)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>W, L</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td><span
class="math inline">\(I_{\Delta_{V_{TH}}}+I_{\Delta_{WL}}\)</span></td>
<td>3.44</td>
</tr>
<tr class="even">
<td>W, 2L</td>
<td><span class="math inline">\(1/\sqrt{2}\)</span></td>
<td><span class="math inline">\(1/\sqrt{2}\)</span></td>
<td><span class="math inline">\(1/\sqrt{2}\)</span></td>
<td><span
class="math inline">\(I_{\Delta_{V_{TH}}}/2+I_{\Delta_{WL}}/\sqrt{2}\)</span></td>
<td>1.98</td>
</tr>
<tr class="odd">
<td>2W, L</td>
<td><span class="math inline">\(\sqrt{2}\)</span></td>
<td><span class="math inline">\(1/\sqrt{2}\)</span></td>
<td><span class="math inline">\(1/\sqrt{2}\)</span></td>
<td><span
class="math inline">\(I_{\Delta_{V_{TH}}}+I_{\Delta_{WL}}/\sqrt{2}\)</span></td>
<td>2.93</td>
</tr>
<tr class="even">
<td>We get <span class="math inline">\(I_{\Delta_{V_{TH}}}\simeq
1.71\%\)</span> and <span class="math inline">\(I_{\Delta_{WL}} \simeq
1.73\%\)</span></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<p><img src="/2023/01/01/insight/image-20221003001056211.png"
alt="image-20221003001056211" /></p>
<p><img src="/2023/01/01/insight/image-20221002215942456.png"
alt="image-20221002215942456" /></p>
<h2 id="leakage-in-mos">Leakage in MOS</h2>
<p><img src="/2023/01/01/insight/image-20230812104737404.png"
alt="image-20230812104737404" /></p>
<h3 id="reference">reference</h3>
<p>W. M. Elgharbawy and M. A. Bayoumi, "Leakage sources and possible
solutions in nanometer CMOS technologies," in IEEE Circuits and Systems
Magazine, vol. 5, no. 4, pp. 6-17, Fourth Quarter 2005, doi:
10.1109/MCAS.2005.1550165.</p>
<p>X. Qi et al., "Efficient subthreshold leakage current optimization -
Leakage current optimization and layout migration for 90- and 65- nm
ASIC libraries," in IEEE Circuits and Devices Magazine, vol. 22, no. 5,
pp. 39-47, Sept.-Oct. 2006, doi: 10.1109/MCD.2006.272999.</p>
<p>P. Monsurró, S. Pennisi, G. Scotti and A. Trifiletti, "Exploiting the
Body of MOS Devices for High Performance Analog Design," in IEEE
Circuits and Systems Magazine, vol. 11, no. 4, pp. 8-23, Fourthquarter
2011, doi: 10.1109/MCAS.2011.942751.</p>
<h2 id="reference-1">reference</h2>
<p>M. Tian, V. Visvanathan, J. Hantgan and K. Kundert, "Striving for
small-signal stability," in IEEE Circuits and Devices Magazine, vol. 17,
no. 1, pp. 31-41, Jan. 2001, doi: 10.1109/101.900125.</p>
<p>Open loop gain analysis and "STB" method [<a
target="_blank" rel="noopener" href="https://www.linkedin.com/pulse/open-loop-gain-analysis-stb-method-jean-francois-debroux">https://www.linkedin.com/pulse/open-loop-gain-analysis-stb-method-jean-francois-debroux</a>]</p>
<p>The Analog Designer's Toolbox (ADT) | Invited Talk by IEEE Santa
Clara Valley Section CAS Society, <a
target="_blank" rel="noopener" href="https://youtu.be/FT6kKC5OdE0">https://youtu.be/FT6kKC5OdE0</a></p>
<p>ESSCIRC2023 Circuit Insights Ali Sheikholeslami [<a
target="_blank" rel="noopener" href="https://youtu.be/2xFIZM5_FPw?si=XWwSzDgKWZGB0rX1">https://youtu.be/2xFIZM5_FPw?si=XWwSzDgKWZGB0rX1</a>]</p>
<p>Ali Sheikholeslami, Circuit Intuitions: Thevenin and Norton
Equivalent Circuits, Part 3 IEEE Solid-State Circuits Magazine, Vol. 10,
Issue 4, pp. 7-8, Fall 2018.</p>
<p>Ali Sheikholeslami, Circuit Intuitions: Thevenin and Norton
Equivalent Circuits, Part 2 IEEE Solid-State Circuits Magazine, Vol. 10,
Issue 3, pp. 7-8, Summer 2018.</p>
<p>Ali Sheikholeslami, Circuit Intuitions: Thevenin and Norton
Equivalent Circuits, Part 1 IEEE Solid-State Circuits Magazine, Vol. 10,
Issue 2, pp. 7-8, Spring 2018.</p>
<p>Ali Sheikholeslami, Circuit Intuitions: Miller's Approximation IEEE
Solid-State Circuits Magazine, Vol. 7, Issue 4, pp. 7-8, Fall 2015.</p>
<p>Ali Sheikholeslami, Circuit Intuitions: Miller's Theorem IEEE
Solid-State Circuits Magazine, Vol. 7, Issue 3, pp. 8-10, Summer
2015.</p>
<p>Shanthi Pavan, "Demystifying Linear Time Varying Circuits"</p>
<p>ecircuitcenter. Switched-Capacitor Resistor [<a
target="_blank" rel="noopener" href="http://www.ecircuitcenter.com/Circuits/SWCap/SWCap.htm">http://www.ecircuitcenter.com/Circuits/SWCap/SWCap.htm</a>]</p>
<p>Jørgen Andreas Michaelsen. INF4420 Switched-Capacitor Circuits. [<a
target="_blank" rel="noopener" href="https://www.uio.no/studier/emner/matnat/ifi/INF4420/v13/undervisningsmateriale/inf4420_v13_07_switchedcapacitor_print.pdf">https://www.uio.no/studier/emner/matnat/ifi/INF4420/v13/undervisningsmateriale/inf4420_v13_07_switchedcapacitor_print.pdf</a>]</p>
<p>chembiyan T. OC Lecture 10: A very basic introduction to switched
capacitor circuits [<a
target="_blank" rel="noopener" href="https://youtu.be/SaYtemYp4rQ?si=q2qovTKJrLy65pnu">https://youtu.be/SaYtemYp4rQ?si=q2qovTKJrLy65pnu</a></p>
<p>Robert Bogdan Staszewski, Poras T. Balsara. "All‐Digital Frequency
Synthesizer in Deep‐Submicron CMOS"</p>
<p>Mayank Parasrampuria, Sandeep Jain, Burn-in 101 [<a
target="_blank" rel="noopener" href="https://www.edn.com/burn-in-101/">link</a>]</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/12/16/VMwareDiskShrink/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Guo">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="KNOW-HOW">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | KNOW-HOW">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2022/12/16/VMwareDiskShrink/" class="post-title-link" itemprop="url">VMware Disk Shrink</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2022-12-16 15:36:35" itemprop="dateCreated datePublished" datetime="2022-12-16T15:36:35+00:00">2022-12-16</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2024-06-10 13:55:41" itemprop="dateModified" datetime="2024-06-10T13:55:41+00:00">2024-06-10</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/devops/" itemprop="url" rel="index"><span itemprop="name">devops</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>In Guest OS and run</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo vmware-toolbox-cmd disk shrink /</span><br></pre></td></tr></table></figure>
<p><a
target="_blank" rel="noopener" href="https://superuser.com/q/211798">https://superuser.com/q/211798</a></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/12/14/Pole-Zero-Doublets/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Guo">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="KNOW-HOW">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | KNOW-HOW">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2022/12/14/Pole-Zero-Doublets/" class="post-title-link" itemprop="url">Pole-Zero Doublets</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2022-12-14 23:27:20" itemprop="dateCreated datePublished" datetime="2022-12-14T23:27:20+00:00">2022-12-14</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2024-06-10 13:55:41" itemprop="dateModified" datetime="2024-06-10T13:55:41+00:00">2024-06-10</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/analog/" itemprop="url" rel="index"><span itemprop="name">analog</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>Mismatch between the pole and zero frequencies leads to the
<strong>“doublet problem”</strong>. If the pole and the zero do not
exactly coincide, we say that they constitute a
<strong>doublet</strong></p>
<blockquote>
<p>Problem 10.19 in Razavi 2nd book</p>
</blockquote>
<p>Suppose the open-loop transfer function of a two-stage op amp is
expressed as <span class="math display">\[
H_{open}(s)=\frac{A_0(1+\frac{s}{\omega_z})}{\left( 1+
\frac{s}{\omega_{p1}}\right)\left( 1+ \frac{s}{\omega_{p2}}\right)}
\]</span> deally, <span class="math inline">\(\omega_z=\omega_2\)</span>
and the feedback circuit exhibits a first-order behavior, i.e., its step
response contains a single time constant and no overshoot.</p>
<p>Then the transfer function of the amplifier in a <em>unity-gain
feedback loop</em> is given by <span
class="math display">\[\begin{align}
H_{closed}(s)
&amp;=\frac{A_0\left(1+\frac{s}{\omega_z}\right)}{\frac{s^2}{\omega_{p1}\omega_{p2}}+\left(
\frac{1}{\omega_{p1}} +
\frac{1}{\omega_{p2}}+\frac{A_0}{\omega_{z}}\right)s+A_0+1} \\
&amp;=\frac{\frac{A_0}{A_0+1}(1+\frac{s}{\omega_z})}{\frac{s^2}{\omega_{p1}\omega_{p2}(A_0+1)}+\left(
\frac{1}{\omega_{p1}} +
\frac{1}{\omega_{p2}}+\frac{A_0}{\omega_{z}}\right)\frac{s}{A_0+1}+1}
\end{align}\]</span></p>
<hr />
<p>The denominator part of <span
class="math inline">\(H_{closed}(s)\)</span> is <span
class="math display">\[
D(s) = \frac{s^2}{\omega_{p1}\omega_{p2}}+\left( \frac{1}{\omega_{p1}} +
\frac{1}{\omega_{p2}}+\frac{A_0}{\omega_{z}}\right)s+A_0+1
\]</span></p>
<p>Assuming two poles (<span class="math inline">\(\omega_{pA}
\ll\omega_{pB}\)</span>) of <span
class="math inline">\(H_{closed}(s)\)</span> are widely spaced, <span
class="math display">\[\begin{align}
D(s) &amp;= \left( 1+ \frac{s}{\omega_{pA}}\right)\left( 1+
\frac{s}{\omega_{pB}}\right)\\
&amp;\cong \frac{s^2}{\omega_{pA}\omega_{pB}}+\frac{s}{\omega_{pA}} + 1
\end{align}\]</span></p>
<p>Thus, the two poles of the closed-loop transfer function of system
are <span class="math display">\[\begin{align}
\omega_{pA} &amp;= \frac{A_0+1}{\frac{1}{\omega_{p1}} +
\frac{1}{\omega_{p2}}+\frac{A_0}{\omega_{z}}} \\
&amp;=  \frac{(A_0+1)\omega_{p1} \omega_{p2}}{\omega_{p1} + \omega_{p2}
+ \frac{A_0}{\omega_z}\omega_{p1} \omega_{p2}} \\
\omega_{pB} &amp;= \omega_{p1} + \omega_{p2} +
\frac{A_0}{\omega_z}\omega_{p1} \omega_{p2}
\end{align}\]</span></p>
<hr />
<p><strong>Assuming</strong> <span class="math inline">\(\omega_z \simeq
\omega_{p2}\)</span> and <span class="math inline">\(\omega_{p2}\ll
(1+A_0)\omega_{p1}\)</span> <span class="math display">\[
\omega_{pA} = \omega_{p2}
\]</span> and <span class="math display">\[
\omega_{pB} = (1+A_0)\omega_{p1}
\]</span> The closed-loop transfer function is <span
class="math display">\[
H_{closed}(s) =
\frac{\frac{A_0}{A_0+1}\left(1+\frac{s}{\omega_z}\right)}{\left(1+\frac{s}{(1+A_0)\omega_{p1}}\right)\left(
1+\frac{s}{\omega_{p2}} \right)}
\]</span></p>
<hr />
<p>The step response of the closed-loop amplifier</p>
<p>Consider the Laplace transform function of step response, <span
class="math inline">\(X(s)=\frac{1}{s}\)</span> <span
class="math display">\[
Y(s)=\frac{1}{s}\times H_{closed}(s)
\]</span> Thus, the <strong>small-signal step response</strong> of the
closed-loop amplifer is <span class="math display">\[
y(t)=\frac{A_0}{A_0+1}\left[1-e^{-(A_0+1)\omega_{p1}t}-\left(1-\frac{\omega_{p2}}{\omega_z}\right)e^{-\omega_{p2}t}
\right]u(t)
\]</span> Since, <span class="math inline">\(\omega_{p2}\ll
(1+A_0)\omega_{p1}\)</span>. Therefore, rewrite the <span
class="math inline">\(y(t)\)</span> <span class="math display">\[
y(t)\cong
\frac{A_0}{A_0+1}\left[1-\left(1-\frac{\omega_{p2}}{\omega_z}\right)e^{-\omega_{p2}t}
\right]u(t)
\]</span> The step response contains an exponential term of the form
<span
class="math inline">\(\left(1-\frac{\omega_{p2}}{\omega_z}\right)e^{-\omega_{p2}t}\)</span>.
This is an important result, indicating that if the zero does not
exactly cancel the pole, the step response exhibits an exponential with
an amplitude proportional to <span
class="math inline">\(\left(1-\frac{\omega_{p2}}{\omega_z}\right)\)</span>,
which depends on the mismatch between <span
class="math inline">\(\omega_z\)</span> and <span
class="math inline">\(\omega_{p2}\)</span> and a time constant <span
class="math inline">\(\tau\)</span> of <span
class="math inline">\(\frac{1}{\omega_{p2}}\)</span> or <span
class="math inline">\(\frac{1}{\omega_{z}}\)</span></p>
<h3 id="perfect-pole-zero-cancellation">perfect pole-zero
cancellation</h3>
<p><span class="math display">\[\begin{align}
y(t)
&amp;=\frac{A_0}{A_0+1}\left[1-e^{-(A_0+1)\omega_{p1}t}-\left(1-\frac{\omega_{p2}}{\omega_z}\right)e^{-\omega_{p2}t}
\right]u(t) \\
&amp;= \frac{A_0}{A_0+1}\left[1-e^{-(A_0+1)\omega_{p1}t}\right]u(t)
\end{align}\]</span></p>
<hr />
<p><img src="/2022/12/14/Pole-Zero-Doublets/image-20230108233523345.png"
alt="image-20230108233523345" /></p>
<p><img src="/2022/12/14/Pole-Zero-Doublets/image-20230108234123707.png"
alt="image-20230108234123707" /></p>
<blockquote>
<p>The zero comes from the mirror node</p>
<p>Thanks to unity gain buffer, zero is alleviated for <span
class="math inline">\(C_c\)</span></p>
</blockquote>
<h3 id="reference">reference</h3>
<p>Elad Alon, Lecture 10: Settling-Limited Amplifier Design Methodology,
EE 240B – Spring 2018, Advanced Analog Integrated Circuits <a
target="_blank" rel="noopener" href="https://inst.eecs.berkeley.edu/~ee240b/sp18/lectures/Lecture10_Settling_Design_2up.pdf">https://inst.eecs.berkeley.edu/~ee240b/sp18/lectures/Lecture10_Settling_Design_2up.pdf</a></p>
<p>Eric Chang, Prof. Elad Alon EE240B HW3 <a
target="_blank" rel="noopener" href="https://inst.eecs.berkeley.edu/~ee240b/sp18/homeworks/hw3.pdf">https://inst.eecs.berkeley.edu/~ee240b/sp18/homeworks/hw3.pdf</a>
and <a
target="_blank" rel="noopener" href="https://inst.eecs.berkeley.edu/~ee240b/sp18/homeworks/hw3_soln.pdf">https://inst.eecs.berkeley.edu/~ee240b/sp18/homeworks/hw3_soln.pdf</a></p>
<p>Prof. Tai-Haur Kuo, Analog IC Design ( 類比積體電路設計 ),
Operational Amplifiers <a
target="_blank" rel="noopener" href="http://msic.ee.ncku.edu.tw/course/aic/201809/chapter5.pdf">http://msic.ee.ncku.edu.tw/course/aic/201809/chapter5.pdf</a></p>
<p>B. Y. T. Kamath, R. G. Meyer and P. R. Gray, "Relationship between
frequency response and settling time of operational amplifiers," in IEEE
Journal of Solid-State Circuits, vol. 9, no. 6, pp. 347-352, Dec. 1974,
doi: 10.1109/JSSC.1974.1050527.</p>
<p>B. Y. T. Kamath, R. G. Meyer and P. R. Gray, "Relationship between
frequency response and settling time of operational amplifiers," in IEEE
Journal of Solid-State Circuits, vol. 9, no. 6, pp. 347-352, Dec. 1974,
doi: 10.1109/JSSC.1974.1050527.</p>
<p>P. R. Gray and R. G. Meyer, "MOS operational amplifier design-a
tutorial overview," in IEEE Journal of Solid-State Circuits, vol. 17,
no. 6, pp. 969-982, Dec. 1982, doi: 10.1109/JSSC.1982.1051851.</p>
<p>SERGIO FRANCO, Demystifying pole-zero doublets URL:<a
target="_blank" rel="noopener" href="https://www.edn.com/demystifying-pole-zero-doublets/">https://www.edn.com/demystifying-pole-zero-doublets/</a></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/12/11/aging/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Guo">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="KNOW-HOW">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | KNOW-HOW">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2022/12/11/aging/" class="post-title-link" itemprop="url">Device Aging</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2022-12-11 20:54:29" itemprop="dateCreated datePublished" datetime="2022-12-11T20:54:29+00:00">2022-12-11</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2024-06-10 13:55:41" itemprop="dateModified" datetime="2024-06-10T13:55:41+00:00">2024-06-10</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/analog/" itemprop="url" rel="index"><span itemprop="name">analog</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p><img src="/2022/12/11/aging/image-20231106232135180.png"
alt="image-20231106232135180" /></p>
<h2 id="terminology">Terminology</h2>
<p>The most accurate method to calculate the degradation of transistors
is the SPICE-level simulation of the whole netlist with application
programming interface (API) and industry-standard stress process
models</p>
<p>​ <strong>MOSRA</strong>: MOSFET reliability analysis Synopsys</p>
<p>​ <strong>RelXpert</strong>: Cadence</p>
<p>​ <strong>TMI</strong>: TSMC Model Interface, TSMC</p>
<p>​ <strong>OMI</strong>: Open Model Interface, Si2 standard,</p>
<blockquote>
<p>The Silicon Integration Initiative (Si2) Compact Model Coalition has
released the <em>Open Model Interface</em>, an Si2 standard, C-language
application programming interface that supports SPICE compact model
extensions.OMI allows circuit designers to simulate and analyze such
important physical effects as <em>self-heating</em> and <em>aging</em>,
and perform extended design optimizations. It is based on TMI2, the TSMC
Model Interface, which was donated to Si2 by TSMC in 2014.</p>
</blockquote>
<ul>
<li><strong>TDDB</strong>: Time-Dependent Dielectric Breakdown</li>
<li><strong>HCI</strong>: Hot Carrier injection</li>
<li><strong>BTI</strong>: Bias Temperature Instability
<ul>
<li><strong>NBTI</strong>: Negative Bias Temperature Instability</li>
<li><strong>PBTI</strong>: Positive Bias Temperature Instability</li>
</ul></li>
<li><strong>SHE</strong>: Self-Heating Effect</li>
</ul>
<p><img src="/2022/12/11/aging/4645.reliability.png"
alt="4645.reliability.png" /></p>
<h2 id="aging-she-in-finfet">Aging &amp; SHE in FinFET</h2>
<p><img src="/2022/12/11/aging/image-20230513215602865.png"
alt="image-20230513215602865" /></p>
<h2 id="she">SHE</h2>
<p><img src="/2022/12/11/aging/image-20221214001912093.png"
alt="image-20221214001912093" /></p>
<p><img src="/2022/12/11/aging/image-20230513110032603.png"
alt="image-20230513110032603" /></p>
<p><img src="/2022/12/11/aging/image-20221214001940656.png"
alt="image-20221214001940656" /></p>
<h3 id="self-heating-em">Self-Heating &amp; EM</h3>
<p><img src="/2022/12/11/aging/image-20230513220047241.png"
alt="image-20230513220047241" /></p>
<h3 id="heat-sink-hs">Heat Sink (HS)</h3>
<ol type="1">
<li><p>guard ring</p>
<p>closer OD help reduce dT</p></li>
<li><p>extended gate</p></li>
<li><p>source/drain metal stack</p></li>
</ol>
<h2 id="bti">BTI</h2>
<p><img src="/2022/12/11/aging/slide_39.jpg" alt="img" /></p>
<p>BTI occurs <em>predominantly in PMOS (or p-type or p channel)</em>
transistors and causes an increase in the transistor's <em>absolute
threshold voltage</em>.</p>
<p>Stress in the case of NBTI means that the PMOS transistor is
<strong>in inversion</strong>; that means that its <strong>gate to
body</strong> potential is substantially below 0 V for analogue circuits
or at <em>VGB = −VDD</em> for digital circuits</p>
<p><em>Higher voltages</em> and <em>higher temperatures</em> both have
an exponential impact onto the degradation, induced by NBTI.</p>
<p>NBTI will be accelaerated with thinner gate oxide, at a high
temperature and at a high electric field across the oxide region.</p>
<p>During recovery phase where the gate voltage of pMOS is high and
stress is removed, the H atoms in the gate oxiede diffuse back to
Si-SiO2 interface and the recombination of Si-H bonds reduces the
threshold voltage of pMOS.</p>
<p><img src="/2022/12/11/aging/image-20230513111525657.png"
alt="image-20230513111525657" /></p>
<p><img src="/2022/12/11/aging/image-20230513111657285.png"
alt="image-20230513111657285" /></p>
<blockquote>
<p>The net result is an increase in the magnitude of the device
<strong>threshold voltage |Vt|</strong>, and a degradation of the
channel <strong>carrier mobility</strong>.</p>
<p><strong>Caution</strong>: The aging model provided by fab may
<strong>NOT</strong> contain recovry effect</p>
</blockquote>
<p><img src="/2022/12/11/aging/image-20230513104621962.png"
alt="image-20230513104621962" /></p>
<p><img src="/2022/12/11/aging/image-20230513104654501.png"
alt="image-20230513104654501" /></p>
<p><img src="/2022/12/11/aging/image-20230513105016631.png"
alt="image-20230513105016631" /></p>
<p><img src="/2022/12/11/aging/image-20230513105100239.png"
alt="image-20230513105100239" /></p>
<h2 id="hci">HCI</h2>
<p>Short-channel MOSFETs may exprience <strong>high lateral electric
fields</strong> if the drain-source voltage is large. while the average
velocity of carriers saturate at high fields, the instantaneous velocity
and hence the kinetic energy of the carriers continue to increase,
especially as they accelerate toward the drain. These are called
<strong>hot</strong> carriers.</p>
<p>In nanometer technologies, hot carrier effects have
<strong>subsided</strong>. This is because the energy required to create
an electron-hole pair, <span class="math inline">\(E_g \simeq 1.12
eV\)</span>, is simply not available if the supply voltage is around
1V.</p>
<p><span class="math display">\[
F_E= E \cdot q
\]</span></p>
<p><span class="math display">\[\begin{align}
E_k &amp;= F_E \cdot s \\
&amp;= E \cdot q \cdot s
\end{align}\]</span></p>
<p>Electrons and holes gaining high <strong>kinetic energies</strong> in
the electric field (<strong>hot carriers</strong>) may be injected into
the gate oxide and cause <em>permanent</em> changes in the
oxide-interface charge distribution, degrading the current-voltage
characteristics of the MOSFET.</p>
<p>The channel hot-electron (CHE) effect is caused by electons flowing
in the channel region, from the source to the drain. This effect is more
pronounced at large drain-to-source voltage, at which the lateral
electric field in the drain end of the channel accelerates the
electrons.</p>
<blockquote>
<p>Four different hot carrier injectoin mechanisms can be distinguished:
- channel hot electron (CHE) injection - drain avalanche hot carrier
(DAHC) injection - secondary generated hot electron (SGHE) injection -
substrate hot electron (SHE) injection</p>
</blockquote>
<p>HCI is more of a <strong>drain-localized</strong> mechanism, and is
primarily a <strong>carrier mobility</strong> degradation (and <em>a Vt
degradation if the device is operated bi-directionally</em>).</p>
<p><img src="/2022/12/11/aging/image-20230512213236023.png"
alt="image-20230512213236023" /></p>
<blockquote>
<p>For smaller transistor dimensions, <em>CHE</em> dominates the hot
carrier degradation effect</p>
</blockquote>
<p>The hot-carrier induced damage in nMOS transistors has been found to
result in either trapping of carriers on defect sites in the oxide or
the creation of interface states at the silicon-oxide interface, or
both.</p>
<p>The damage caused by hot-carrier injection affects the transistor
characteristics by causing a degradation in transconductance, a shift in
the threshold voltage, and a general decrease in the drain current
capability.</p>
<blockquote>
<p>HCI seems to have just a <strong>weak</strong> temperature
dependency. Unlike BTI, it seems to be no or just little recovery. As
holes are much "cooler" (i.e. heavier) than electrons, the channel hot
carrier effect in nMOS devices is shown to be more significant than in
pMOS devices.</p>
</blockquote>
<p><img src="/2022/12/11/aging/image-20231106224938502.png"
alt="image-20231106224938502" /></p>
<h3 id="degradation-saturation-effect">Degradation saturation
effect</h3>
<p>HCI model can reproduce the saturation effect if stress time is long
enough</p>
<p><img src="/2022/12/11/aging/image-20230513112108262.png"
alt="image-20230513112108262" /></p>
<h2 id="tddb">TDDB</h2>
<p>TDDB effect is also related to oxide traps. In general, TDDB refers
to the loss of isolating properties of a dielectric layer. If this
dielectric layer is the gate oxide, TDDB will initially lead to an
increase in the gate tunnelling current.</p>
<p>This soft breakdown can already lead to a parametric degradation.
After a long accumulation period, TDDB leads to a catastrophic reduction
of the channel to gate insulation and thus a functional failure of the
transistor.</p>
<p><img src="/2022/12/11/aging/image-20230513105908505.png"
alt="image-20230513105908505" /></p>
<blockquote>
<p>Scaling drive more concerns in TDDB</p>
</blockquote>
<p><img src="/2022/12/11/aging/slide_33.jpg" alt="img" /></p>
<p><img src="/2022/12/11/aging/slide_34.jpg" alt="img" /></p>
<h2 id="waveform-dependent-nature">waveform-dependent nature</h2>
<p>The figure below illustrates the waveform-dependent nature of these
mechanisms – as described earlier, BTI and HCI depend upon the region of
active device operation. The slew rate of the circuit inputs and output
will have a significant impact upon these mechanisms, especially
HCI.</p>
<p><img src="/2022/12/11/aging/img_5d04562454462.jpg" /></p>
<ul>
<li><strong>Negative bias temperature instability (NBTI)</strong>. This
is caused by <em>constant electric fields</em> degrading the dielectric,
which in turn causes the threshold voltage of the transistor to degrade.
That leads to lower switching speeds. This effect depends on the
activity level of the circuits, with heavier impact on parts of the
design that <em>don’t switch as often</em>, such as gated clocks,
control logic, and reset, programming and test circuitry.</li>
<li><strong>Hot carrier injection (HCI)</strong>. This is caused by
<em>fast-moving</em> electrons inserting themselves into the gate and
degrading performance. It primarily occurs on higher-voltage modes and
fast switching signals.</li>
</ul>
<p><img src="/2022/12/11/aging/image-20230513110202915.png"
alt="image-20230513110202915" /></p>
<ul>
<li><em>longer</em> channel length help both BTI and HCI</li>
<li><em>larger</em> <span class="math inline">\(V_{ds}\)</span> help
BTI, but hurt HCI</li>
<li><em>lower</em> temperature help BTI of core device, but hurt that of
IO device for 7nm FinFET</li>
</ul>
<h2 id="mosra">MOSRA</h2>
<p>MOSRA is a 2-step simulation: 1) Age computation, 2) Post-age
analysis</p>
<h2 id="tmi">TMI</h2>
<p>BTI recovery effect <strong>NOT</strong> included for N7</p>
<h2 id="stochastic-nature-of-reliability-mechanisms">Stochastic Nature
of Reliability Mechanisms</h2>
<blockquote>
<p>A fraction of devices will fail</p>
</blockquote>
<p><img src="/2022/12/11/aging/slide_5.jpg" alt="img" /></p>
<p><img src="/2022/12/11/aging/slide_6.jpg" alt="img" /></p>
<h2 id="circuit-simulations">Circuit Simulations</h2>
<p><img src="/2022/12/11/aging/image-20231106230145351.png"
alt="image-20231106230145351" /></p>
<p><img src="/2022/12/11/aging/image-20231106230226203.png"
alt="image-20231106230226203" /></p>
<h2 id="reference">reference</h2>
<p>Spectre Tech Tips: Device Aging? Yes, even Silicon wears out -
Analog/Custom Design (Analog/Custom design) - Cadence Blogs - Cadence
Community <a
target="_blank" rel="noopener" href="https://shar.es/afd31p">https://shar.es/afd31p</a></p>
<p>S. Liao, C. Huang, and A. C. J. X. T. Guo, "New Generation
Reliability Model," Dec 2016. [Online]. Available: <a
target="_blank" rel="noopener" href="http://www.mos-ak.org/berkeley_2016/publications/T11_Xie_MOS-AK_Berkeley_2016.pdf">http://www.mos-ak.org/berkeley_2016/publications/T11_Xie_MOS-AK_Berkeley_2016.pdf</a>.
[Accessed Aug 2018]</p>
<p>Tianlei Guo, Jushan Xie, "A Complete Reliability Solution:
Reliability Modeling, Applications, and Integration in Analog Design
Environment" [<a
target="_blank" rel="noopener" href="https://mos-ak.org/beijing_2018/presentations/Tianlei_Guo_MOS-AK_Beijing_2018.pdf">https://mos-ak.org/beijing_2018/presentations/Tianlei_Guo_MOS-AK_Beijing_2018.pdf</a>]</p>
<p>FinFET Reliability Analysis with Device Self-Heating via <span
class="citation" data-cites="DanielNenni">@DanielNenni</span> <a
target="_blank" rel="noopener" href="https://semiwiki.com/eda/synopsys/5085-finfet-reliability-analysis-with-device-self-heating/">https://semiwiki.com/eda/synopsys/5085-finfet-reliability-analysis-with-device-self-heating/</a></p>
<p>Chris Changze Liu 刘长泽,Hisilicon, Huawei, "Reliability Challenges
in Advanced Technology Node" <a
target="_blank" rel="noopener" href="https://www.tek.com.cn/sites/default/files/2018-09/reliability-challenges-in-advanced-technology-node.pdf">https://www.tek.com.cn/sites/default/files/2018-09/reliability-challenges-in-advanced-technology-node.pdf</a></p>
<p>Ben Kaczer, imec. FEOL reliability: from essentials to advanced and
emerging devices and circuits. 2016 IRPS Tutorial</p>
<p>Ben Kaczer, imec. Present and Future of FEOL Reliability—from
Dielectric Trap Properties to Reliable Circuit Operation. 2016 IEDM 2016
[<a target="_blank" rel="noopener" href="https://slideplayer.com/slide/12992784/">link</a>]</p>
<p>Kang, Sung-Mo Steve, Yusuf Leblebici and Chulwoo Kim. “CMOS Digital
Integrated Circuits: Analysis &amp; Design, 4th Edition.” (2014).</p>
<p>Behzad Razavi. "Design of Analog CMOS Integrated Circuits" (2016)</p>
<p>Basel Halak. Ageing of Integrated Circuits : Causes, Effects and
Mitigation Techniques. Cham, Switzerland: Springer, 2020. ‌</p>
<p>Elie Maricau, and Georges Gielen. Analog IC Reliability in Nanometer
CMOS. Springer Science &amp; Business Media, 2013. ‌</p>
<p>Transistor Aging Intensifies At 10/7nm And Below <a
target="_blank" rel="noopener" href="https://semiengineering.com/transistor-aging-intensifies-10nm/">https://semiengineering.com/transistor-aging-intensifies-10nm/</a></p>
<p>Modeling Effects of Dynamic BTI Degradation on Analog and
Mixed-Signal CMOS Circuits. MOS-AK/GSA Workshop, April 11-12, 2013,
Munich <a
target="_blank" rel="noopener" href="https://www.mos-ak.org/munich_2013/presentations/05_Leonhard_Heiss_MOS-AK_Munich_2013.pdf">https://www.mos-ak.org/munich_2013/presentations/05_Leonhard_Heiss_MOS-AK_Munich_2013.pdf</a></p>
<p>Challenges and Solutions in Modeling and Simulation of Device
Self-heating, Reliability Aging and Statistical Variability Effects <a
target="_blank" rel="noopener" href="https://www.mos-ak.org/beijing_2018/presentations/Dehuang_Wu_MOS-AK_Beijing_2018.pdf">https://www.mos-ak.org/beijing_2018/presentations/Dehuang_Wu_MOS-AK_Beijing_2018.pdf</a></p>
<p>New Generation Reliability Model <a
target="_blank" rel="noopener" href="https://www.mos-ak.org/berkeley_2016/publications/T11_Xie_MOS-AK_Berkeley_2016.pdf">https://www.mos-ak.org/berkeley_2016/publications/T11_Xie_MOS-AK_Berkeley_2016.pdf</a></p>
<p>FinFET SPICE Modeling: Synopsys Solutions to Simulation Challenges of
Advanced Technology Nodes <a
target="_blank" rel="noopener" href="https://www.mos-ak.org/washington_dc_2015/presentations/T03_Joddy_Wang_MOS-AK_Washington_DC_2015.pdf">https://www.mos-ak.org/washington_dc_2015/presentations/T03_Joddy_Wang_MOS-AK_Washington_DC_2015.pdf</a></p>
<p>A. Zhang et al., "Reliability variability simulation methodology for
IC design: An EDA perspective," 2015 IEEE International Electron Devices
Meeting (IEDM), Washington, DC, USA, 2015, pp. 11.5.1-11.5.4, doi:
10.1109/IEDM.2015.7409677.</p>
<p>W. -K. Lee et al., "Unifying self-heating and aging simulations with
TMI2," 2014 International Conference on Simulation of Semiconductor
Processes and Devices (SISPAD), Yokohama, Japan, 2014, pp. 333-336, doi:
10.1109/SISPAD.2014.6931631.</p>
<p>Aging and Self-Heating in FinFETs - Breakfast Bytes - Cadence Blogs -
Cadence Community <a
target="_blank" rel="noopener" href="https://community.cadence.com/cadence_blogs_8/b/breakfast-bytes/posts/aging-and-self-heating">https://community.cadence.com/cadence_blogs_8/b/breakfast-bytes/posts/aging-and-self-heating</a></p>
<p>Article (20482350) Title: Measure the Impact of Aging in Spectre
Technology URL:
https://support.cadence.com/apex/ArticleAttachmentPortal?id=a1O0V000009ESBFUA4</p>
<p>Karimi, Naghmeh, Thorben Moos and Amir Moradi. “Exploring the Effect
of Device Aging on Static Power Analysis Attacks.” IACR Trans. Cryptogr.
Hardw. Embed. Syst. 2019 (2019): 233-256.[<a
target="_blank" rel="noopener" href="https://pdfs.semanticscholar.org/b0f8/720a2b51a479f4a711bec4b47fdd50f29e2d.pdf">link</a>]</p>
<p>Self-Heating Issues Spread <a
target="_blank" rel="noopener" href="https://semiengineering.com/self-heating-issues-spread/">https://semiengineering.com/self-heating-issues-spread/</a></p>
<p>Y. Zhao and Y. Qu, "Impact of Self-Heating Effect on Transistor
Characterization and Reliability Issues in Sub-10 nm Technology Nodes,"
in IEEE Journal of the Electron Devices Society, vol. 7, pp. 829-836,
2019, doi: 10.1109/JEDS.2019.2911085.</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/12/10/FinFET-Considerations/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Guo">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="KNOW-HOW">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | KNOW-HOW">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2022/12/10/FinFET-Considerations/" class="post-title-link" itemprop="url">Custom Design with FinFETs</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2022-12-10 16:56:07" itemprop="dateCreated datePublished" datetime="2022-12-10T16:56:07+00:00">2022-12-10</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2024-06-10 13:55:41" itemprop="dateModified" datetime="2024-06-10T13:55:41+00:00">2024-06-10</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/analog/" itemprop="url" rel="index"><span itemprop="name">analog</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="design-considerations">Design Considerations</h2>
<p><img
src="/2022/12/10/FinFET-Considerations/image-20221210165644336.png"
alt="image-20221210165644336" /></p>
<p><img
src="/2022/12/10/FinFET-Considerations/image-20221210165916985.png"
alt="image-20221210165916985" /></p>
<h2 id="modeling-consideration">Modeling Consideration</h2>
<p><img
src="/2022/12/10/FinFET-Considerations/image-20221217152830191.png"
alt="image-20221217152830191" /></p>
<p><img
src="/2022/12/10/FinFET-Considerations/image-20221210170042233.png"
alt="image-20221210170042233" /></p>
<p><img src="/2022/12/10/FinFET-Considerations/mos_pro.drawio.svg"
alt="mos_pro" /> <span class="math display">\[\begin{align}
R_{d1} &amp;\propto \frac{1}{N_{fins}} \\
R_{s1} &amp;\propto \frac{1}{N_{fins}} \\
R_{g1} &amp;\propto N_{fins} \\
C_{gd} &amp;\propto N_{fins} \cdot N_{fingers} \cdot N_{multipler} \\
C_{gs} &amp;= Cgd \\
C_{g1d} &amp;\propto N_{fins} \\
C_{g1s} &amp;= C_{g1d} \\
C_{g1d1} &amp;\propto N_{fins} \\
C_{g1s1} &amp;= C_{g1d1}  \\
C_{g1d1} &amp;\simeq 2\times C_{g1d}
\end{align}\]</span></p>
<p><img
src="/2022/12/10/FinFET-Considerations/image-20230708221056420.png"
alt="image-20230708221056420" /></p>
<h2 id="layout-consideration">Layout Consideration</h2>
<h3 id="pode-cpode">PODE &amp; CPODE</h3>
<blockquote>
<p>The PODE devices is extracted as parasitic devices in post-layout
netlist</p>
</blockquote>
<p><img
src="/2022/12/10/FinFET-Considerations/image-20220213172653116.png"
alt="image-20220213172653116" /></p>
<p><strong>DDB</strong> is the <strong>PODE</strong> (Poly on
OD/Diffusion Edge) in TSMC 16FFC process.</p>
<p><strong>SDB</strong> is the <strong>CPODE</strong> (Connected PODE)
in TSMC 16FFC process.</p>
<blockquote>
<p>PO on OD edge (PODE) is a must and to define GATE that abuts OD
vertical edge</p>
<p>CPODE is used to connect two PODE cells together. It will isolate OD
to save 1 poly pitch, via STI; Additional mask (12N) is required for
manufacture</p>
</blockquote>
<p><img
src="/2022/12/10/FinFET-Considerations/image-20221210145232826.png"
alt="image-20221210145232826" /></p>
<p><img
src="/2022/12/10/FinFET-Considerations/image-20221210150847737.png"
alt="image-20221210150847737" /></p>
<p><img
src="/2022/12/10/FinFET-Considerations/image-20240509205506112.png"
alt="image-20240509205506112" /></p>
<h3 id="sac-sagc">SAC &amp; SAGC</h3>
<h4 id="self-aligned-diffusion-contacts-sacs">self-aligned diffusion
contacts (SACs)</h4>
<p>As shown in Fig. 35 in older planar technology nodes, gate pitch is
so relaxed such that S/D contacts and gate contacts can easily be placed
next to each other without causing any shorting risk (see Fig.
35(a)).</p>
<p><strong>As the gate pitch scales, there’s no room to put gate
contacts next to S/D contacts, and gatecontacts have been pushed away
from the active region and are only placed on the STI
region.</strong></p>
<p><img
src="/2022/12/10/FinFET-Considerations/image-20230708221916716.png"
alt="image-20230708221916716" /></p>
<p>In addition, at tight gate pitch, even forming <em>S/D contact</em>
without shorting to <em>gate metal</em> becomes very challenging.</p>
<p>The idea of <strong>self-aligned contacts (SAC)</strong> has been
introduced to mitigate the issue of S/D contact to gate shorts.</p>
<p>As shown in Fig. 35(b), <em>the gate metal is fully encapsulated by a
dielectric spacer and gate cap</em>, which protects the gate from
shorting to the S/D contact.</p>
<p><img
src="/2022/12/10/FinFET-Considerations/image-20230708230238362.png"
alt="image-20230708230238362" /></p>
<blockquote>
<p>A dielectric cap is added on top of the gate so that if the contact
overlaps the gate, no short occurs.</p>
<p><strong>MD</strong> layer represent SACs in PDK</p>
</blockquote>
<p><img
src="/2022/12/10/FinFET-Considerations/image-20230709005334372.png"
alt="image-20230709005334372" /></p>
<h4 id="self-aligned-gate-contacts-sagcs">self-aligned gate contacts
(SAGCs)</h4>
<p><strong>Self-aligned gate contacts (SAGCs)</strong> have also been
implemented and Denser standard cells can be achieved by eliminating the
need to land contacts on the gate outside the active area.</p>
<p>SAGCs require the source/drain contacts to be capped with an
insulator that is different from both contact and gate cap dielectrics
to protect the source/drain contacts against a misaligned gate contact
etch.</p>
<p><img
src="/2022/12/10/FinFET-Considerations/image-20230708233009568.png"
alt="image-20230708233009568" /></p>
<p><img
src="/2022/12/10/FinFET-Considerations/image-20230708232429240.png"
alt="image-20230708232429240" /></p>
<blockquote>
<p>According to the DRC of T foundary, poly extension &gt; 0 um and
space between MP and OD &gt; 0 um., which demonstrate self-aligned gate
contact is <strong>not</strong> introduced.</p>
</blockquote>
<h5 id="contacted-poly-pitch-cpp">Contacted-Poly-Pitch (CPP)</h5>
<blockquote>
<p>Wider Contacted-Poly-Pitch allows wider MD and VD size, which help
reduce MEOL IRdrop</p>
</blockquote>
<p><img
src="https://www.imec-int.com/_next/image?url=%2Fsites%2Fdefault%2Ffiles%2F2022-02%2FFigure%25201%2520-%2520Logic%2520standard%2520cell%2520scaling.JPG&amp;w=3840&amp;q=75"
alt="Schematic representation of a logic standard cell layout (CPP = contacted poly pitch, FP = fin pitch, MP = metal pitch; cell height = number of metal lines per cell x MP)." /></p>
<p><em>Naoto Horiguchi. Entering the Nanosheet Transistor Era [<a
target="_blank" rel="noopener" href="https://www.imec-int.com/en/articles/entering-nanosheet-transistor-era-0">link</a>]</em></p>
<h3 id="gate-resistance">Gate Resistance</h3>
<p><img
src="/2022/12/10/FinFET-Considerations/image-20230709000326683.png"
alt="image-20230709000326683" /></p>
<p><img
src="/2022/12/10/FinFET-Considerations/image-20230709004432013.png"
alt="image-20230709004432013" /></p>
<p><img
src="/2022/12/10/FinFET-Considerations/image-20230709000637817.png"
alt="image-20230709000637817" /></p>
<p><img
src="/2022/12/10/FinFET-Considerations/image-20230709003917922.png"
alt="image-20230709003917922" /></p>
<h4 id="non-quasistatic-nqs-effect">non-quasistatic (NQS) effect</h4>
<h2 id="reference">reference</h2>
<p>Tom Quan, TSMC, Bob Lefferts, Fred Sendig, Synopsys, Custom Design
with FinFETs - Best practices designing mixed-signal IP</p>
<p>Jacob, Ajey &amp; Xie, Ruilong &amp; Sung, Min &amp; Liebmann, Lars
&amp; Lee, Rinus &amp; Taylor, Bill. (2017). Scaling Challenges for
Advanced CMOS Devices. International Journal of High Speed Electronics
and Systems. 26. 1740001. 10.1142/S0129156417400018.</p>
<p>Joddy Wang, Synopsys <a
target="_blank" rel="noopener" href="https://www.mos-ak.org/washington_dc_2015/presentations/T03_Joddy_Wang_MOS-AK_Washington_DC_2015.pdf">"FinFET
SPICE Modeling"</a> Modeling of Systems and Parameter Extraction Working
Group 8th International MOS-AK Workshop (co-located with the IEDM
Conference and CMC Meeting) Washington DC, December 9 2015</p>
<p>A. L. S. Loke et al., "Analog/mixed-signal design challenges in 7-nm
CMOS and beyond," 2018 IEEE Custom Integrated Circuits Conference
(CICC), San Diego, CA, USA, 2018, pp. 1-8, doi:
10.1109/CICC.2018.8357060.[<a
target="_blank" rel="noopener" href="https://ewh.ieee.org/r6/san_diego/sscs/events/slides/2018_05_23_AMSDesignChallengesIn7nmCMOS_AlvinLoke.pdf">slides</a>]</p>
<p>Prof. Adam Teman, Advanced Process Technologies, [<a
target="_blank" rel="noopener" href="https://www.eng.biu.ac.il/temanad/files/2022/03/Lecture-2-Advanced-Process-Technologies.pdf">pdf</a>]</p>
<p>Luke Collins. FinFET variability issues challenge advantages of new
process [<a
target="_blank" rel="noopener" href="https://www.techdesignforums.com/blog/2014/04/16/finfet-variability-challenges-advantages/">link</a>]</p>
<p>Loke, Alvin. (2020). FinFET technology considerations for circuit
design (invited short course). BCICTS 2020 Monterey, CA</p>
<p>Alvin Leng Sun Loke, TSMC. Device and Physical Design Considerations
for Circuits in FinFET Technology", ISSCC 2020</p>
<p>Prof. Adam Teman. Advanced Process Technologies [<a
target="_blank" rel="noopener" href="https://www.eng.biu.ac.il/temanad/files/2022/03/Lecture-2-Advanced-Process-Technologies.pdf">pdf</a>]</p>
<p>A. L. S. Loke, C. K. Lee and B. M. Leary, "Nanoscale CMOS
Implications on Analog/Mixed-Signal Design," 2019 IEEE Custom Integrated
Circuits Conference (CICC), Austin, TX, USA, 2019, pp. 1-57, doi:
10.1109/CICC.2019.8780267.</p>
<p>A. L. S. Loke, Migrating Analog/Mixed-Signal Designs to FinFET Alvin
Loke / Qualcomm. 2016 Symposia on VLSI Technology and Circuits</p>
<p>Lattice Semiconductor, 16FFC Process Technology Introduction December
9th, 2021[<a
target="_blank" rel="noopener" href="https://cdn.latticesemi-insights.com/wp-content/uploads/2024/01/29174339/HR1000000009.pdf">pdf</a>]</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/12/10/OCVDeratingWithAOCV/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Guo">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="KNOW-HOW">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | KNOW-HOW">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2022/12/10/OCVDeratingWithAOCV/" class="post-title-link" itemprop="url">OCV Derating With AOCV</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2022-12-10 14:20:34" itemprop="dateCreated datePublished" datetime="2022-12-10T14:20:34+00:00">2022-12-10</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2024-06-10 13:55:41" itemprop="dateModified" datetime="2024-06-10T13:55:41+00:00">2024-06-10</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/digital/" itemprop="url" rel="index"><span itemprop="name">digital</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p><strong>timing_aocv_derate_mode</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">timing_aocv_derate_mode&#123;aocv_multiplicative | aocv_additive&#125;</span><br></pre></td></tr></table></figure>
<p><em>Default:</em> <code>aocv_multiplicative</code></p>
<p>Controls the AOCV derating mode.</p>
<p>When set to <code>aocv_multiplicative</code>, the derating factor
will be calculated as AOCV derating * OCV derating, which is set using
the <code>set_timing_derate</code> command.</p>
<p>When set to <code>aocv_additive</code>, the derating factor will be
calculated as AOCV derating + OCV derating values.</p>
<p>When you use this global variable, the <code>report_timing</code>
command shows the <code>total_derate</code> column in the timing report
output, which allows you to view and cross-check the calculated total
derate factor.</p>
<p>To set this global variable, use the <code>set_global</code>
command.</p>
<p><img
src="/2022/12/10/OCVDeratingWithAOCV/image-20221210143256639.png"
alt="image-20221210143256639" /></p>
<h3 id="reference">reference</h3>
<p>Genus Attribute Reference 22.1</p>
<p>Innovus Text Command Reference 22.10</p>
<p>Article (20416394) Title: Analysis with Advanced On-chip Variation
(AOCV) derating in EDI system and ETS URL:
https://support.cadence.com/apex/ArticleAttachmentPortal?id=a1Od000000050NxEAI</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/11/24/dem/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Guo">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="KNOW-HOW">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | KNOW-HOW">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2022/11/24/dem/" class="post-title-link" itemprop="url">Dynamic Element Matching (DEM)</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2022-11-24 20:16:50" itemprop="dateCreated datePublished" datetime="2022-11-24T20:16:50+00:00">2022-11-24</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2024-06-10 13:55:41" itemprop="dateModified" datetime="2024-06-10T13:55:41+00:00">2024-06-10</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/analog/" itemprop="url" rel="index"><span itemprop="name">analog</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p><img src="/2022/11/24/dem/image-20221124201852745.png"
alt="image-20221124201852745" /></p>
<p><img src="/2022/11/24/dem/image-20221124201914625.png"
alt="image-20221124201914625" /></p>
<p><img src="/2022/11/24/dem/image-20221124202015662.png"
alt="image-20221124202015662" /></p>
<h2 id="precision-amplifier">Precision amplifier ?</h2>
<h3 id="solution-1-feedback">Solution 1: Feedback</h3>
<p><img src="/2022/11/24/dem/image-20221124202052715.png"
alt="image-20221124202052715" /></p>
<h3 id="solution-2-trim">Solution 2: Trim</h3>
<p><img src="/2022/11/24/dem/image-20221124202113126.png"
alt="image-20221124202113126" /></p>
<p><img src="/2022/11/24/dem/image-20221124202205049.png"
alt="image-20221124202205049" /></p>
<h3 id="solution-3-dynamic-error-correction">Solution 3: Dynamic Error
Correction</h3>
<p><img src="/2022/11/24/dem/image-20221124202255847.png"
alt="image-20221124202255847" /></p>
<p><img src="/2022/11/24/dem/image-20221124202321948.png"
alt="image-20221124202321948" /></p>
<p><strong>DEM in the Frequency Domain</strong></p>
<p><img src="/2022/11/24/dem/image-20221124202354540.png"
alt="image-20221124202354540" /></p>
<p><img src="/2022/11/24/dem/image-20221124202431040.png"
alt="image-20221124202431040" /></p>
<p><img src="/2022/11/24/dem/image-20221124202453114.png"
alt="image-20221124202453114" /></p>
<h2 id="reference">reference</h2>
<p>Kofi Makinwa, Coping with Variability URL: <a
target="_blank" rel="noopener" href="https://youtu.be/nA_DZtRqrTQ">https://youtu.be/nA_DZtRqrTQ</a></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




  <nav class="pagination">
    <a class="extend prev" rel="prev" title="Previous page" aria-label="Previous page" href="/page/5/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/5/">5</a><span class="page-number current">6</span><a class="page-number" href="/page/7/">7</a><span class="space">&hellip;</span><a class="page-number" href="/page/17/">17</a><a class="extend next" rel="next" title="Next page" aria-label="Next page" href="/page/7/"><i class="fa fa-angle-right"></i></a>
  </nav>

</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">

  <div class="copyright">
    &copy; 
    <span itemprop="copyrightYear">2024</span>
    <span class="with-love">
      <i class="fa fa-heart"></i>
    </span>
    <span class="author" itemprop="copyrightHolder">Guo</span>
  </div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/" rel="noopener" target="_blank">NexT.Gemini</a>
  </div>

    </div>
  </footer>

  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>
  <div class="sidebar-dimmer"></div>
  <div class="back-to-top" role="button" aria-label="Back to top">
    <i class="fa fa-arrow-up fa-lg"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


  
  <script src="https://cdn.jsdelivr.net/npm/animejs@3.2.1/lib/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/sidebar.js"></script><script src="/js/next-boot.js"></script>

  <script src="https://cdn.jsdelivr.net/npm/hexo-generator-searchdb@1.4.1/dist/search.js" integrity="sha256-1kfA5uHPf65M5cphT2dvymhkuyHPQp5A53EGZOnOLmc=" crossorigin="anonymous"></script>
<script src="/js/third-party/search/local-search.js"></script>

  <script class="next-config" data-name="pdf" type="application/json">{"object_url":{"url":"https://cdn.jsdelivr.net/npm/pdfobject@2.3.0/pdfobject.min.js","integrity":"sha256-JJZNsid68vnh3/zyj0lY9BN5ynxVX/12XgOa1TlaYN0="},"url":"/lib/pdf/web/viewer.html"}</script>
  <script src="/js/third-party/tags/pdf.js"></script>






  




  

  <script class="next-config" data-name="enableMath" type="application/json">true</script><script class="next-config" data-name="mathjax" type="application/json">{"enable":true,"tags":"none","js":{"url":"https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.js","integrity":"sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI="}}</script>
<script src="/js/third-party/math/mathjax.js"></script>



</body>
</html>
