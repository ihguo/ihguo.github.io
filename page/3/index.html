<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222"><meta name="generator" content="Hexo 7.1.1">

  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.5.2/css/all.min.css" integrity="sha256-XOqroi11tY4EFQMR9ZYwZWKj5ZXiftSx36RRuC3anlA=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"example.com","root":"/","images":"/images","scheme":"Gemini","darkmode":false,"version":"8.20.0","exturl":false,"sidebar":{"position":"left","width_expanded":320,"width_dual_column":240,"display":"post","padding":18,"offset":12},"copycode":{"enable":true,"style":null},"fold":{"enable":false,"height":500},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":false,"async":false,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"},"path":"/search.xml","localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false}}</script><script src="/js/config.js"></script>

    <meta property="og:type" content="website">
<meta property="og:title" content="KNOW-HOW">
<meta property="og:url" content="http://example.com/page/3/index.html">
<meta property="og:site_name" content="KNOW-HOW">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="Guo">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="http://example.com/page/3/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":true,"isPost":false,"lang":"en","comments":"","permalink":"","path":"page/3/index.html","title":""}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>KNOW-HOW</title>
  








  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">KNOW-HOW</h1>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="Search" role="button">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>About</a></li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>Search
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup"><div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off" maxlength="80"
           placeholder="Searching..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close" role="button">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div class="search-result-container no-result">
  <div class="search-result-icon">
    <i class="fa fa-spinner fa-pulse fa-5x"></i>
  </div>
</div>

    </div>
  </div>

</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-overview-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Guo</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">163</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">8</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">1</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author animated">
      <span class="links-of-author-item">
        <a href="https://github.com/raytroop" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;raytroop" rel="noopener me" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:raytroop@gmail.com" title="E-Mail → mailto:raytroop@gmail.com" rel="noopener me" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
  </div>

        </div>
      </div>
    </div>

    
  </aside>


    </div>

    <div class="main-inner index posts-expand">

    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/11/28/jtag/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Guo">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="KNOW-HOW">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | KNOW-HOW">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2023/11/28/jtag/" class="post-title-link" itemprop="url">JTAG and Boundary Scan</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2023-11-28 22:00:32" itemprop="dateCreated datePublished" datetime="2023-11-28T22:00:32+00:00">2023-11-28</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2024-08-27 02:57:16" itemprop="dateModified" datetime="2024-08-27T02:57:16+00:00">2024-08-27</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/analog/" itemprop="url" rel="index"><span itemprop="name">analog</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>Data Register, DR:</p>
<ul>
<li>Bypass Register, BR</li>
<li>Boundary Scan Register, BSR</li>
</ul>
<p>Instruction Register, IR</p>
<h2 id="tap-controller">TAP Controller</h2>
<p><img src="/2023/11/28/jtag/image-20240113191225838.png"
alt="image-20240113191225838" /></p>
<blockquote>
<ul>
<li>FSM and Shift Register of DR and IR works at the
<strong>posedge</strong> of the clock</li>
<li>TMS, TDI, TDO and Hold Register of DR and IR changes value at the
<strong>negedge</strong> of the clock</li>
</ul>
</blockquote>
<p><img src="/2023/11/28/jtag/image-20240113191409296.png"
alt="image-20240113191409296" /></p>
<p><img src="/2023/11/28/jtag/image-20240113191526490.png"
alt="image-20240113191526490" /></p>
<blockquote>
<p>capture IR <code>01</code>, the fixed is for easier fault
detection</p>
</blockquote>
<p><img src="/2023/11/28/jtag/image-20231129232443249.png"
alt="image-20231129232443249" /></p>
<p><img src="/2023/11/28/jtag/image-20231129233218011.png"
alt="image-20231129233218011" /></p>
<blockquote>
<p>After power-up, they may not be in sync, but there is a trick. Look
at the state machine and notice that no matter what state you are, if
<em>TMS stays at "1" for five clocks</em>, a TAP controller goes back to
the state "Test-Logic Reset". That's used to synchronize the TAP
controllers.</p>
</blockquote>
<blockquote>
<p>It is important to note that in a typical Boundary-Scan test, the
time between launching a signal from driver (at the falling edge of test
clock (TCK) in the <code>Update-DR</code> or <code>Update-IR</code> TAP
Controller state) and capturing that signal (at the rising edge of TCK
in the <code>Caputre-DR</code> TAP Controller state) is <strong>no less
tha 2.5 TCK cycles</strong></p>
</blockquote>
<p>Further, the time between successive launches on a driver is governed
- not only by the TCk rate - but by the amount of serial data shifting
needed to load the next pattern data in the concatenated Boundary-Scan
Registers of the Boundary-Scan chain</p>
<blockquote>
<p>Thus the effective test data rate of a driver could be thousands of
the times lower than the TCK rate</p>
<ol type="1">
<li>For DC-coupled interconnect, this time is of no concern</li>
<li>For AC-coupled interconnect, the signal may easily decay partially
or completely before it can be captured</li>
<li>If only partial decay occurs before capture, that decay will very
likely be completed before the driver produces the next edge</li>
</ol>
</blockquote>
<h2 id="ac-coupling">AC-coupling</h2>
<p>In general, AC-coupling can distort a signal transmitted across a
channel depending on its frequency.</p>
<p><code>Figure 5</code></p>
<ul>
<li>The high frequency signal is relatively unaffected by the
coupling</li>
<li>The low frequency signal is severely impacted
<ol type="1">
<li>it decays to <span class="math inline">\(V_T\)</span> after a few
time constants</li>
<li>its amplitude is double the input amplitude &gt; transient response,
before AC-coupling capacitor: <span class="math inline">\(-A_p \to
A_p\)</span>; after AC-coupling capacitor <span
class="math inline">\(V_T \to V_T+2A_p\)</span> &gt; A key item to note
is that the transitions in the original signal are preserved, although
their start and end points are offset &gt; &gt; compared to where they
were in the high frequency</li>
</ol></li>
</ul>
<h2 id="test-signal-implementation">Test signal implementation</h2>
<p>The test data is either the content of the Boundary-Scan Register
Update latch (U) when executing the (DC) EXTEST instruction, or an
<strong>"AC Signal"</strong> when an <em>AC testing instruction</em> is
loaded into the device.</p>
<blockquote>
<p>The AC signal is a test waveform suited for transmission through
AC-coupling</p>
</blockquote>
<p><img src="/2023/11/28/jtag/image-20240113184502597.png"
alt="image-20240113184502597" /></p>
<h2 id="test-signal-reception">Test signal reception</h2>
<ul>
<li>When <em>an AC testing instruction</em> is loaded, a specialized
test receiver detects transitoins of the AC signal seen at the input and
determines if this represents a logic '0' or '1'</li>
<li>When <em>EXTEST</em> is loaded, the input signal level is detected
and sent to the output of the test receiver to the Boundary-Scan
Register cell</li>
</ul>
<p>When testing for a shorted capacitor, the <em>test software</em> must
ensure that enough time has passed for the signal to decay before
entering <em>Capture-DR</em>, either by stopping TCk or by spending
additional TCK cycles in the <em>Run-Test/Idle</em> TAP Controller
state</p>
<h2 id="extest_pulse-extest_train">EXTEST_PULSE &amp; EXTEST_TRAIN</h2>
<blockquote>
<p>The two new AC-test instructions provided by this standard differ
primarily in the number and timing of transitions to provide flexibility
in dealing with the specific dynamic behavior of the channels being
tested</p>
</blockquote>
<p><strong>AC Test Signal</strong> essentially modulates test data so
that it will propagate through AC-coupled channels, for devices that
contatin AC pins</p>
<blockquote>
<p>Tools should use the <strong>EXTEST_PULSE</strong> instruction unless
there is a specific requirement for the <strong>EXTEST_TRAIN</strong>
instruction</p>
</blockquote>
<h3 id="extest_pulse">EXTEST_PULSE</h3>
<blockquote>
<p>Generate <strong>two</strong> additional driver transitions and
allows a tester to vary the <strong>time</strong> between them dependent
on how many TCK cycles the TAP is left in the <em>Run-Test/Idle</em> TAP
Controller state.</p>
<p>This is intended to allow any undesired transient condition to decay
to a <strong>DC steady-state value</strong> when that will make the
final transition more reliably detectable</p>
<p>The duration in the <em>Run-Test/Idle</em> TAP Controller state
should be <strong>at least three times</strong> the high-pass coupling
time constant. This allows the <em>first additional transition</em> to
decay away to the <strong>DC steady-state value</strong> for the
channel, and ensures that the full amplitude of the <em>final
transition</em> is added to or subtracted from that steady-state
value</p>
<p>This establishes a <em>known initial condition</em> for the <em>final
transition</em> and permits reliable specification of the detection
threshold of the test receiver</p>
</blockquote>
<p><img src="/2023/11/28/jtag/image-20240113190314947.png"
alt="image-20240113190314947" /></p>
<h3 id="extest_train">EXTEST_TRAIN</h3>
<blockquote>
<p>Generate <strong>multiple</strong> additional transitions, the
<strong>number</strong> dependent on how long the TAP is left in the
<em>Run-Test/Idle</em> TAP Controller state</p>
<p>This is intended to allow any undesired transient condition to decay
to an <strong>AC steady-state value</strong> when that will make the
final transition more reliably detectable</p>
</blockquote>
<p><img src="/2023/11/28/jtag/image-20240113190345323.png"
alt="image-20240113190345323" /></p>
<h2 id="ieee-std-1149.6-2003">IEEE Std 1149.6-2003</h2>
<p>This standard is built on top of IEEE Std 1149.1 using the same Test
Access Port structure and Boundary-Scan architecture.</p>
<ul>
<li>It adds the concept of a "test receiver" to input pins that are
expected to handle <strong>differential and/or AC-coupling</strong></li>
<li>It adds two new instructions that cause drivers to emit AC waveforms
that are processed by test receivers.</li>
</ul>
<h2 id="jtag-instruction">JTAG Instruction</h2>
<h2 id="implementation">Implementation</h2>
<ul>
<li>AC mode hysteresis, detect transistion</li>
<li>DC mode threshold is determined by jtag initial value</li>
</ul>
<h2 id="reference">reference</h2>
<p>IEEE Std 1149.1-2001, IEEE Standard Test Access Port and
Boundary-Scan Architecture, IEEE, 2001</p>
<p>IEEE Std 1149.6-2003, IEEE Standard for BoundaryScan Testing of
Advanced Digital Networks, IEEE, 2003</p>
<p>IEEE 1149.6 Tutorial | Testing AC-coupled and Differential High-speed
Nets [<a
target="_blank" rel="noopener" href="https://www.asset-intertech.com/resources/eresources/ieee-11496-tutorial-testing-ac-coupled-and-differential-high-speed-nets/">https://www.asset-intertech.com/resources/eresources/ieee-11496-tutorial-testing-ac-coupled-and-differential-high-speed-nets/</a>]</p>
<p>Prof. James Chien-Mo Li, Lab of Dependable Systems, National Taiwan
University. VLSI Testing [<a
target="_blank" rel="noopener" href="http://cc.ee.ntu.edu.tw/~cmli/VLSItesting/">http://cc.ee.ntu.edu.tw/~cmli/VLSItesting/</a>]</p>
<p>K.P. Parker, The Boundary Scan Handbook, 3rd ed., Kluwer Academic,
2003.</p>
<p>B. Eklow, K. P. Parker and C. F. Barnhart, "IEEE 1149.6: a
boundary-scan standard for advanced digital networks," in IEEE Design
&amp; Test of Computers, vol. 20, no. 5, pp. 76-83, Sept.-Oct. 2003,
doi: 10.1109/MDT.2003.1232259.</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/11/14/DigitalModels/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Guo">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="KNOW-HOW">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | KNOW-HOW">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2023/11/14/DigitalModels/" class="post-title-link" itemprop="url">Digital Delay Model</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2023-11-14 00:14:22" itemprop="dateCreated datePublished" datetime="2023-11-14T00:14:22+00:00">2023-11-14</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2024-08-27 02:57:16" itemprop="dateModified" datetime="2024-08-27T02:57:16+00:00">2024-08-27</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/analog/" itemprop="url" rel="index"><span itemprop="name">analog</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="effective-switching-resistance">Effective Switching
resistance</h2>
<p><img src="/2023/11/14/DigitalModels/image-20231114001209252.png"
alt="image-20231114001209252" /></p>
<blockquote>
<p><a
target="_blank" rel="noopener" href="https://www.eecis.udel.edu/~vsaxena/courses/ece445/s19/Lecture%20Notes/lec15_ece445.pdf">https://www.eecis.udel.edu/~vsaxena/courses/ece445/s19/Lecture%20Notes/lec15_ece445.pdf</a></p>
</blockquote>
<div class="pdf-container" data-target="/pdfs/chapter5_ex_sol.pdf" data-height="500px"></div>
<h2 id="wire-delay">wire delay</h2>
<h3 id="the-elmore-delay">The Elmore Delay</h3>
<p><img src="/2023/11/14/DigitalModels/image-20230624234813719.png"
alt="image-20230624234813719" /></p>
<p><img src="/2023/11/14/DigitalModels/image-20230624234940864.png"
alt="image-20230624234940864" /></p>
<p><img src="/2023/11/14/DigitalModels/image-20230625001756173.png"
alt="image-20230625001756173" /></p>
<blockquote>
<p>Basic idea: use of <strong>mean</strong> of <span
class="math inline">\(v&#39;(t)\)</span> to approximate
<strong>median</strong> of <span
class="math inline">\(v&#39;(t)\)</span></p>
</blockquote>
<p><img src="/2023/11/14/DigitalModels/image-20230624235148246.png"
alt="image-20230624235148246" /></p>
<p><img src="/2023/11/14/DigitalModels/image-20230625002239199.png"
alt="image-20230625002239199" /></p>
<blockquote>
<p>Elmore delay approximates the <strong>median</strong> of <span
class="math inline">\(h(t)\)</span> by the <strong>mean</strong> of
<span class="math inline">\(h(t)\)</span></p>
</blockquote>
<h3 id="distributed-rc-line">Distributed RC-Line</h3>
<p><img src="/2023/11/14/DigitalModels/image-20230624224005736.png"
alt="image-20230624224005736" /></p>
<h3 id="lumped-approximations">Lumped approximations</h3>
<h4 id="rc-models"><span class="math inline">\(rc\)</span>-models</h4>
<p>If your simulator does not support a distributed <span
class="math inline">\(rc\)</span>-model, or if the computational
complexity of these models slows down your simulation too much, you can
construct a simple yet accurate model yourself by approximating the
distributed <span class="math inline">\(rc\)</span> by a lumped RC
network with a limited number of elements</p>
<p><img src="/2023/11/14/DigitalModels/image-20230624230057265.png"
alt="image-20230624230057265" /></p>
<blockquote>
<p>The accuracy of the model is determined by the number of stages. For
instance, the error of the <span class="math inline">\(\Pi -3\)</span>
model is less than 3%, which is generally sufficient.</p>
</blockquote>
<h4 id="why-use-pi-model">Why use "<span
class="math inline">\(\Pi\)</span> Model"</h4>
<p><img src="/2023/11/14/DigitalModels/image-20230624230800255.png"
alt="image-20230624230800255" /></p>
<h4 id="examples">examples</h4>
<p><img src="/2023/11/14/DigitalModels/image-20230624224643487.png"
alt="image-20230624224643487" /></p>
<p><img src="/2023/11/14/DigitalModels/image-20230624224923241.png"
alt="image-20230624224923241" /></p>
<h2 id="wire-inductive-effect">Wire Inductive Effect</h2>
<ul>
<li>RC delay increases quadratically with length</li>
<li>LC delay (speed of light flight time) increases linearly with
length</li>
</ul>
<blockquote>
<p>Inductance will only be important to the delay of low-resistance
signals such as wide clock lines</p>
</blockquote>
<h3 id="wave">wave</h3>
<p>Signal propagates over the wire as a <strong>wave</strong> (rather
than <strong>diffusing</strong> as in <span
class="math inline">\(rc\)</span> only models)</p>
<blockquote>
<p>Signal propagates by alternately transferring energy from capacitive
to inductive modes</p>
</blockquote>
<h2 id="reference">reference</h2>
<p>Akio Kitagawa, Analog layout design <a
target="_blank" rel="noopener" href="https://mixsignal.files.wordpress.com/2013/03/analog-layout.pdf">https://mixsignal.files.wordpress.com/2013/03/analog-layout.pdf</a></p>
<p>THE WIRE <a
target="_blank" rel="noopener" href="http://bwrcs.eecs.berkeley.edu/Classes/icdesign/ee141_f01/Notes/chapter4.pdf">http://bwrcs.eecs.berkeley.edu/Classes/icdesign/ee141_f01/Notes/chapter4.pdf</a></p>
<p>Anoop Veliyath, Design Engineer, Cadence Design Systems. Accurately
Modeling Transmission Line Behavior with an LC Network-based Approach
[<a
target="_blank" rel="noopener" href="https://www.pspice.com/sites/default/files/Transmission_Line_Modeling.pdf">pdf</a>]</p>
<p>Mark Horowitz. Lecture 2: Wires and Wire Models [<a
target="_blank" rel="noopener" href="https://web.stanford.edu/class/archive/ee/ee371/ee371.1066/lectures/Old/lect_02.pdf">pdf</a>]</p>
<p>Neil Weste and David Harris. 2010. CMOS VLSI Design: A Circuits and
Systems Perspective (4th. ed.). Addison-Wesley Publishing Company,
USA.</p>
<p>Cheng-Kok Koh. EE695K Modeling and Optimization of High Performance
Interconnect [<a
target="_blank" rel="noopener" href="https://engineering.purdue.edu/~chengkok/ee695K/lec3a.pdf">lec3a_pdf</a>]</p>
<p>Vishal Saxena. ECE 445 Intro to VLSI Design: Lectures for Spring 2019
<a
target="_blank" rel="noopener" href="https://www.eecis.udel.edu/~vsaxena/courses/ece445/s19/ECE445.htm">https://www.eecis.udel.edu/~vsaxena/courses/ece445/s19/ECE445.htm</a></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/11/10/random/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Guo">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="KNOW-HOW">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | KNOW-HOW">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2023/11/10/random/" class="post-title-link" itemprop="url">Random Process</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2023-11-10 13:26:31" itemprop="dateCreated datePublished" datetime="2023-11-10T13:26:31+00:00">2023-11-10</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2024-08-27 02:57:16" itemprop="dateModified" datetime="2024-08-27T02:57:16+00:00">2024-08-27</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/noise/" itemprop="url" rel="index"><span itemprop="name">noise</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="random-signals-sampling">Random Signals Sampling</h2>
<p><img src="/2023/11/10/random/image-20240428162643394.png"
alt="image-20240428162643394" /></p>
<p><img src="/2023/11/10/random/image-20240428162655969.png"
alt="image-20240428162655969" /></p>
<p><img src="/2023/11/10/random/image-20240428162735492.png"
alt="image-20240428162735492" /></p>
<blockquote>
<p>Alan V Oppenheim, Ronald W. Schafer. Discrete-Time Signal Processing,
3rd edition</p>
</blockquote>
<hr />
<blockquote>
<p><img src="/2023/11/10/random/image-20240428161506523.png"
alt="image-20240428161506523" /></p>
<p>[<a
target="_blank" rel="noopener" href="https://dsp.stackexchange.com/a/17348/59253">https://dsp.stackexchange.com/a/17348/59253</a>]</p>
</blockquote>
<h2 id="lti-systems-on-wss-processes">LTI Systems on WSS Processes</h2>
<p><img src="/2023/11/10/random/image-20240427162827347.png"
alt="image-20240427162827347" /></p>
<p><img src="/2023/11/10/random/image-20240427170024123.png"
alt="image-20240427170024123" /></p>
<blockquote>
<p>Topic 6 Random Processes and Signals [<a
target="_blank" rel="noopener" href="https://www.robots.ox.ac.uk/~dwm/Courses/2TF_2021/N6.pdf">https://www.robots.ox.ac.uk/~dwm/Courses/2TF_2021/N6.pdf</a>]</p>
<p>Alan V. Oppenheim, Introduction To Communication, Control, And Signal
Processing [<a
target="_blank" rel="noopener" href="https://ocw.mit.edu/courses/6-011-introduction-to-communication-control-and-signal-processing-spring-2010/a6bddaee5966f6e73450e6fe79ab0566_MIT6_011S10_notes.pdf">https://ocw.mit.edu/courses/6-011-introduction-to-communication-control-and-signal-processing-spring-2010/a6bddaee5966f6e73450e6fe79ab0566_MIT6_011S10_notes.pdf</a>]</p>
</blockquote>
<h2 id="reference">reference</h2>
<p>Iain Collings. Random Processes [<a
target="_blank" rel="noopener" href="https://youtube.com/playlist?list=PLx7-Q20A1VYKRLHUMSt2YOORrVz8iH-Kq&amp;si=cZjlH7zcHcR0zWg6">https://youtube.com/playlist?list=PLx7-Q20A1VYKRLHUMSt2YOORrVz8iH-Kq&amp;si=cZjlH7zcHcR0zWg6</a>]
Spectral content of NRZ test patterns [<a
target="_blank" rel="noopener" href="https://www.analog.com/media/en/technical-documentation/tech-articles/hfta110-spectral-content-of-nrz-test-patterns.pdf">https://www.analog.com/media/en/technical-documentation/tech-articles/hfta110-spectral-content-of-nrz-test-patterns.pdf</a>]</p>
<p>Lab 2: Spectrum analysis [<a
target="_blank" rel="noopener" href="https://ece.uccs.edu/~mwickert/ece4670/lecture_notes/Lab2.pdf">https://ece.uccs.edu/~mwickert/ece4670/lecture_notes/Lab2.pdf</a>]</p>
<p>PSD (Power spectral density) explanation. [<a
target="_blank" rel="noopener" href="https://dsp.stackexchange.com/a/8151">https://dsp.stackexchange.com/a/8151</a>]</p>
<p>Dennis Sun. STAT 350 2020 Probability and Stochastic Processes for
Electrical Engineers [<a
target="_blank" rel="noopener" href="https://dlsun.github.io/Stat350-S20/">https://dlsun.github.io/Stat350-S20/</a>]</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/10/28/periodic/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Guo">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="KNOW-HOW">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | KNOW-HOW">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2023/10/28/periodic/" class="post-title-link" itemprop="url">Periodic Analysis</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2023-10-28 16:22:29" itemprop="dateCreated datePublished" datetime="2023-10-28T16:22:29+00:00">2023-10-28</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2024-08-27 02:57:16" itemprop="dateModified" datetime="2024-08-27T02:57:16+00:00">2024-08-27</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/noise/" itemprop="url" rel="index"><span itemprop="name">noise</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="pss-and-hb-overview">PSS and HB Overview</h1>
<p>The steady-state response is the response that results after any
transient effects have dissipated.</p>
<p><strong>The large signal solution is the starting point for
small-signal analyses</strong>, including periodic AC, periodic transfer
function, periodic noise, periodic stability, and periodic scattering
parameter analyses.</p>
<blockquote>
<p>Designers refer periodic steady state analysis in <em>time
domain</em> as <strong>"PSS"</strong> and corresponding <em>frequency
domain</em> notation as <strong>"HB"</strong></p>
</blockquote>
<p><img src="/2023/10/28/periodic/image-20231028163033255.png"
alt="image-20231028163033255" /></p>
<h1 id="harmonic-balance-analysis">Harmonic Balance Analysis</h1>
<p>The idea of harmonic balance is to find a set of port voltage
waveforms (or, alternatively, the harmonic voltage components) that give
the same currents in both the <em>linear-network equations</em> and
<em>nonlinear-network equations</em></p>
<blockquote>
<p>that is, the currents satisfy Kirchoff's current law</p>
</blockquote>
<p>Define an <strong>error function</strong> at <em>each harmonic</em>,
<span class="math inline">\(f_k\)</span>, where <span
class="math display">\[
f_k = I_{\text{LIN}}(k\omega) + I_{\text{NL}}(k\omega)
\]</span> where <span class="math inline">\(k=0, 1, 2,...,K\)</span></p>
<blockquote>
<p>Note that each <span class="math inline">\(f_k\)</span> is implicitly
a function of all voltage components <span
class="math inline">\(V(k\omega)\)</span></p>
</blockquote>
<h2 id="newton-solution-of-the-harmonic-balance-equation">Newton
Solution of the Harmonic-Balance Equation</h2>
<h3 id="iterative-process-and-jacobian-formulation">Iterative Process
and Jacobian Formulation</h3>
<p><img src="/2023/10/28/periodic/image-20231108222451147.png"
alt="image-20231108222451147" /></p>
<p>The elements of the Jacobian are the derivatives <span
class="math display">\[
\frac{\partial F_{\text{n,k}}}{\partial _{\text{m,l}}}
\]</span> where <span class="math inline">\(n\)</span> and <span
class="math inline">\(m\)</span> are the port indices <span
class="math inline">\((1,N)\)</span>, and <span
class="math inline">\(k\)</span> and <span
class="math inline">\(l\)</span> are the harmonic indices <span
class="math inline">\((0,...,K)\)</span></p>
<h3 id="selecting-the-number-of-harmonics-and-time-samples">Selecting
the Number of Harmonics and Time Samples</h3>
<p>In theory, the waveforms generated in nonlinear analysis have an
infinite number of harmonics, so a complete description of the operation
of a <strong>nonlinear</strong> circuit would appear to require current
and voltage vectors of <em>infinite</em> dimension.</p>
<p>Fortunately, the magnitudes of frequency components invariably
decrease with frequency; otherwise the time wavefroms would represent
infinite power.</p>
<h3 id="initial-estimate">Initial Estimate</h3>
<p>One important property of Newton's method is that its speed and
reliability of convergence depend strongly upon the initial estimate of
the solution vector.</p>
<h1 id="shooting-newton">Shooting Newton</h1>
<h1 id="nonlinearity-linear-time-varying-nature">Nonlinearity &amp;
Linear Time-Varying Nature</h1>
<h2 id="nonlinearity-nature">Nonlinearity Nature</h2>
<p>The nonlinearity causes the signal to be replicated at multiples of
the carrier, an effect referred to as <strong>harmonic
distortion</strong>, and adds a skirt to the signal that increases its
bandwidth, an effect referred to as <strong>intermodulation
distortion</strong></p>
<p><img src="/2023/10/28/periodic/image-20231029093504162.png"
alt="image-20231029093504162" /></p>
<blockquote>
<p>It is possible to eliminate the effect of <em>harmonic
distortion</em> with a bandpass filter, however the frequency of the
<em>intermodulation distortion</em> products overlaps the frequency of
the desired signal, and so cannot be completely removed with
filtering.</p>
</blockquote>
<h2 id="time-varying-linear-nature">Time-Varying Linear Nature</h2>
<p><img src="/2023/10/28/periodic/image-20231029101042671.png"
alt="image-20231029101042671" /></p>
<blockquote>
<p><strong>linear</strong> with respect to <span
class="math inline">\(v_{in}\)</span> and
<strong>time-varying</strong></p>
</blockquote>
<p>Given <span class="math inline">\(v_{in}(t)=m(t)\cos (\omega_c
t)\)</span> and LO signal of <span
class="math inline">\(\cos(\omega_{LO} t)\)</span>, then <span
class="math display">\[
v_{out}(t) = \text{LPF}\{m(t)\cos(\omega_c t)\cdot \cos(\omega_{LO} t)\}
\]</span> and <span class="math display">\[
v_{out}(t) = m(t)\cos((\omega_c - \omega_{LO})t)
\]</span></p>
<blockquote>
<p>A <em>linear periodically-varying</em> transfer function implements
<em>frequency translation</em></p>
</blockquote>
<h1 id="periodic-small-signal-analyses">Periodic small signal
analyses</h1>
<p><img src="/2023/10/28/periodic/image-20231108231145369.png"
alt="image-20231108231145369" /></p>
<h2 id="analysis-in-simulator">Analysis in Simulator</h2>
<ol type="1">
<li>LPV analyses start by performing a periodic analysis to compute the
<strong>periodic operating point</strong> with only the <strong>large
clock signal</strong> applied (the LO, the clock, the carrier,
etc.).</li>
<li>The circuit is then <strong>linearized about this time-varying
operating point</strong> (expand about the periodic equilibrium point
with a Taylor series and discard all but the first-order term)</li>
<li>and the <strong>small information signal</strong> is applied. The
response is calculated using linear time-varying analysis</li>
</ol>
<blockquote>
<p>Versions of this type of small-signal analysis exists for both
harmonic balance and shooting methods</p>
</blockquote>
<blockquote>
<p>PAC is useful for predicting the output sidebands produced by a
particular input signal</p>
<p>PXF is best at predicting the input images for a particular
output</p>
</blockquote>
<h2 id="conversion-matrix-analysis">Conversion Matrix Analysis</h2>
<p><strong>Large-signal/small-signal analysis</strong>, or
<strong>conversion matrix analysis</strong>, is useful for a large class
of problems wherein a <strong>nonlinear device</strong> is driven, or
"pumped" by a <strong>single large sinusoidal signal</strong>; another
signal, much smaller, is applied; and we seek only the <strong>linear
response to the small signal</strong>.</p>
<blockquote>
<p>The most common application of this technique is in the design of
mixers and in nonlinear noise analysis</p>
</blockquote>
<ol type="1">
<li>First, analyzing the <strong>nonlinear device</strong> under
large-signal excitatin only, where the harmonic-balance method can be
applied</li>
<li>Then, the <strong>nonlinear elements</strong> in the device's
equivalent circuit are then <strong>linearized</strong> to create
<strong>small-signal, linear, time-varying elements</strong></li>
<li>Finally, a <strong>small-signal analysis</strong> is performed</li>
</ol>
<h3 id="element-linearized">Element Linearized</h3>
<p>Below shows a <strong>nonlinear resistive element</strong>, which has
the <span class="math inline">\(I/V\)</span> relationship <span
class="math inline">\(I=f(V)\)</span>. It is driven by a
<em>large-signal voltage</em></p>
<p><img src="/2023/10/28/periodic/image-20220511203515431.png"
alt="image-20220511203515431" /></p>
<p>Assuming that <span class="math inline">\(V\)</span> consists of the
sum of a large-signal component <span class="math inline">\(V_0\)</span>
and a small-signal component <span class="math inline">\(v\)</span>,
with Taylor series <span class="math display">\[
f(V_0+v) = f(V_0)+\frac{d}{dV}f(V)|_{V=V_0}\cdot
v+\frac{1}{2}\frac{d^2}{dV^2}f(V)|_{V=V_0}\cdot v^2+...
\]</span> The small-signal, incremental current is found by subtracting
the large-signal component of the current <span class="math display">\[
i(v)=I(V_0+v)-I(V_0)
\]</span> If <span class="math inline">\(v \ll V_0\)</span>, <span
class="math inline">\(v^2\)</span>, <span
class="math inline">\(v^3\)</span>,... are negligible. Then, <span
class="math display">\[
i(v) = \frac{d}{dV}f(V)|_{V=V_0}\cdot v
\]</span></p>
<blockquote>
<p><strong>linearized about this time-varying operating
point:</strong></p>
<p><strong>expand about the periodic equilibrium point with a Taylor
series and discard all but the first-order term</strong></p>
</blockquote>
<p><span class="math inline">\(V_0\)</span> need not be a DC quantity;
it can be a <strong>time-varying large-signal voltage</strong> <span
class="math inline">\(V_L(t)\)</span> and that <span
class="math inline">\(v=v(t)\)</span>, a function of time. Then</p>
<p><span class="math display">\[
i(t)=g(t)v(t)
\]</span> where <span
class="math inline">\(g(t)=\frac{d}{dV}f(V)|_{V=V_L(t)}\)</span></p>
<blockquote>
<p>The <em>time-varying</em> conductance <span
class="math inline">\(g(t)\)</span>, is the derivative of the element's
<span class="math inline">\(I/V\)</span> characteristic at the
<em>large-signal voltage</em></p>
<p>By an analogous derivation, one could have a current-controlled
resistor with the <span class="math inline">\(V/I\)</span>
characteristic <span class="math inline">\(V = f_R(I)\)</span> and
obtain the <em>small-signal</em> <span
class="math inline">\(v/i\)</span> relation <span
class="math display">\[
v(t) = r(t)i(t)
\]</span> where <span class="math inline">\(r(t) =
\frac{d}{dI}f_R(I)|_{I=I_L(t)}\)</span></p>
</blockquote>
<p>A <strong>nonlinear element</strong> excited by <em>two tones</em>
supports currents and voltages at mixing frequencies <span
class="math inline">\(m\omega_1+n\omega_w\)</span>, where <span
class="math inline">\(m\)</span> and <span
class="math inline">\(n\)</span> are integers. If one of those tones,
<span class="math inline">\(\omega_1\)</span> has such a <strong>low
level</strong> that it does not generate harmonics and the other is a
large-signal sinusoid at <span class="math inline">\(\omega_p\)</span>,
then the mixing frequencies are <span
class="math inline">\(\omega=\pm\omega_1+n\omega_p\)</span>, which shown
in below figure</p>
<p><img src="/2023/10/28/periodic/image-20231108223600922.png"
alt="image-20231108223600922" /></p>
<p>A more compact representation of the mixing frequencies is <span
class="math display">\[
\omega_n=\omega_0+n\omega_p
\]</span> which includes only half of the mixing frequencies:</p>
<ul>
<li>the negative components of the lower sidebands
(<strong>LSB</strong>)</li>
<li>and the positive components of the upper sidebands
(<strong>USB</strong>)</li>
</ul>
<p><img src="/2023/10/28/periodic/image-20220511211336437.png"
alt="image-20220511211336437" /></p>
<blockquote>
<p>For real signal, positive- and negative-frequency components are
complex conjugate pairs</p>
</blockquote>
<h3 id="conversion-mattrix-as-bridge">Conversion Mattrix as Bridge</h3>
<p>The <strong>frequency-domain</strong> currents and voltages in a
<strong>time-varying</strong> circuit element are related by a
<strong>conversion matrix</strong></p>
<p>The <em>small-signal</em> voltage and current can be expressed in the
frequency notation as <span class="math display">\[
v&#39;(t) = \sum_{n=-\infty}^{\infty}V_ne^{j\omega_nt}
\]</span> and <span class="math display">\[
i&#39;(t) = \sum_{n=-\infty}^{\infty}I_ne^{j\omega_nt}
\]</span> where <span class="math inline">\(v&#39;(t)\)</span> and <span
class="math inline">\(i&#39;(t)\)</span> are <strong>not</strong>
Fourier series, which includes only half of the mixing frequencies</p>
<p>The conductance waveform <span class="math inline">\(g(t)\)</span>
can be expressed by its <strong>Fourier series</strong> <span
class="math display">\[
g(t)=\sum_{n=-\infty}^{\infty}G_ne^{jn\omega_pt}
\]</span> Which is harmonics of <em>large-signal</em> <span
class="math inline">\(\omega_p\)</span></p>
<p>Then the voltage and current are related by Ohm's law <span
class="math display">\[
i&#39;(t)=g(t)v&#39;(t)
\]</span> Then <span class="math display">\[
\sum_{k=-\infty}^{\infty}I_ke^{j\omega_kt}=\sum_{n=-\infty}^{\infty}\sum_{m=-\infty}^{\infty}G_nV_me^{j\omega_{m+n}t}
\]</span></p>
<blockquote>
<p>A linear periodically-varying transfer function implements
<strong>frequency translation</strong></p>
</blockquote>
<h1 id="cyclostationary-noise-analysis">Cyclostationary Noise
Analysis</h1>
<blockquote>
<p>which is referred to as a "periodic noise" or PNoise analysis</p>
</blockquote>
<h2 id="white-noise">White Noise</h2>
<blockquote>
<p>completely <strong>uncorrelated</strong> versus time</p>
<p>For white noise the PSD is a constant and the autocorrelation
function is an impulse centered at <span
class="math inline">\(0\)</span>, <span
class="math inline">\(R_n(t,\tau)=R(t)\delta(\tau)\)</span></p>
<p>The energy-storage elements cause the noise spectrum to be shaped and
the noise to be time-correlated.</p>
<p>This is a general property. It the noise has shape in the frequency
domain then the noise is correlated in time, and vice versa.</p>
</blockquote>
<h2 id="pnoise">PNOISE</h2>
<ul>
<li><p>In LPTV analysis, noise may <em>up-convert</em> or
<em>down-convert</em> by <span class="math inline">\(N\cdot f_c\)</span>
(<strong>noise folding</strong>)</p></li>
<li><p>PNOISE output is <strong>cyclostationary noise</strong></p>
<p>Described by a collection of PSDs at various sidebands: 0 PSDs at
various sidebands: <span class="math inline">\(0, \pm f_c, \pm2f_c,
\pm3f_c\)</span>, …</p></li>
</ul>
<blockquote>
<p><span class="math inline">\(f_c\)</span>: fundamental frequency of
PSS</p>
</blockquote>
<h3 id="simulation-of-switched-capacitor-noise">Simulation of
switched-capacitor noise</h3>
<blockquote>
<p>Periodic steady-state analysis is originally intended to analyze a
continuous-time circuit with periodic input signals or excitations.</p>
</blockquote>
<p>To simulate a switched-capacitor circuit appropriately, one needs to
recognize that the <strong>output of a switched capacitor circuit is a
discrete-time</strong> rather than a continuous-time signal. This
discrete-time signal should be treated as the output of the circuit
sampled after it has settled to the final value for each sampling
period.</p>
<p>There are two techniques that one can use to force the simulator to
evaluate the output signal correctly in the manner described</p>
<ul>
<li><p>First, in more recent versions of SpectreRF, PNOISE analysis
provides a specialized time-domain analysis method</p>
<p>By enabling this option, the simulator would analyze noise only
<strong>at particular time instants</strong></p></li>
<li><p>Second, on older versions of spectreRF, <strong>an explicit
(ideal) sample-and-hold</strong> block can be used similarly to force
the simulator to evaluate only the output of the circuit at the
<strong>correct time instants</strong>.</p>
<blockquote>
<p>Recall that a sample-and-hold would impose a <em>zero-order hold</em>
on a discrete-time signal; thus, the resulting sinc-shaped response in
the frequency domain has to be compensated for</p>
</blockquote></li>
</ul>
<h1 id="linear-time-varying">Linear Time Varying</h1>
<p>The response of a relaxed LTV system at a time <span
class="math inline">\(t\)</span> due to an impulse applied at a time
<span class="math inline">\(t − \tau\)</span> is denoted by <span
class="math inline">\(h(t, \tau)\)</span></p>
<blockquote>
<p>The first argument in the impulse response denotes the time of
observation.</p>
<p>The second argument indicates that the system was excited by an
impulse launched at a time <span class="math inline">\(\tau\)</span>
<em>prior to</em> the time of observation.</p>
<p>Thus, the response of an LTV system not only depends on how long
before the observation time it was excited by the impulse but also on
the observation instant.</p>
<p>The output <span class="math inline">\(y(t)\)</span> of an initially
relaxed LTV system with impulse response <span
class="math inline">\(h(t, \tau)\)</span> is given by the convolution
integral <span class="math display">\[
y(t) = \int_0^{\infty}h(t,\tau)x(t-\tau)d\tau
\]</span> Assuming <span class="math inline">\(x(t) = e^{j2\pi f
t}\)</span> <span class="math display">\[
y(t) = \int_0^{\infty}h(t,\tau)e^{j2\pi f (t-\tau)}d\tau = e^{j2\pi f
t}\int_0^{\infty}h(t,\tau)e^{-j2\pi f\tau}d\tau
\]</span> The (<em>time-varying</em>) frequency response can be
interpreted as <span class="math display">\[
H(j2\pi f, t) = \int_0^{\infty}h(t,\tau)e^{-j2\pi f\tau}d\tau
\]</span> Linear Periodically Time-Varying (LPTV) Systems, which is a
special case of an LTV system whose impulse response satisfies <span
class="math display">\[
h(t, \tau) = h(t+T_s, \tau)
\]</span> In other words, the response to an impulse remains unchanged
if the time at which the output is observed (<span
class="math inline">\(t\)</span>) and the time at which the impulse is
applied (denoted by <span class="math inline">\(t_1\)</span>) are both
shifted by <span class="math inline">\(T_s\)</span> <span
class="math display">\[
H(j2\pi f, t+T_s) = \int_0^{\infty}h(t+T_s,\tau)e^{-j2\pi f\tau}d\tau =
\int_0^{\infty}h(t,\tau)e^{-j2\pi f\tau}d\tau = H(j2\pi f, t)
\]</span> <span class="math inline">\(H(j2\pi f, t)\)</span> of an LPTV
system is periodic with timeperiod <span
class="math inline">\(T_s\)</span>, it can be expanded as a Fourier
series in <span class="math inline">\(t\)</span>, resulting in <span
class="math display">\[
H(j2\pi f, t) = \sum_{k=-\infty}^{\infty} H_k(j2\pi f)e^{j2\pi f_s k t}
\]</span> The coefficients of the Fourier series <span
class="math inline">\(H_k(j2\pi f)\)</span> are given by <span
class="math display">\[
H_k(j2\pi f) = \frac{1}{T_s}\int_0^{T_s} H(j2\pi f, t) e^{-j2\pi k f_s
t}dt
\]</span></p>
</blockquote>
<h2 id="lti-and-ltv">LTI and LTV</h2>
<p><img src="/2023/10/28/periodic/image-20231104145535168.png"
alt="image-20231104145535168" /></p>
<h2 id="linear-and-periodically-time-varying">Linear and Periodically
Time Varying</h2>
<blockquote>
<p>Gain varies periodically with time</p>
</blockquote>
<p><img src="/2023/10/28/periodic/image-20231104150000310.png"
alt="image-20231104150000310" /></p>
<p>Owing to <span class="math inline">\(H(j\omega, t) = H(j\omega,
t+T_s)\)</span>, <span class="math inline">\(H(j\omega,t)\)</span> can
be expanded in a <strong>Fourier Series</strong> <span
class="math display">\[
H(j\omega,t) = \sum_k H_k(j\omega)e^{jk\omega _s t}
\]</span> <img
src="/2023/10/28/periodic/image-20231104152637888.png" /></p>
<h3 id="response-of-an-lptv-system">Response of an LPTV System</h3>
<p><img src="/2023/10/28/periodic/image-20231104153142972.png"
alt="image-20231104153142972" /></p>
<p><img src="/2023/10/28/periodic/image-20231104153625881.png"
alt="image-20231104153625881" /></p>
<h3 id="harmonic-transfer-functions">Harmonic Transfer Functions</h3>
<p><img src="/2023/10/28/periodic/image-20231104155412790.png"
alt="image-20231104155412790" /></p>
<p><img src="/2023/10/28/periodic/image-20231104155447057.png"
alt="image-20231104155447057" /></p>
<blockquote>
<p>Harmonic Transfer Functions can be found using <em>PAC</em>
analysis</p>
</blockquote>
<h3 id="summary">Summary</h3>
<p><img src="/2023/10/28/periodic/image-20231104155732917.png"
alt="image-20231104155732917" /></p>
<p><img src="/2023/10/28/periodic/image-20231104155942718.png"
alt="image-20231104155942718" /></p>
<h2 id="sampled-lptv">Sampled LPTV</h2>
<p><img src="/2023/10/28/periodic/image-20231105175749755.png"
alt="image-20231105175749755" /></p>
<p>Move sampler before summation</p>
<p><img src="/2023/10/28/periodic/image-20231105174949907.png"
alt="image-20231105174949907" /></p>
<blockquote>
<p>Owing to <span class="math display">\[
k\omega_sT_sn=kn\cdot2\pi
\]</span> We get <span class="math display">\[
e^{jk\omega_s T_s n} = e^{jkn\cdot 2\pi} = 1
\]</span></p>
</blockquote>
<p><img src="/2023/10/28/periodic/image-20231105172503777.png"
alt="image-20231105172503777" /></p>
<blockquote>
<p>LPTV system sampled at <span class="math inline">\(T_s\)</span> is
equivalent to LTI system sampled at <span
class="math inline">\(T_s\)</span></p>
</blockquote>
<p><img src="/2023/10/28/periodic/image-20231105172615426.png"
alt="image-20231105172615426" /></p>
<p><img src="/2023/10/28/periodic/image-20231105173646462.png"
alt="image-20231105173646462" /></p>
<blockquote>
<p><span class="math display">\[
H_{\text{eq}}(j\omega) = \sum_k H_k(j\omega)
\]</span></p>
<p>The result derived above makes intuitive sense due to the
following.</p>
<p>When an <strong>LPTV</strong> system is excited by a tone at <span
class="math inline">\(f\)</span> , the output comprises of tones at
frequencies <span class="math inline">\(f + k f_s\)</span>, where <span
class="math inline">\(k\)</span> is an integer. When sampled at <span
class="math inline">\(f_s\)</span>, frequency components higher than
<span class="math inline">\(f_s\)</span> are aliased to <span
class="math inline">\(f\)</span> . Thus, if one is only interested in
the samples of the system's output, they could as well be produced by a
properly chosen <strong>LTI</strong> filter acting on an input tone at a
frequency <span class="math inline">\(f\)</span> .</p>
<p>Note that the equivalence holds only for samples, and not for the
waveforms. <span class="math inline">\(y(nT_s) = \hat{y}(nT_s)\)</span>,
but <span class="math inline">\(y(t)\)</span> need not equal <span
class="math inline">\(\hat{y}(t)\)</span></p>
</blockquote>
<p><img src="/2023/10/28/periodic/image-20231105173847572.png"
alt="image-20231105173847572" /></p>
<h2 id="finding-the-equivalent-filter">Finding the Equivalent
Filter</h2>
<blockquote>
<p>Frequency Domain Approach <span
class="math inline">\(H_{eq}(j\omega)=\sum_k H_k(j\omega)\)</span></p>
<p>Wasted effort in computing all <span
class="math inline">\(H_k\)</span> first and then adding them up.</p>
</blockquote>
<p>We prefer to employ Time Domain Approaches</p>
<p><img src="/2023/10/28/periodic/image-20231105221411598.png"
alt="image-20231105221411598" /></p>
<h3 id="reciprocity">Reciprocity</h3>
<p><img src="/2023/10/28/periodic/image-20231105223906470.png"
alt="image-20231105223906470" /></p>
<blockquote>
<p>Does not work with <em>controlled sources</em></p>
</blockquote>
<p><img src="/2023/10/28/periodic/image-20231105224203744.png"
alt="image-20231105224203744" /></p>
<h3 id="interreciprocity">Interreciprocity</h3>
<blockquote>
<p>Handle <em>controlled sources</em></p>
</blockquote>
<p><img src="/2023/10/28/periodic/image-20231105225346724.png"
alt="image-20231105225346724" /></p>
<p><img src="/2023/10/28/periodic/image-20231105225359292.png"
alt="image-20231105225359292" /></p>
<table>
<thead>
<tr class="header">
<th>origin</th>
<th>transformer</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>VCVS</td>
<td>CCCS</td>
</tr>
<tr class="even">
<td>CCCS</td>
<td>VCVS</td>
</tr>
<tr class="odd">
<td>VCCS</td>
<td>VCCS</td>
</tr>
<tr class="even">
<td>CCVS</td>
<td>CCVS</td>
</tr>
</tbody>
</table>
<h1 id="reference">reference</h1>
<p>K. S. Kundert, "Introduction to RF simulation and its application,"
in IEEE Journal of Solid-State Circuits, vol. 34, no. 9, pp. 1298-1319,
Sept. 1999, doi: 10.1109/4.782091. [<a
target="_blank" rel="noopener" href="https://designers-guide.org/analysis/rf-sim.pdf">pdf</a>]</p>
<p>Stephen Maas, Nonlinear Microwave and RF Circuits, Second Edition ,
Artech, 2003.</p>
<p>Phillips, Joel R. and Kenneth S. Kundert. "Noise in mixers,
oscillators, samplers, and logic: an introduction to cyclostationary
noise." <em>Proceedings of the IEEE 2000 Custom Integrated Circuits
Conference (Cat. No.00CH37044)</em> (2000): 431-438. [<a
target="_blank" rel="noopener" href="https://designers-guide.org/theory/cyclo-preso.pdf">pdf</a>]</p>
<p>Karti Mayaram. ECE 521 Fall 2016 Analog Circuit Simulation:
Simulation of Radio Frequency Integrated Circuits [<a
target="_blank" rel="noopener" href="https://web.engr.oregonstate.edu/~karti/ece521/lec16_11_16.pdf">pdf1</a>,
<a
target="_blank" rel="noopener" href="https://web.engr.oregonstate.edu/~karti/ece521/lec16_11_23.pdf">pdf2</a>]</p>
<p>The Value Of RF Harmonic Balance Analyses For Analog Verification:
Frequency domain periodic large and small signal analyses. [<a
target="_blank" rel="noopener" href="https://semiengineering.com/the-value-of-rf-harmonic-balance-analyses-for-analog-verification/">https://semiengineering.com/the-value-of-rf-harmonic-balance-analyses-for-analog-verification/</a>]</p>
<p>Shanthi Pavan, "Demystifying Linear Time Varying Circuits"</p>
<p>S. Pavan and G. C. Temes, "Reciprocity and Inter-Reciprocity: A
Tutorial— Part I: Linear Time-Invariant Networks," in IEEE Transactions
on Circuits and Systems I: Regular Papers, vol. 70, no. 9, pp.
3413-3421, Sept. 2023, doi: 10.1109/TCSI.2023.3276700.</p>
<p>S. Pavan and G. C. Temes, "Reciprocity and Inter-Reciprocity: A
Tutorial—Part II: Linear Periodically Time-Varying Networks," in IEEE
Transactions on Circuits and Systems I: Regular Papers, vol. 70, no. 9,
pp. 3422-3435, Sept. 2023, doi: 10.1109/TCSI.2023.3294298.</p>
<p>S. Pavan and R. S. Rajan, "Interreciprocity in Linear Periodically
Time-Varying Networks With Sampled Outputs," in IEEE Transactions on
Circuits and Systems II: Express Briefs, vol. 61, no. 9, pp. 686-690,
Sept. 2014, doi: 10.1109/TCSII.2014.2335393.</p>
<p>Prof. Shanthi Pavan. Introduction to Time - Varying Electrical
Network. [<a
target="_blank" rel="noopener" href="https://youtube.com/playlist?list=PLyqSpQzTE6M8qllAtp9TTODxNfaoxRLp9">https://youtube.com/playlist?list=PLyqSpQzTE6M8qllAtp9TTODxNfaoxRLp9</a>]</p>
<p>Shanthi Pavan. EE5323: Advanced Electrical Networks (Jan-May. 2015)
[<a
target="_blank" rel="noopener" href="https://www.ee.iitm.ac.in/vlsi/courses/ee5323/start">https://www.ee.iitm.ac.in/vlsi/courses/ee5323/start</a>]</p>
<p>R. S. Ashwin Kumar. EE698W: Analog circuits for signal processing [<a
target="_blank" rel="noopener" href="https://home.iitk.ac.in/~ashwinrs/2022_EE698W.html">https://home.iitk.ac.in/~ashwinrs/2022_EE698W.html</a>]</p>
<p>Piet Vanassche, Georges Gielen, and Willy Sansen. 2009. Systematic
Modeling and Analysis of Telecom Frontends and their Building Blocks
(1st. ed.). Springer Publishing Company, Incorporated.</p>
<p>Beffa, Federico. (2023). Weakly Nonlinear Systems.
10.1007/978-3-031-40681-2.</p>
<p>Wereley, Norman. (1990). Analysis and control of linear periodically
time varying systems.</p>
<p>Hameed, S. (2017). Design and Analysis of Programmable Receiver
Front-Ends Based on LPTV Circuits. <em>UCLA</em>. ProQuest ID:
Hameed_ucla_0031D_15577. Merritt ID: ark:/13030/m5gb6zcz. Retrieved from
<a
target="_blank" rel="noopener" href="https://escholarship.org/uc/item/51q2m7bx">https://escholarship.org/uc/item/51q2m7bx</a></p>
<p>Matt Allen. Introduction to Linear Time Periodic Systems. [<a
target="_blank" rel="noopener" href="https://youtu.be/OCOkEFDQKTI">https://youtu.be/OCOkEFDQKTI</a>]</p>
<p>Fivel, Oren. "Analysis of Linear Time-Varying &amp; Periodic
Systems." <em>arXiv preprint arXiv:2202.00498</em> (2022).</p>
<p>RF Harmonic Balance Analysis for Nonlinear Circuits [<a
target="_blank" rel="noopener" href="https://resources.pcb.cadence.com/blog/2019-rf-harmonic-balance-analysis-for-nonlinear-circuits">https://resources.pcb.cadence.com/blog/2019-rf-harmonic-balance-analysis-for-nonlinear-circuits</a>]</p>
<p>Steer, Michael. Microwave and RF Design (Third Edition, 2019). NC
State University, 2019.</p>
<p>Steer, Michael. Harmonic Balance Analysis of Nonlinear RF Circuits -
Case Study Index: CS_AmpHB [<a
target="_blank" rel="noopener" href="https://youtu.be/BM5ZQgfb_sY?si=bjN_hMe-wvoeGHzu">link</a>]</p>
<p>Vishal Saxena, "SpectreRF Periodic Analysis" URL:<a
target="_blank" rel="noopener" href="https://www.eecis.udel.edu/~vsaxena/courses/ece614/Handouts/SpectreRF%20Periodic%20Analysis.pdf">https://www.eecis.udel.edu/~vsaxena/courses/ece614/Handouts/SpectreRF%20Periodic%20Analysis.pdf</a></p>
<p>Josh Carnes,Peter Kurahashi. "Periodic Analyses of Sampled Systems"
URL:<a
target="_blank" rel="noopener" href="https://slideplayer.com/slide/14865977/">https://slideplayer.com/slide/14865977/</a></p>
<p>Kundert, Ken. (2006). Simulating Switched-Capacitor Filters with
SpectreRF. URL:<a
target="_blank" rel="noopener" href="https://designers-guide.org/analysis/sc-filters.pdf">https://designers-guide.org/analysis/sc-filters.pdf</a></p>
<p>Article (20482538) Title: Why is pnoise sampled(jitter) different
than pnoise timeaverage on a driven circuit? URL:<a
target="_blank" rel="noopener" href="https://support.cadence.com/apex/ArticleAttachmentPortal?id=a1O0V000009EStcUAG">https://support.cadence.com/apex/ArticleAttachmentPortal?id=a1O0V000009EStcUAG</a></p>
<p>Article (20467468) Title: The mathematics behind choosing the upper
frequency when simulating pnoise jitter on an oscillator URL:<a
target="_blank" rel="noopener" href="https://support.cadence.com/apex/ArticleAttachmentPortal?id=a1O0V000007MnBUUA0">https://support.cadence.com/apex/ArticleAttachmentPortal?id=a1O0V000007MnBUUA0</a></p>
<p>Andrew Beckett. "Simulating phase noise for PFD-CP". URL:<a
target="_blank" rel="noopener" href="https://groups.google.com/g/comp.cad.cadence/c/NPisXTElx6E/m/XjWxKbbfh2cJ">https://groups.google.com/g/comp.cad.cadence/c/NPisXTElx6E/m/XjWxKbbfh2cJ</a></p>
<p>Dr. Yanghong Huang. MATH44041/64041: Applied Dynamical Systems [<a
target="_blank" rel="noopener" href="https://personalpages.manchester.ac.uk/staff/yanghong.huang/teaching/MATH4041/default.htm">https://personalpages.manchester.ac.uk/staff/yanghong.huang/teaching/MATH4041/default.htm</a>]</p>
<p>Jeffrey Wong. Math 563, Spring 2020 Applied computational analysis
[<a
target="_blank" rel="noopener" href="https://services.math.duke.edu/~jtwong/math563-2020/main.html">https://services.math.duke.edu/~jtwong/math563-2020/main.html</a>]</p>
<p>Jeffrey Wong. Math 353, Fall 2020 Ordinary and Partial Differential
Equations [<a
target="_blank" rel="noopener" href="https://services.math.duke.edu/~jtwong/math353-2020/main.html">https://services.math.duke.edu/~jtwong/math353-2020/main.html</a>]</p>
<p>Tip of the Week: Please explain in more practical (less theoretical)
terms the concept of "oscillator line width." [<a
target="_blank" rel="noopener" href="https://community.cadence.com/cadence_blogs_8/b/rf/posts/please-explain-in-more-practical-less-theoretical-terms-the-concept-of-quot-oscillator-line-width-quot">https://community.cadence.com/cadence_blogs_8/b/rf/posts/please-explain-in-more-practical-less-theoretical-terms-the-concept-of-quot-oscillator-line-width-quot</a>]</p>
<p>Rubiola, E. (2008). Phase Noise and Frequency Stability in
Oscillators (The Cambridge RF and Microwave Engineering Series).
Cambridge: Cambridge University Press. doi:10.1017/CBO9780511812798</p>
<p>Dr. Ulrich L. Rohde, Noise Analysis, Then and Today [<a
target="_blank" rel="noopener" href="https://www.microwavejournal.com/articles/29151-noise-analysis-then-and-today">https://www.microwavejournal.com/articles/29151-noise-analysis-then-and-today</a>]</p>
<p>Nicola Da Dalt and Ali Sheikholeslami. 2018. Understanding Jitter and
Phase Noise: A Circuits and Systems Perspective (1st. ed.). Cambridge
University Press, USA.</p>
<p>Kester, Walt. (2005). Converting Oscillator Phase Noise to Time
Jitter. [<a
target="_blank" rel="noopener" href="https://www.analog.com/media/en/training-seminars/tutorials/MT-008.pdf">https://www.analog.com/media/en/training-seminars/tutorials/MT-008.pdf</a>]</p>
<p>Drakhlis, B.. (2001). Calculate oscillator jitter by using
phase-noise analysis: Part 2 of two parts. Microwaves and Rf. 40.
109-119.</p>
<p>Explanation for sampled PXF analysis. [<a
target="_blank" rel="noopener" href="https://community.cadence.com/cadence_technology_forums/f/custom-ic-design/45055/explanation-for-sampled-pxf-analysis/1376140#1376140">https://community.cadence.com/cadence_technology_forums/f/custom-ic-design/45055/explanation-for-sampled-pxf-analysis/1376140#1376140</a>]</p>
<p>模拟放大器的低噪声设计技术2-3实践 아날로그 증폭기의 저잡음 설계
기법2-3실습 [<a
target="_blank" rel="noopener" href="https://youtu.be/vXLDfEWR31k?si=p2gbwaKoTxtfvrTc">https://youtu.be/vXLDfEWR31k?si=p2gbwaKoTxtfvrTc</a>]</p>
<p>2.2 How POP Really Works [<a
target="_blank" rel="noopener" href="https://www.simplistechnologies.com/documentation/simplis/ast_02/topics/2_2_how_pop_really_works.htm">https://www.simplistechnologies.com/documentation/simplis/ast_02/topics/2_2_how_pop_really_works.htm</a>]</p>
<p>Jaeha Kim. Lecture 11. Mismatch Simulation using PNOISE [<a
target="_blank" rel="noopener" href="https://ocw.snu.ac.kr/sites/default/files/NOTE/7037.pdf">https://ocw.snu.ac.kr/sites/default/files/NOTE/7037.pdf</a>]</p>
<p>Hueber, G., &amp; Staszewski, R. B. (Eds.) (2010).
<em>Multi-Mode/Multi-Band RF Transceivers for Wireless Communications:
Advanced Techniques, Architectures, and Trends</em>. John Wiley &amp;
Sons. https://doi.org/10.1002/9780470634455</p>
<p>B. Boser,A. Niknejad ,S.Gambin 2011 EECS 240 Topic 6: Noise Analysis
[<a
target="_blank" rel="noopener" href="https://mixsignal.files.wordpress.com/2013/06/t06noiseanalysis_simone-1.pdf">https://mixsignal.files.wordpress.com/2013/06/t06noiseanalysis_simone-1.pdf</a>]</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/10/21/pn-jitter/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Guo">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="KNOW-HOW">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | KNOW-HOW">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2023/10/21/pn-jitter/" class="post-title-link" itemprop="url">Phase Noise and Jitter Simulation</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2023-10-21 11:33:58" itemprop="dateCreated datePublished" datetime="2023-10-21T11:33:58+00:00">2023-10-21</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2024-08-27 02:57:16" itemprop="dateModified" datetime="2024-08-27T02:57:16+00:00">2024-08-27</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/noise/" itemprop="url" rel="index"><span itemprop="name">noise</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="integration-limits">Integration Limits</h2>
<blockquote>
<p>Y. Zhao and B. Razavi, "Phase Noise Integration Limits for Jitter
Calculation,"[<a
target="_blank" rel="noopener" href="https://www.seas.ucla.edu/brweb/papers/Conferences/YZ_ISCAS_22.pdf">https://www.seas.ucla.edu/brweb/papers/Conferences/YZ_ISCAS_22.pdf</a>]</p>
</blockquote>
<p><em>TODO</em> 📅</p>
<h2 id="vco-phase-noise">VCO Phase Noise</h2>
<h3 id="pnoise---timeaverage">pnoise - timeaverage</h3>
<ol type="1">
<li><p><em>Direct Plot/Pnoise/Phase Noise</em> or</p>
<p><img src="/2023/10/21/pn-jitter/image-20220511112856934.png"
alt="image-20220511112856934" /></p></li>
<li><p>manually calculate by definition</p>
<p><img src="/2023/10/21/pn-jitter/image-20220511112806122.png"
alt="image-20220511112806122" /></p></li>
<li><p><code>output noise</code> with unit <code>dBc</code></p>
<p><em>Direct Plot/Pnoise/Output Noise Units:dBc/Hz and Noise
convention: SSB</em></p>
<p><img src="/2023/10/21/pn-jitter/image-20220511113248984.png"
alt="image-20220511113248984" /></p></li>
</ol>
<blockquote>
<p>The above method 2 and 3 only apply to <code>timeaveage</code> pnoise
simulation,</p>
</blockquote>
<h3 id="pnoise---sampledjitteredge-crossing">pnoise -
sampled(jitter)/Edge Crossing</h3>
<p><img src="/2023/10/21/pn-jitter/EdgePhaseNoise.drawio.svg"
alt="EdgePhaseNoise.drawio" /></p>
<p><em>Direct Plot/Pnoise/<strong>Edge</strong> Phase Noise</em> or</p>
<p><img src="/2023/10/21/pn-jitter/image-20220515214901120.png"
alt="image-20220515214901120" /></p>
<p>Another way, the following equation can also be used for
<code>sampled(jitter)/Edge Crossing</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">PhaseNoise(dBc/Hz) = dB20( OutputNoise(V/sqrt(Hz)) / slopeCrossing / Tper*twoPi ) - dB10(2)</span><br></pre></td></tr></table></figure>
<p>where <code>dB10(2)</code> is used to obtain SSB from DSB</p>
<p><img src="/2023/10/21/pn-jitter/image-20220511150337318.png"
alt="image-20220511150337318" /></p>
<h3 id="output-noise-of-sampledjitter-pnoise">Output Noise of
sampled(jitter) pnoise</h3>
<p>The last section's <code>Output Noise (V**2/Hz)</code> can be
obtained by <em>transient noise simulation</em></p>
<p>The idea is that sample waveform with ideal clock, subtract DC
offset, then fft(psd)</p>
<ul>
<li>samplesRaw = sample(wv)</li>
<li>samplePost = samplesRaw - average(samplesRaw)</li>
<li>Output Noise (V**2/Hz) = psd(samplePost)</li>
</ul>
<p><img src="/2023/10/21/pn-jitter/image-20220516184543148.png"
alt="image-20220516184543148" /></p>
<p><img src="/2023/10/21/pn-jitter/image-20220516184844296.png"
alt="image-20220516184844296" /></p>
<p><strong>Expression</strong>:</p>
<p><img src="/2023/10/21/pn-jitter/image-20220516185506348.png"
alt="image-20220516185506348" /></p>
<blockquote>
<p>The computation cost is typically very high, and the accuracy is
lesser as compared to PSS/Pnoise</p>
</blockquote>
<h2 id="pnoise-sampledjitter-sampled-phase-option">Pnoise
Sampled(jitter): Sampled Phase Option</h2>
<ul>
<li>Identical to <strong>noisetype=timedomain</strong> in old GUI</li>
<li>Use model:
<ul>
<li>Sampleds Per Period: number of ponits</li>
<li>Add Specific Points: specific time point, still time points</li>
</ul></li>
</ul>
<p><img src="/2023/10/21/pn-jitter/image-20220712085426461.png"
alt="image-20220712085426461" /></p>
<p><img src="/2023/10/21/pn-jitter/image-20220712085836315.png"
alt="image-20220712085836315" /></p>
<p><img src="/2023/10/21/pn-jitter/image-20220712090011204.png"
alt="image-20220712090011204" /></p>
<blockquote>
<p>pss beat freq = 5GHz</p>
<p>pnoise sweeptype: absolute, from 100k to 2.5GHz</p>
</blockquote>
<h2 id="transient-noise">Transient noise</h2>
<h3 id="phase-noise-from-transient-noise-analysis">phase noise from
transient noise analysis</h3>
<ol type="1">
<li>The Phase Noise function is now available in the Direct Plot form
(Results-Direct Plot-Main Form) after Transient Analysis is run
<ul>
<li>Absolute jitter Method</li>
<li>Direct Power Spectral Density Method</li>
</ul></li>
<li><code>PN</code> phase noise function
<ul>
<li>Absolute jitter Method</li>
<li>Direct Power Spectral Density Method</li>
</ul></li>
</ol>
<blockquote>
<p><strong>Absolute jitter Method</strong>: Phase noise is defined as
the power spectral density of the absolute jitter of an input
waveform</p>
<p>and <strong>absolute jitter method</strong> is the default method</p>
</blockquote>
<p>In below discussion, we only think about the
<code>absolute jitter method</code></p>
<h3 id="psd-and-phase-noise">PSD and Phase Noise</h3>
<blockquote>
<ul>
<li>phase noise is single-sideband</li>
<li>psd is double-sideband</li>
<li>Then the ratio is <strong>2</strong></li>
</ul>
</blockquote>
<h4 id="by-pss_pnoise">By PSS_Pnoise</h4>
<p><code>jee</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rfEdgePhaseNoise(?result &quot;pnoise_sample_pm0&quot; ?eventList &#x27;nil) + 10 * log10(2)</span><br></pre></td></tr></table></figure>
<blockquote>
<p>convert <strong>single-sideband</strong> phase noise to psd by
multiplying 2 or <code>10 * log10(2)</code></p>
</blockquote>
<h4 id="by-trannoise-pn-function">By trannoise <code>PN</code>
function</h4>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">PN(clip(VT(&quot;/Out1&quot;) 2.60417e-08 0.000400052) &quot;rising&quot; 1.65 ?Tnom (1 / 3.84e+07) ?windowName &quot;Rectangular&quot; ?smooth 1 ?windowSize 15000 ?detrending &quot;None&quot; ?cohGain 1 ?methodType &quot;absJitter&quot;)</span><br></pre></td></tr></table></figure>
<blockquote>
<p>double-sideband psd</p>
</blockquote>
<h4 id="by-trannoise-psd-and-abs_jitter-function">By trannoise
<code>psd</code> and <code>abs_jitter</code> function</h4>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dB10(psd(abs_jitter(clip(VT(&quot;/Out1&quot;) 2.60417e-08 0.000400052) &quot;rising&quot; 1.65 ?Tnom (1 / 3.84e+07)) 2.60417e-08 0.000400052 15360 ?windowName &quot;Rectangular&quot; ?smooth 1 ?windowSize 15000 ?detrending &quot;None&quot; ?cohGain 1))</span><br></pre></td></tr></table></figure>
<blockquote>
<p>double-sideband psd</p>
<p><code>abs_jitter</code> <em>Y-Unit</em> default is
<code>rad</code></p>
</blockquote>
<h4 id="comparison">Comparison</h4>
<p><img src="/2023/10/21/pn-jitter/image-20220506225324377.png"
alt="image-20220506225324377" /></p>
<blockquote>
<p><code>PN</code>'s result is same with <code>psd</code>'s</p>
</blockquote>
<h3 id="rms-value">RMS value</h3>
<ul>
<li>build the <code>abs_jitter</code> function with <em>seconds as the Y
axis</em> and add the <code>stddev</code> function to determine the Jee
jitter value</li>
<li>or integrate psd</li>
</ul>
<p>The RMS <span class="math inline">\(x_{\text{RMS}}\)</span> of a
discrete domain signal <span class="math inline">\(x(n)\)</span> is
given by <span class="math display">\[
x_{\text{RMS}}=\sqrt{\frac{1}{N}\sum_{n=0}^{N-1}|x(n)|^2}
\]</span> Inserting Parseval's theorem given by <span
class="math display">\[
\sum_{n=0}^{N-1}|x(n)|^2=\frac{1}{N}\sum_{n=0}^{N-1}|X(k)|^2
\]</span> allows for computing the RMS from the spectrum <span
class="math inline">\(X(k)\)</span> as <span class="math display">\[
x_{\text{RMS}}=\sqrt{\frac{1}{N^2}\sum_{n=0}^{N-1}|X(k)|^2}
\]</span></p>
<h3 id="remarks">Remarks</h3>
<p>Cadence Spectre's <code>PN</code> function may call
<code>abs_jitter</code> and <code>psd</code> function under the
hood.</p>
<h2 id="reference">reference</h2>
<p>Article (11514536) Title: How to obtain a phase noise plot from a
transient noise analysis URL: <a
target="_blank" rel="noopener" href="https://support.cadence.com/apex/ArticleAttachmentPortal?id=a1Od0000000nb1CEAQ">https://support.cadence.com/apex/ArticleAttachmentPortal?id=a1Od0000000nb1CEAQ</a></p>
<p>Article (20500632) Title: How to simulate Random and Deterministic
Jitters URL: <a
target="_blank" rel="noopener" href="https://support.cadence.com/apex/ArticleAttachmentPortal?id=a1O3w000009fiXeEAI">https://support.cadence.com/apex/ArticleAttachmentPortal?id=a1O3w000009fiXeEAI</a></p>
<p>Tutorial on Scaling of the Discrete Fourier Transform and the Implied
Physical Units of the Spectra of Time-Discrete Signals Jens Ahrens, Carl
Andersson, Patrik Höstmad, Wolfgang Kropp URL: <a
target="_blank" rel="noopener" href="https://appliedacousticschalmers.github.io/scaling-of-the-dft/AES2020_eBrief/">https://appliedacousticschalmers.github.io/scaling-of-the-dft/AES2020_eBrief/</a></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/10/21/ldo/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Guo">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="KNOW-HOW">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | KNOW-HOW">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2023/10/21/ldo/" class="post-title-link" itemprop="url">Low-Dropout Regulator</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2023-10-21 10:31:41" itemprop="dateCreated datePublished" datetime="2023-10-21T10:31:41+00:00">2023-10-21</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2024-08-27 02:57:16" itemprop="dateModified" datetime="2024-08-27T02:57:16+00:00">2024-08-27</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/analog/" itemprop="url" rel="index"><span itemprop="name">analog</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="pmos-ldo">PMOS LDO</h2>
<p>A large output capacitor solves the sudden load change problem, but
the stability decreases because the large output capacitor forces the
output pole toward the origin with the role of dominant pole</p>
<h2 id="dc-output-impedance">DC output impedance</h2>
<p>DC output impedance of NMOS and PMOS LDO is the
<strong><em>same</em></strong> for the same error amplifier gain</p>
<p><span class="math display">\[
R_{\text{out}} = \frac{1}{\beta A_{o1} g_{m2}}
\]</span></p>
<p>The NMOS LDO has a faster response to line transients than the PMOS
LDO since it has better (smaller) PSRR</p>
<p>A good PSRR is important when an LDO is used as a sub-regulator in
cascade with a switching regulator. The LDO would need to have a
sufficiently high rejection at the switching frequency of the switching
converter to filter out the ripples at that frequency</p>
<h2 id="power-mos-gain-affect-on-pmos-ldo">Power MOS gain affect on PMOS
LDO</h2>
<p><img src="/2023/10/21/ldo/pwm_miller.drawio.svg"
alt="pwm_miller.drawio" /></p>
<p>DC gain <span class="math display">\[
A_{dc} = g_mR_\text{ota} A_2
\]</span> 3dB bandwidth <span class="math display">\[
\omega_p = \frac{1}{R_\text{ota}(C_g+A_2C_c)}
\]</span> and GBW <span class="math display">\[
\omega_u = \frac{g_m}{\frac{C_g}{A_2}+C_c}
\]</span></p>
<p><img src="/2023/10/21/ldo/image-20240803102158612.png"
alt="image-20240803102158612" /></p>
<h3 id="feedforward-compensation-with-c_textff">Feedforward Compensation
with <span class="math inline">\(C_\text{FF}\)</span>​</h3>
<ul>
<li>Improved Noise</li>
<li>Improved Stability and Transient Response</li>
<li>Improved PSRR</li>
</ul>
<p><img src="/2023/10/21/ldo/outCc.drawio.svg" alt="outCc.drawio" /></p>
<p><span class="math display">\[\begin{align}
R_1 \parallel \frac{1}{sC_{FF}} &amp;= \frac{R_1}{1+sR_1C_{FF}} \\
Z_o &amp;= \left( R_1\parallel \frac{1}{sC_{FF}}+R_2\right)\parallel
\frac{1}{sC_L} \\
&amp;=\frac{R_1+R_2+sR_1R_2C_{FF}}{s^2R_1R_2C_{FF}C_L +
s[(R_1+R_2)C_L+R_1C_{FF}]+1} \\
A_{V2} &amp;= g_m Z_o \\
&amp;= g_m \frac{R_1+R_2+sR_1R_2C_{FF}}{s^2R_1R_2C_{FF}C_L +
s[(R_1+R_2)C_L+R_1C_{FF}]+1} \\
\beta &amp;= \frac{R_2}{\frac{R_1}{1+sR_1C_{FF}}+R_2} \\
&amp;= \frac{R_2(1+sR_1C_{FF})}{R_1+R_2+sR_1R_2C_{FF}} \\
A_{V2}\beta &amp;=
\frac{g_mR_2(1+sR_1C_{FF})}{s^2R_1R_2C_{FF}C_L+s[(R_1+R_2)C_L+R_1C_{FF}]+1}
\end{align}\]</span></p>
<p>That is, adding a <span class="math inline">\(C_{FF}\)</span> also
introduces a zero (<span class="math inline">\(\omega_z\)</span>) and
pole (<span class="math inline">\(\omega_p\)</span>) into the <em>LDO
feedback loop</em></p>
<p><span class="math display">\[\begin{align}
\omega_{po} &amp;= \frac{1}{(R_1+R_2)C_L} \\
\omega_z &amp;= \frac{1}{R_1C_{FF}} \\
\omega_{p} &amp;= \frac{1}{(R_1 \parallel R_2)C_{FF}}
\end{align}\]</span></p>
<blockquote>
<p>Application Report SBVA042–July 2014, Pros and Cons of Using a
Feedforward Capacitor with a Low-Dropout Regulator [<a
target="_blank" rel="noopener" href="https://www.ti.com/lit/an/sbva042/sbva042.pdf">https://www.ti.com/lit/an/sbva042/sbva042.pdf</a>]</p>
<p>LDO Basics: Noise – How a Feed-forward Capacitor Improves System
Performance [<a
target="_blank" rel="noopener" href="https://www.ti.com/document-viewer/lit/html/SSZTA13">https://www.ti.com/document-viewer/lit/html/SSZTA13</a>]</p>
<p>LDO Basics: Noise – How a Noise-reduction Pin Improves System
Performance [<a
target="_blank" rel="noopener" href="https://www.ti.com/document-viewer/lit/html/SSZTA40">https://www.ti.com/document-viewer/lit/html/SSZTA40</a>]</p>
</blockquote>
<h2 id="nmos-slave-ldo">NMOS Slave LDO</h2>
<p><img src="/2023/10/21/ldo/nmos_slave_psrr.drawio.svg"
alt="nmos_slave_psrr.drawio" /></p>
<p><span class="math display">\[\begin{align}
\frac{V_g}{V_i}
&amp;=\frac{R||\frac{1}{s(C_g+C_{gs})}}{R||\frac{1}{s(C_g+C_{gs})}+\frac{1}{sC_{gd}}}
\\
&amp;= \frac{sRC_{gd}}{sR(C+C_{gd}+C_{gs})+1}
\end{align}\]</span> <span class="math display">\[
\frac{V_g}{V_i} = -\frac{sC_{ds}+g_{ds}}{sC_{gs}+g_m}
\]</span></p>
<p>That is, <span class="math display">\[
\omega_{z,d} \simeq \frac{1}{R(\frac{g_m}{g_{ds}}C_{gd}+C)}
\]</span></p>
<p>The calculating PSRR pole approach similar with zero, just <span
class="math inline">\(V_o\)</span> to <span
class="math inline">\(V_i\)</span> zero <span class="math display">\[
\omega_{p,d} \simeq \frac{1}{R(\frac{C_s}{g_mR}+C)}
\]</span></p>
<p>DC PSRR <span class="math display">\[
\text{PSRR} = \frac{1}{g_mr_o}
\]</span></p>
<hr />
<p><img src="/2023/10/21/ldo/image-20240726205718920.png"
alt="image-20240726205718920" /></p>
<p><img src="/2023/10/21/ldo/image-20240726205738664.png"
alt="image-20240726205738664" /></p>
<hr />
<h2 id="high-frequency-psrr">High frequency PSRR</h2>
<p><img src="/2023/10/21/ldo/high-psrr.drawio.svg"
alt="high-psrr.drawio" /></p>
<h2 id="feedback-resistor-divider-noise">feedback resistor divider
noise</h2>
<p><img src="/2023/10/21/ldo/fb_res_noise.drawio.svg"
alt="fb_res_noise.drawio" /></p>
<blockquote>
<p>assuming <span class="math inline">\(\text{LG} \gg 1\)</span></p>
</blockquote>
<p><span class="math display">\[\begin{align}
I_\text{t} &amp;= \frac{V_\text{ref} - v_\text{n2}}{R_\text{2}} \\
V_\text{o} &amp;= V_\text{ref} +v_\text{n1} + I_\text{t}R_\text{1} \\
\end{align}\]</span></p>
<p>Then, <span class="math display">\[
V_\text{o} = \frac{R_1+R_2}{R_2}V_\text{ref} + v_\text{n1} -
\frac{R_1}{R_2}v_\text{n2}
\]</span> that is,</p>
<p><span class="math display">\[
v_\text{no}^2 = v_\text{n1}^2 + \left(\frac{R_1}{R_2}\right)^2
v_\text{n2}^2
\]</span></p>
<hr />
<p><img src="/2023/10/21/ldo/image-20240816172605226.png"
alt="image-20240816172605226" /></p>
<p><img src="/2023/10/21/ldo/image-20240816173559747.png"
alt="image-20240816173559747" /></p>
<p><span class="math display">\[
\text{vno1}^2= \text{vn1}^2+\text{vn2}^2/6^2=16.5758 + 99.45453/6^2 =
19.338425833
\]</span></p>
<h2 id="reference">reference</h2>
<p>Hinojo, J.M., Martinez, C.I., &amp; Torralba, A.J. (2018). Internally
Compensated LDO Regulators for Modern System-on-Chip Design.</p>
<p>Mingoo Seok. ISSCC 2020 tutorial "Basics of Digital Low-Dropout (LDO)
Integrated Voltage Regulator"</p>
<p>Pavan Kumar Hanumolu. CICC 2015. "Low Dropout Regulators"</p>
<p>Chen, K. (2016). Power Management Techniques for Integrated Circuit
Design.</p>
<p>Morita, B.G. (2014). Understand Low-Dropout Regulator ( LDO )
Concepts to Achieve Optimal Designs.</p>
<p>H. -S. Kim, "Exploring Ways to Minimize Dropout Voltage for
Energy-Efficient Low-Dropout Regulators: Viable approaches that preserve
performance," in IEEE Solid-State Circuits Magazine, vol. 15, no. 2, pp.
59-68, Spring 2023, doi: 10.1109/MSSC.2023.3262767.</p>
<p>Ali Sheikholeslami, Circuit Intuitions: Voltage Regulators IEEE
Solid-State Circuits Magazine, Vol. 12, Issue 4, to appear, Fall
2020.</p>
<p>Operational Transconductance Amplifier II Multi-Stage Designs [<a
target="_blank" rel="noopener" href="https://people.eecs.berkeley.edu/~boser/courses/240B/lectures/M07%20OTA%20II.pdf">https://people.eecs.berkeley.edu/~boser/courses/240B/lectures/M07%20OTA%20II.pdf</a>]</p>
<p>Toshiba, Load Transient Response of LDO and Methods to Improve it
Application Note [<a
target="_blank" rel="noopener" href="https://toshiba.semicon-storage.com/info/application_note_en_20210326_AKX00312.pdf?did=66268">https://toshiba.semicon-storage.com/info/application_note_en_20210326_AKX00312.pdf?did=66268</a>]</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/10/06/tranOP/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Guo">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="KNOW-HOW">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | KNOW-HOW">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2023/10/06/tranOP/" class="post-title-link" itemprop="url">DC operating points during TRANSIENT analysis</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2023-10-06 10:32:10" itemprop="dateCreated datePublished" datetime="2023-10-06T10:32:10+00:00">2023-10-06</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2024-08-27 02:57:16" itemprop="dateModified" datetime="2024-08-27T02:57:16+00:00">2024-08-27</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/cad/" itemprop="url" rel="index"><span itemprop="name">cad</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <blockquote>
<p><a target="_blank" rel="noopener" href="https://community.cadence.com/members/andrew-beckett">Andrew
Beckett</a><a
target="_blank" rel="noopener" href="https://community.cadence.com/cadence_technology_forums/f/rf-design/25702/finding-dc-operating-points-at-certain-timepoints-during-transient-analysis/1321796#1321796">over
11 years ago</a></p>
<p>Two approaches:</p>
<ol type="1">
<li>On the transient options form, there's a field called "infotimes" -
specify the times at which you want it to output the dc operating point
data. You can then annotate the "transient operating points" from any of
these times after the simulation, or access them via the results
browser.</li>
<li>Or you could get the operating point data to be continuously saved
during the transient for selected devices - if so, create a file called
(say) "save.scs" (make sure it has a ".scs" suffix), and put: save
M1:oppoint or save M*:oppoint sigtype=dev in this file, and then
reference the file via Setup-&gt;Model Libraries or as a "definition
file" on Setup-&gt;Simulation Files. With this approach you can then
find the operating point data for the selected devices in the results
browser and plot it versus time (be cautious of saving too much though
because this can generate a lot of data if you're not careful)</li>
</ol>
<p>Regards,</p>
<p>Andrew.</p>
</blockquote>
<p><img src="/2023/10/06/tranOP/image-20231006110801078.png"
alt="image-20231006110801078" /></p>
<h2 id="transient-options-form">transient options form</h2>
<h3 id="setup">setup</h3>
<p><img src="/2023/10/06/tranOP/image-20231006103506475.png"
alt="image-20231006103506475" /></p>
<h3 id="access-1">access 1</h3>
<p><strong>right-click</strong> <span class="math inline">\(\to\)</span>
<strong>Annotate</strong> <span class="math inline">\(\to\)</span>
<strong>Transient Operating Points</strong></p>
<p><img src="/2023/10/06/tranOP/image-20231006104317496.png"
alt="image-20231006104317496" /></p>
<h3 id="access-2">access 2</h3>
<p><strong>tranOpTimed</strong></p>
<p><img src="/2023/10/06/tranOP/image-20231006105236323.png"
alt="image-20231006105236323" /></p>
<h2 id="save.scs">save.scs</h2>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">save M0:oppoint</span><br></pre></td></tr></table></figure>
<p><img src="/2023/10/06/tranOP/image-20231006110506245.png"
alt="image-20231006110506245" /></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/10/05/varstat/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Guo">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="KNOW-HOW">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | KNOW-HOW">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2023/10/05/varstat/" class="post-title-link" itemprop="url">variables with statistical distribution</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2023-10-05 19:04:19" itemprop="dateCreated datePublished" datetime="2023-10-05T19:04:19+00:00">2023-10-05</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2024-08-27 02:57:17" itemprop="dateModified" datetime="2024-08-27T02:57:17+00:00">2024-08-27</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/cad/" itemprop="url" rel="index"><span itemprop="name">cad</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p><code>Specifying Parameter Distributions Using Statistics Blocks</code></p>
<ul>
<li><code>process</code>: generate random number once per MC run</li>
<li><code>mismatch</code> : generate a random number per instance</li>
</ul>
<p><img src="/2023/10/05/varstat/image-20231005190644654.png"
alt="image-20231005190644654" /></p>
<p><img src="/2023/10/05/varstat/image-20231005190712057.png"
alt="image-20231005190712057" /></p>
<p><img src="/2023/10/05/varstat/image-20231005190724560.png"
alt="image-20231005190724560" /></p>
<h2 id="reference">reference</h2>
<p>Article (20498356) Title: How to vary design variables with
statistical distribution to be used with Monte Carlo analysis URL: <a
target="_blank" rel="noopener" href="https://support.cadence.com/apex/ArticleAttachmentPortal?id=a1O3w000009ErHHEA0">https://support.cadence.com/apex/ArticleAttachmentPortal?id=a1O3w000009ErHHEA0</a></p>
<p>Spectre Circuit Simulator Reference</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/10/05/nonlinearSystem/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Guo">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="KNOW-HOW">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | KNOW-HOW">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2023/10/05/nonlinearSystem/" class="post-title-link" itemprop="url">Nonlinear Systems</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2023-10-05 15:48:47" itemprop="dateCreated datePublished" datetime="2023-10-05T15:48:47+00:00">2023-10-05</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2024-08-27 02:57:16" itemprop="dateModified" datetime="2024-08-27T02:57:16+00:00">2024-08-27</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/dsp/" itemprop="url" rel="index"><span itemprop="name">dsp</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p><em>TODO</em> 📅</p>
<h2 id="paper">paper</h2>
<p>A. Demir, A. Mehrotra and J. Roychowdhury, "Phase noise in
oscillators: a unifying theory and numerical methods for
characterization," in IEEE Transactions on Circuits and Systems I:
Fundamental Theory and Applications, vol. 47, no. 5, pp. 655-674, May
2000, doi: 10.1109/81.847872. [<a
target="_blank" rel="noopener" href="https://www.researchgate.net/profile/Jaijeet-Roychowdhury/publication/3774912_Phase_noise_in_oscillators_a_unifying_theory_and_numerical_methods_for_characterisation/links/56436c0308ae54697fb2e543/Phase-noise-in-oscillators-a-unifying-theory-and-numerical-methods-for-characterisation.pdf">pdf</a>]</p>
<p>demir, Alper. (2000). Floquet theory and non-linear perturbation
analysis for oscillators with differential-algebraic equations.
International Journal of Circuit Theory and Applications - INT J CIRCUIT
THEOR APPL. 28. 163-185.
10.1002/(SICI)1097-007X(200003/04)28:23.0.CO;2-K.</p>
<h2 id="book">book</h2>
<p>⭐ Levy, Bernard. (2020). <strong>Random Processes with Applications
to Circuits and Communications</strong>. 10.1007/978-3-030-22297-0.</p>
<p>Sundararajan, D.. (2023). <strong>Signals and Systems: A Practical
Approach</strong>. 10.1007/978-3-031-19377-4.</p>
<p>Øksendal, Bernt. (2000). <strong>Stochastic Differential Equations:
An Introduction with Applications</strong>.
10.1007/978-3-662-03185-8.</p>
<p>Chicone, Carmen Charles. <strong>Ordinary Differential Equations with
Applications. 2nd ed</strong>. New York ; Berlin: Springer, 2006.</p>
<p>⭐ Stanley H. Chan (2021). <strong>Introduction to Probability for
Data Science</strong>. Michigan Publishing, [<a
target="_blank" rel="noopener" href="https://probability4datascience.com/index.html">link</a>]</p>
<p>Simo Särkkä and Arno Solin (2019). <strong>Applied Stochastic
Differential Equations</strong>. Cambridge University Press. Cambridge,
UK. [<a target="_blank" rel="noopener" href="https://github.com/AaltoML/SDE">link</a>]</p>
<p>Gerald Teschl, <strong>Ordinary Differential Equations and Dynamical
Systems</strong> A.M.S., 2012</p>
<p>Kurt Bryan; Brian Winkel (2020), "2021-Bryan, Kurt - SIMIODE Online
Digital Textbook - <strong>Differential Equations: A Toolbox for
Modeling the World</strong>.,"
https://www.simiode.org/resources/8208.</p>
<p>Jordan, D.W. and Smith, P. (2007) <strong>Nonlinear Ordinary
Differential Equations: An Introduction for Scientists and Engineers.
4th Edition</strong>, Oxford University Press, New York.</p>
<p>Strogatz, S.H. (2015). <strong>Nonlinear Dynamics and Chaos: With
Applications to Physics, Biology, Chemistry, and Engineering (2nd
ed.)</strong>. CRC Press. https://doi.org/10.1201/9780429492563</p>
<p>⭐ Nicolas Privault. <strong>Introduction to Stochastic Finance with
Market Examples, Second Edition</strong>, Chapman &amp; Hall/CRC
Financial Mathematics Series, 2022</p>
<p>⭐ Nicolas Privault. <strong>MH4514 Financial Mathematics</strong>
[<a target="_blank" rel="noopener" href="https://personal.ntu.edu.sg/nprivault/indext.html">link</a>,
<a
target="_blank" rel="noopener" href="https://drive.google.com/file/d/1iCsMdtJctWK2fo65WP5iqNvQ73acObzU">MH4514_notes</a>]</p>
<p>Evans, Lawrence C.. <strong>Stochastic differential equations version
1.2</strong> [<a
target="_blank" rel="noopener" href="https://www.cmor-faculty.rice.edu/~cox/stoch/SDE.course.pdf">pdf</a>]</p>
<p>Evans, Lawrence C.. <strong>An Introduction to Stochastic
Differential Equations.</strong> (2014).</p>
<p>⭐ Matt Charnley. <strong>Differential Equations: An Introduction for
Engineers</strong> [<a
target="_blank" rel="noopener" href="https://sites.rutgers.edu/matthew-charnley/course-materials/differential-equations-an-introduction-for-engineers/">link</a>]</p>
<p>⭐ Jiří Lebl. <strong>Notes on Diffy Qs: Differential Equations for
Engineers</strong> [<a
target="_blank" rel="noopener" href="https://www.jirka.org/diffyqs/">link</a>]</p>
<h2 id="measure-theoretic-probability-theory">measure-theoretic
probability theory</h2>
<p>Jacod, J., &amp; Protter, P. (2004). <strong>Probability Essentials
(Second edition.)</strong>. Springer Berlin Heidelberg.</p>
<p>Sebastien Roch, UW-Madison. <strong>Lecture Notes on
Measure-theoretic Probability Theory</strong> [<a
target="_blank" rel="noopener" href="https://people.math.wisc.edu/~roch/grad-prob/index.html">link</a>]</p>
<p>Matthew N. Bernstein <strong>Demystifying measure-theoretic
probability theory</strong> [<a
target="_blank" rel="noopener" href="https://mbernste.github.io/posts/self_info/">part1</a>, <a
target="_blank" rel="noopener" href="https://mbernste.github.io/posts/measure_theory_2/">part2</a>, <a
target="_blank" rel="noopener" href="https://mbernste.github.io/posts/measure_theory_3/">part3</a>]</p>
<p>Edwin Chen. <strong>Layman's Introduction to Measure Theory</strong>
[<a
target="_blank" rel="noopener" href="https://blog.echen.me/2011/03/14/laymans-introduction-to-measure-theory/">link</a>]</p>
<p>Ales Cerný. <strong>Mathematical Techniques in Finance: Tools for
Incomplete Markets - Second Edition</strong></p>
<h2 id="blogs">blogs</h2>
<p>⭐ Prof. Dr. Maxim Ulrich, KIT. <strong>Stochastic Calculus:
Basics</strong> [<a
target="_blank" rel="noopener" href="https://youtube.com/playlist?list=PLyQSjcv8LwAEdNgdVnNH02-JTJfrwCt81">https://youtube.com/playlist?list=PLyQSjcv8LwAEdNgdVnNH02-JTJfrwCt81</a>]</p>
<p>⭐ Lewis Smith. <strong>Itô and Stratonovich; a guide for the
perplexed</strong> [<a
target="_blank" rel="noopener" href="https://www.robots.ox.ac.uk/~lsgs/posts/2018-09-30-ito-strat.html">https://www.robots.ox.ac.uk/~lsgs/posts/2018-09-30-ito-strat.html)</a>]</p>
<p>布朗运动、伊藤引理、BS 公式（前篇） [<a
target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/38293827">https://zhuanlan.zhihu.com/p/38293827</a>]</p>
<p>Wiener Process <span class="math inline">\(dB^2=dt\)</span> [<a
target="_blank" rel="noopener" href="https://math.stackexchange.com/q/81865/1059887">https://math.stackexchange.com/q/81865/1059887</a>]</p>
<p>Professor Steve Lalley Statistics 385: Brownian Motion and Stochastic
Calculus Fall 2016 [<a
target="_blank" rel="noopener" href="https://galton.uchicago.edu/~lalley/Courses/385/">https://galton.uchicago.edu/~lalley/Courses/385/</a>]</p>
<p>18.S096 | Fall 2013 | Undergraduate MIT. Topics In Mathematics With
Applications In Finance [<a
target="_blank" rel="noopener" href="https://ocw.mit.edu/courses/18-s096-topics-in-mathematics-with-applications-in-finance-fall-2013/pages/syllabus/">https://ocw.mit.edu/courses/18-s096-topics-in-mathematics-with-applications-in-finance-fall-2013/pages/syllabus/</a>]</p>
<p>Mathuranathan, Power and Energy of a Signal : Demystified URL: <a
target="_blank" rel="noopener" href="https://www.gaussianwaves.com/2013/12/power-and-energy-of-a-signal/">https://www.gaussianwaves.com/2013/12/power-and-energy-of-a-signal/</a></p>
<p>White Noise : Simulation and Analysis using Matlab gaussianwaves.com
[<a
target="_blank" rel="noopener" href="https://www.gaussianwaves.com/2013/11/simulation-and-analysis-of-white-noise-in-matlab/">https://www.gaussianwaves.com/2013/11/simulation-and-analysis-of-white-noise-in-matlab/)</a>]</p>
<p>Prof. J. Nathan Kutz AMATH 568 Advanced Differential Equations:
Asymptotics &amp; Perturbations [<a
target="_blank" rel="noopener" href="https://faculty.washington.edu/kutz/am568/am568.html">https://faculty.washington.edu/kutz/am568/am568.html</a>]</p>
<p>Asymptotics and perturbation methods - Prof. Steven Strogatz [<a
target="_blank" rel="noopener" href="https://youtube.com/playlist?list=PL5EH0ZJ7V0jV7kMYvPcZ7F9oaf_YAlfbI">https://youtube.com/playlist?list=PL5EH0ZJ7V0jV7kMYvPcZ7F9oaf_YAlfbI)</a>]
via <span class="citation" data-cites="YouTube">@YouTube</span></p>
<p>Simo Särkkä and Arno Solin (2014). <strong>Applied Stochastic
Differential Equations</strong>. <em>Lecture notes of the course
Becs-114.4202 Special Course in Computational Engineering II held in
Autumn 2014</em>. (<a
target="_blank" rel="noopener" href="https://users.aalto.fi/~ssarkka/course_s2014/sde_course_booklet.pdf">Booklet
as PDF</a>, <a
target="_blank" rel="noopener" href="https://users.aalto.fi/~ssarkka/course_s2014/">Slides and
exercises</a>). (2012 material is <a
target="_blank" rel="noopener" href="https://users.aalto.fi/~ssarkka/course_s2012/pdf/">here</a>).</p>
<p>Ben Chugg. Itô Integral: Construction and Basic Properties [<a
target="_blank" rel="noopener" href="https://benchugg.com/research_notes/intro_ito/">https://benchugg.com/research_notes/intro_ito/</a>]</p>
<p>Ben Chugg. Itô Processes and The Fundamental Theorem of Stochastic
Calculus [<a
target="_blank" rel="noopener" href="https://benchugg.com/research_notes/sde_ito_lemma/">https://benchugg.com/research_notes/sde_ito_lemma/)</a>]</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/09/29/network/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Guo">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="KNOW-HOW">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | KNOW-HOW">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2023/09/29/network/" class="post-title-link" itemprop="url">Network Analysis</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2023-09-29 15:57:01" itemprop="dateCreated datePublished" datetime="2023-09-29T15:57:01+00:00">2023-09-29</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2024-08-27 02:57:16" itemprop="dateModified" datetime="2024-08-27T02:57:16+00:00">2024-08-27</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/dsp/" itemprop="url" rel="index"><span itemprop="name">dsp</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p><img src="/2023/09/29/network/image-20240704212740246.png"
alt="image-20240704212740246" /></p>
<h2 id="rational-fit">Rational Fit</h2>
<h3 id="matlabrationalfit">Matlab/rationalfit</h3>
<p>To resolve the convergence problem of s-parameter in Spectre
simulator - <code>rationalfit</code> and write Verilog-A</p>
<p><img src="/2023/09/29/network/image-20220630224525565.png"
alt="image-20220630224525565" /></p>
<figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">filename  = <span class="string">&#x27;touchstone/ISI.S4P&#x27;</span>;</span><br><span class="line">s4p = read(rfdata.data, filename);</span><br><span class="line">sdd_params = s2sdd(s2p.S_Parameters, <span class="number">2</span>);</span><br><span class="line">sdd21 = <span class="built_in">squeeze</span>(sdd_params(<span class="number">2</span>, <span class="number">1</span>, :));   <span class="comment">% s21</span></span><br><span class="line">freq = s4p.Freq;</span><br><span class="line"></span><br><span class="line"><span class="comment">% rational fitting</span></span><br><span class="line">weight = <span class="built_in">ones</span>(<span class="built_in">size</span>(sdd21));</span><br><span class="line">weight(<span class="built_in">floor</span>(<span class="keyword">end</span>*<span class="number">3</span>/<span class="number">4</span>):<span class="keyword">end</span>) = <span class="number">0.2</span>;</span><br><span class="line">weight(<span class="number">2</span>:<span class="number">10</span>) = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">[hfit, errb] = rationalfit(freq, sdd21, <span class="string">&#x27;IterationLimit&#x27;</span>, [<span class="number">4</span>, <span class="number">16</span>], <span class="string">&#x27;Delayfactor&#x27;</span>, <span class="number">0.98</span>, ...</span><br><span class="line">    <span class="string">&#x27;Weight&#x27;</span>, weight, <span class="string">&#x27;Tolerance&#x27;</span>, <span class="number">-38</span>, <span class="string">&#x27;NPoles&#x27;</span>, <span class="number">32</span>);</span><br><span class="line">[sdd21_fit, ff] = freqresp(hfit, freq);</span><br><span class="line"></span><br><span class="line"><span class="built_in">figure</span>(<span class="number">1</span>)</span><br><span class="line"><span class="built_in">plot</span>(freq/<span class="number">1e9</span>, db(sdd21), <span class="string">&#x27;b-&#x27;</span>); <span class="built_in">hold</span> on;</span><br><span class="line"><span class="built_in">plot</span>(ff/<span class="number">1e9</span>, db(sdd21_fit), <span class="string">&#x27;r-&#x27;</span>); <span class="built_in">hold</span> off; grid on;</span><br><span class="line"><span class="built_in">legend</span>(<span class="string">&#x27;sdd21&#x27;</span>, <span class="string">&#x27;sdd21\_fit&#x27;</span>);</span><br><span class="line">xlabel(<span class="string">&#x27;Freq (GHz)&#x27;</span>);</span><br><span class="line">ylabel(<span class="string">&#x27;magnitude (dB)&#x27;</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">ts = <span class="number">1e-12</span>;</span><br><span class="line">n = <span class="number">2</span>^<span class="number">18</span>;</span><br><span class="line">trise = <span class="number">4e-14</span>;</span><br><span class="line">[yout, tout] = stepresp(hfit, ts, n, trise);</span><br><span class="line"><span class="built_in">figure</span>(<span class="number">2</span>)</span><br><span class="line"><span class="built_in">plot</span>(tout*<span class="number">1e12</span>, yout, <span class="string">&#x27;b-&#x27;</span>); grid on;</span><br><span class="line">xlabel(<span class="string">&#x27;Time (ps)&#x27;</span>);</span><br><span class="line">ylabel(<span class="string">&#x27;V&#x27;</span>);</span><br><span class="line">title(<span class="string">&#x27;Step Response&#x27;</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">% write verilog-A</span></span><br><span class="line">writeva(hfit, <span class="string">&#x27;channel_32poles.va&#x27;</span>);</span><br></pre></td></tr></table></figure>
<h2 id="z0">Z0</h2>
<blockquote>
<p>Remember, S-parameters <strong>don't mean much</strong> unless you
know the value of the <strong>reference impedance </strong>(it's
frequently called Z0).</p>
</blockquote>
<p>simulator will read sp file's <strong>Z0</strong> parameter</p>
<p><img src="/2023/09/29/network/image-20220430214052538.png"
alt="image-20220430214052538" /></p>
<p><img src="/2023/09/29/network/image-20220430214136970.png"
alt="image-20220430214136970" /></p>
<p><img src="/2023/09/29/network/image-20220430214419283.png"
alt="image-20220430214419283" /></p>
<blockquote>
<p>The default <strong>Z0</strong> exported by EMX is
<strong>50</strong></p>
</blockquote>
<h2 id="reference">reference</h2>
<p><a
target="_blank" rel="noopener" href="https://www.microwaves101.com/encyclopedias/s-parameters">microwaves101,
S-parameters
(https://www.microwaves101.com/encyclopedias/s-parameters)</a></p>
<p>Pupalaikis, P. (2020). <em>S-Parameters for Signal Integrity</em>.
Cambridge: Cambridge University Press. doi:10.1017/9781108784863</p>
<p>Coelho, C. P., Phillips, J. R., &amp; Silveira, L. M. (n.d.). Robust
rational function approximation algorithm for model generation.
Proceedings 1999 Design Automation Conference (Cat. No. 99CH36361).
doi:10.1109/dac.1999.781313</p>
<p>Cadence IEEE IMS 2023, Introducing the Spectre S-Parameter Quality
Checker and Rational Fit Model Generator [<a
target="_blank" rel="noopener" href="https://support.cadence.com/apex/ArticleAttachmentPortal?id=a1O3w000009lplhEAA">https://support.cadence.com/apex/ArticleAttachmentPortal?id=a1O3w000009lplhEAA</a>]</p>
<p>The Complex Art Of Handling S-Parameters: The importance of
extraction and fitting to circuit simulation involving S-parameters [<a
target="_blank" rel="noopener" href="https://semiengineering.com/the-complex-art-of-handling-s-parameters/">https://semiengineering.com/the-complex-art-of-handling-s-parameters</a>]</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




  <nav class="pagination">
    <a class="extend prev" rel="prev" title="Previous page" aria-label="Previous page" href="/page/2/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><a class="page-number" href="/page/2/">2</a><span class="page-number current">3</span><a class="page-number" href="/page/4/">4</a><span class="space">&hellip;</span><a class="page-number" href="/page/17/">17</a><a class="extend next" rel="next" title="Next page" aria-label="Next page" href="/page/4/"><i class="fa fa-angle-right"></i></a>
  </nav>

</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">

  <div class="copyright">
    &copy; 
    <span itemprop="copyrightYear">2024</span>
    <span class="with-love">
      <i class="fa fa-heart"></i>
    </span>
    <span class="author" itemprop="copyrightHolder">Guo</span>
  </div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/" rel="noopener" target="_blank">NexT.Gemini</a>
  </div>

    </div>
  </footer>

  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>
  <div class="sidebar-dimmer"></div>
  <div class="back-to-top" role="button" aria-label="Back to top">
    <i class="fa fa-arrow-up fa-lg"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


  
  <script src="https://cdn.jsdelivr.net/npm/animejs@3.2.1/lib/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/sidebar.js"></script><script src="/js/next-boot.js"></script>

  <script src="https://cdn.jsdelivr.net/npm/hexo-generator-searchdb@1.4.1/dist/search.js" integrity="sha256-1kfA5uHPf65M5cphT2dvymhkuyHPQp5A53EGZOnOLmc=" crossorigin="anonymous"></script>
<script src="/js/third-party/search/local-search.js"></script>

  <script class="next-config" data-name="pdf" type="application/json">{"object_url":{"url":"https://cdn.jsdelivr.net/npm/pdfobject@2.3.0/pdfobject.min.js","integrity":"sha256-JJZNsid68vnh3/zyj0lY9BN5ynxVX/12XgOa1TlaYN0="},"url":"/lib/pdf/web/viewer.html"}</script>
  <script src="/js/third-party/tags/pdf.js"></script>






  




  

  <script class="next-config" data-name="enableMath" type="application/json">true</script><script class="next-config" data-name="mathjax" type="application/json">{"enable":true,"tags":"none","js":{"url":"https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.js","integrity":"sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI="}}</script>
<script src="/js/third-party/math/mathjax.js"></script>



</body>
</html>
