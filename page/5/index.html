<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222"><meta name="generator" content="Hexo 7.1.1">

  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.5.2/css/all.min.css" integrity="sha256-XOqroi11tY4EFQMR9ZYwZWKj5ZXiftSx36RRuC3anlA=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"example.com","root":"/","images":"/images","scheme":"Gemini","darkmode":false,"version":"8.20.0","exturl":false,"sidebar":{"position":"left","width_expanded":320,"width_dual_column":240,"display":"post","padding":18,"offset":12},"copycode":{"enable":true,"style":null},"fold":{"enable":false,"height":500},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":false,"async":false,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"},"path":"/search.xml","localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false}}</script><script src="/js/config.js"></script>

    <meta property="og:type" content="website">
<meta property="og:title" content="KNOW-HOW">
<meta property="og:url" content="http://example.com/page/5/index.html">
<meta property="og:site_name" content="KNOW-HOW">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="Guo">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="http://example.com/page/5/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":true,"isPost":false,"lang":"en","comments":"","permalink":"","path":"page/5/index.html","title":""}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>KNOW-HOW</title>
  








  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">KNOW-HOW</h1>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="Search" role="button">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>About</a></li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>Search
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup"><div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off" maxlength="80"
           placeholder="Searching..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close" role="button">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div class="search-result-container no-result">
  <div class="search-result-icon">
    <i class="fa fa-spinner fa-pulse fa-5x"></i>
  </div>
</div>

    </div>
  </div>

</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-overview-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Guo</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">161</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">8</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">1</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author animated">
      <span class="links-of-author-item">
        <a href="https://github.com/raytroop" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;raytroop" rel="noopener me" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:raytroop@gmail.com" title="E-Mail → mailto:raytroop@gmail.com" rel="noopener me" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
  </div>

        </div>
      </div>
    </div>

    
  </aside>


    </div>

    <div class="main-inner index posts-expand">

    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/07/12/relative-sensitivity/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Guo">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="KNOW-HOW">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | KNOW-HOW">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2023/07/12/relative-sensitivity/" class="post-title-link" itemprop="url">Relative Sensitivity</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2023-07-12 01:26:15" itemprop="dateCreated datePublished" datetime="2023-07-12T01:26:15+00:00">2023-07-12</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2024-09-09 17:18:24" itemprop="dateModified" datetime="2024-09-09T17:18:24+00:00">2024-09-09</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/analog/" itemprop="url" rel="index"><span itemprop="name">analog</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>Assuming Target <span class="math inline">\(T\)</span> ( for example,
the total resistance) is function of <span
class="math inline">\(x_1,x_2,...,x_N\)</span>, then total variation can
be expressed as</p>
<p><span class="math display">\[\begin{align}
dT  &amp;= \sum_{n=1}^N\frac{\partial T}{\partial x_n}dx_n \\
&amp;= \sum_{n=1}^N\frac{\partial T}{\partial x_n}x_n\cdot
\frac{dx_n}{x_n}
\end{align}\]</span></p>
<p>Then, we obtain relative variation <span
class="math display">\[\begin{align}
\frac{dT}{T} &amp;= \sum_{n=1}^N\frac{\partial T}{\partial
x_n}\frac{x_n}{T}\cdot \frac{dx_n}{x_n}  \\
&amp;= \sum_{n=1}^N S_{x_n}^T \cdot \frac{dx_n}{x_n}
\end{align}\]</span></p>
<p>⭐ where <span class="math inline">\(S_{x_n}^T=\frac{\partial
T}{\partial x_n}\frac{x_n}{T}\)</span> is <strong>relative
sensitivity</strong></p>
<blockquote>
<p><strong>relative sensitivity</strong> connect <span
class="math inline">\(\frac{dx_n}{x_n}\)</span> with total relative
variation <span class="math inline">\(\frac{dT}{T}\)</span></p>
</blockquote>
<p>And <span class="math inline">\(dT\)</span> can be expressed as <span
class="math display">\[
dT =\sum_{n=1}^N S_{x_n}^T T\cdot \frac{dx_n}{x_n} = \sum_{n=1}^N
x_n&#39;\cdot \frac{dx_n}{x_n}
\]</span> ⭐ where <span class="math inline">\(x_n&#39;= S_{x_n}^T
T\)</span> is the contribution of <span
class="math inline">\(x_n\)</span> in <span
class="math inline">\(T\)</span></p>
<p>⭐ For parallel or series resistors, it can prove <span
class="math inline">\(\sum_{n=1}^N S_{x_n}^T = 1\)</span> and $ _{n=1}^N
x_n'=T$</p>
<hr />
<p><img src="/2023/07/12/relative-sensitivity/parallel_pgx.drawio.svg"
alt="parallel_pgx.drawio" /></p>
<p>Here <span class="math inline">\(T= R_1 \parallel R_2 =
\frac{R_1R_2}{R_1+R_2}\)</span>, and <span
class="math inline">\(T|_{R_1=8000, R_2=2000} = 1600\)</span></p>
<p>We obtain <em>relative sensitivity:</em> <span
class="math display">\[\begin{align}
S_{R_1}^T &amp; = \frac{R_2}{R_1+R_2} \\
S_{R_2}^T &amp; = \frac{R_1}{R_1+R_2}
\end{align}\]</span></p>
<p>The contribution of <span class="math inline">\(R_1\)</span> and
<span class="math inline">\(R_2\)</span> to <span
class="math inline">\(T\)</span> <span
class="math display">\[\begin{align}
R_1&#39;  &amp;= S_{R_1}^T  T | _{R_1=8000, R_2=2000} = 320 \\
R_2&#39;  &amp;= S_{R_2}^T  T | _{R_1=8000, R_2=2000} = 1280
\end{align}\]</span></p>
<h2 id="scholar">scholar</h2>
<p><strong>Normalized sensitivity</strong> captures <strong>relative
sensitivity</strong></p>
<blockquote>
<p>change in objective per change in design variable</p>
</blockquote>
<p><img src="/2023/07/12/relative-sensitivity/normalized.PNG"
alt="Normalized sensitivity" /></p>
<h2 id="reference">reference</h2>
<p>Olivier de Weck, Karen Willcox. MIT, Gradient Calculation and
Sensitivity Analysis [<a
target="_blank" rel="noopener" href="https://ocw.mit.edu/courses/ids-338j-multidisciplinary-system-design-optimization-spring-2010/ce1a087c39ebe629ff93ed57686ada0a_MITESD_77S10_lec09.pdf">pdf</a>]</p>
<p>Karti Mayaram, ECE 521 Fall 2016 Analog Circuit Simulation,
Sensitivity and noise analyses [<a
target="_blank" rel="noopener" href="https://web.engr.oregonstate.edu/~karti/ece521/lec16_11_09.pdf">https://web.engr.oregonstate.edu/~karti/ece521/lec16_11_09.pdf</a>]</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/07/09/gate-resistance/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Guo">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="KNOW-HOW">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | KNOW-HOW">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2023/07/09/gate-resistance/" class="post-title-link" itemprop="url">Gate Resistance</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2023-07-09 10:23:12" itemprop="dateCreated datePublished" datetime="2023-07-09T10:23:12+00:00">2023-07-09</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2024-09-09 17:18:23" itemprop="dateModified" datetime="2024-09-09T17:18:23+00:00">2024-09-09</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/analog/" itemprop="url" rel="index"><span itemprop="name">analog</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p><img src="/2023/07/09/gate-resistance/image-20230709102848934.png"
alt="image-20230709102848934" /></p>
<h2 id="transit-frequency-f_t">Transit frequency <span
class="math inline">\(f_T\)</span></h2>
<blockquote>
<p>aka <strong>cut-off frequency</strong></p>
</blockquote>
<h2 id="gate-thermal-noise">Gate (thermal) noise</h2>
<p><img src="/2023/07/09/gate-resistance/image-20230709210517475.png"
alt="image-20230709210517475" /></p>
<p><img src="/2023/07/09/gate-resistance/image-20230709211309265.png"
alt="image-20230709211309265" /></p>
<p><img src="/2023/07/09/gate-resistance/image-20230709202930102.png"
alt="image-20230709202930102" /></p>
<h3 id="two-side-poly-contact-folding">Two-Side Poly Contact &amp;
folding</h3>
<p><img src="/2023/07/09/gate-resistance/image-20230709212015293.png"
alt="image-20230709212015293" /></p>
<p>Both scheme yield a total distributed resistance of <span
class="math inline">\(R_G/4\)</span> for gate noise calculation</p>
<h4 id="folding">folding</h4>
<p>finger 0 <span class="math display">\[\begin{align}
\overline{i_{tot,0}^2} &amp;= \left(\frac{g_m}{2}
\right)^2(4kT\frac{R_G/2}{3}) \\
&amp;= g_m^2\left(4kT\frac{R_G}{3}\right)\frac{1}{2^2\cdot 2}
\end{align}\]</span></p>
<p>similarly finger 1 <span class="math display">\[
\overline{i_{tot,1}^2} =
g_m^2\left(4kT\frac{R_G}{3}\right)\frac{1}{2^2\cdot 2}
\]</span> Assuming uncorrelated <span class="math display">\[
\overline{i_{tot}^2} = \sum_{N=0}^1\overline{i_{tot,N}^2}
=g_m^2\left(4kT\frac{R_G}{3}\right)\frac{1}{2^2\cdot 2} \cdot 2 =
g_m^2\left(4kT\frac{R_G}{3}\right)\frac{1}{2^2}
\]</span> Generally <span class="math display">\[
\overline{i_{tot}^2} = g_m^2\left(4kT\frac{R_G}{3}\right)\frac{1}{N^2}
\]</span> where the gate is decomposed into <span
class="math inline">\(N\)</span> parallel fingers</p>
<h4 id="two-side-poly-contact">two-side poly contact</h4>
<p><img src="/2023/07/09/gate-resistance/1678671319799.png"
alt="No alt text provided for this image" /></p>
<p><strong>We fracture Gate poly at the center point, then we obtain 2
segments, both have same <span
class="math inline">\(\frac{g_m}{2}\)</span> and <span
class="math inline">\(R_G/2\)</span>.</strong></p>
<p>The derivation procedure is same with folding structure, i.e. plug
<span class="math inline">\(N=2\)</span> into <span
class="math inline">\(\overline{i_{tot}^2} =
g_m^2\left(4kT\frac{R_G}{3}\right)\frac{1}{N^2}\)</span></p>
<p>That is <span class="math display">\[
\overline{i_{tot}^2} = g_m^2\left(4kT\frac{R_G}{12}\right)
\]</span> The input referred noise of gate resistance <span
class="math display">\[
\overline{V_{nRG}^2} = 4kT\frac{R_G}{12}
\]</span></p>
<h3 id="four-equal-gate-fingers">four equal gate fingers</h3>
<p><img src="/2023/07/09/gate-resistance/image-20230709212818351.png"
alt="image-20230709212818351" /></p>
<p><span class="math display">\[
\overline{i_{tot}^2} = g_m^2\left(4kT\frac{R_G}{3}\right)\frac{1}{4^2}
\]</span> Then <span class="math display">\[
\overline{V_{nRG}^2} = \frac{\overline{i_{tot}^2}}{g_m^2}
=4kT\frac{R_G}{48}
\]</span></p>
<h2 id="gate-resistance-handling-by-parasitic-extraction-tools">Gate
resistance handling by parasitic extraction tools</h2>
<p>They fracture the poly line at the intersection with the active
(diffusion) layer, breaking it into <strong>"gate poly"(poly over
active)</strong> and <strong>"field poly" (poly outside
active)</strong></p>
<blockquote>
<p>gploy, fpoly</p>
</blockquote>
<p><img src="/2023/07/09/gate-resistance/1678670859052.png"
alt="No alt text provided for this image" /></p>
<p>Gate poly is also fractured at the center point. Gate instance pin of
the MOSFET (SPICE model) is connected to the center point of the gate
poly. <strong>Gate poly is described by two parasitic resistors,
connecting the fracture points</strong>.</p>
<p><img src="/2023/07/09/gate-resistance/image-20230709222642979.png"
alt="image-20230709222642979" /></p>
<p>MOSFET extrinsic parasitic capacitance between gate poly and source /
drain diffusion and contacts is calculated by parasitic extraction
tools, and assigned to the nodes of the resistive networks.</p>
<p>Different extraction tools do this differently - some tools connect
these parasitic capacitances to the center point of the gate poly, while
some other tools connect them to the end points of the gate poly
resistors.</p>
<h2 id="delta-gate-model"><span class="math inline">\(\Delta\)</span>
gate model</h2>
<blockquote>
<p>This distributed network has a different AC and transient response
than a simple lumped one-R and one-C circuit.</p>
<p>It was shown [B. Razavi] that such RC network behaves approximately
the same as a network with one R and one C element, where <em>C is the
total capacitance</em>, and R=1/3 * W/L <em>rsh for single-side
connected poly, and R=1/12 </em> W/L * rsh for double-sided connected
poly.</p>
<p>These coefficients - 1/3 and 1/12 - effectively enable an accurate
reduced order model for the gate, reducing a large number of R and C
elements to two (or three) resistors and one capacitor.</p>
</blockquote>
<p><strong>Gate Delta Model</strong>: where a gate is described by two
positive and one negative resistors</p>
<p><img src="/2023/07/09/gate-resistance/image-20230709214200878.png"
alt="image-20230709214200878" /></p>
<blockquote>
<p>only applicable to contacts on gate overhangs</p>
<p>invalid for self-aligned gate contacts, where gate contact land
directly on top of gate, not gate overhang</p>
</blockquote>
<p><img src="/2023/07/09/gate-resistance/1678672522997.png"
alt="No alt text provided for this image" /></p>
<ol type="1">
<li><p>1-side gate contact <span class="math display">\[
R_{eq,1side} =R_1 \parallel (R_2+R_1)= \frac{R_G}{6}\parallel
(-\frac{R_G}{2}+\frac{R_G}{6})=\frac{R_G}{3}
\]</span></p></li>
<li><p>2-side contact <span class="math display">\[
R_{eq,2side}= R_1 \parallel R_1 = \frac{R_G}{6}\parallel \frac{R_G}{6} =
\frac{R_G}{12}
\]</span></p></li>
</ol>
<blockquote>
<p>Some SPICE simulators have problems handling <em>negative
resistors</em>, that's possibly why this model did not get a wide
adoption. Some foundries and PDKs support delta gate model, while some
others don't.</p>
</blockquote>
<h2 id="vertical-component-of-gate-resistance">Vertical component of
gate resistance</h2>
<p>In "old" technologies (pre-16nm), gate resistance was dominated by
lateral resistance. However, in advanced technologies, multiple
interfaces between gate material layers lead to a large vertical gate
resistance.</p>
<p><img src="/2023/07/09/gate-resistance/1678686425859.png"
alt="No alt text provided for this image" /></p>
<blockquote>
<p>It's very easy to check this in DSPF file - if gate instance pin is
connected directly to the center of the gate poly - vertical resistance
is not accounted for. If it is connected by a positive resistor to the
center of the gate poly - that resistors represents the vertical gate
resistance.</p>
</blockquote>
<h2 id="decap">decap</h2>
<p><img src="/2023/07/09/gate-resistance/decap-res.drawio.svg"
alt="decap-res.drawio" /></p>
<p>leakage current is determined by <span class="math inline">\(R_s +
R_p\)</span>, and <span class="math inline">\(R_p \gg R_s\)</span></p>
<ul>
<li>low freq: <span class="math inline">\(Z=R_s + R_p\)</span></li>
<li>high freq: <span class="math inline">\(Z=R_s\)</span></li>
</ul>
<blockquote>
<p>An example: <span class="math inline">\(R_s=200 \ohm\)</span>, <span
class="math inline">\(R_p = 8 M\ohm\)</span> and <span
class="math inline">\(C_\text{gate}=10fF\)</span></p>
</blockquote>
<p><img src="/2023/07/09/gate-resistance/image-20240729205410196.png"
alt="image-20240729205410196" /></p>
<h2 id="reference">reference</h2>
<p>⭐ B. Razavi, Y. Ran, and K. F. Lee, “Impact of Distributed Gate
Resistance on the Performance of MOS Devices,” IEEE Trans. Circuits and
Systems, Part I, pp. 750–754, Nov. 1994.</p>
<p>⭐ Maxim Ershov, Diakopto. "Gate Resistance in IC design flow", [<a
target="_blank" rel="noopener" href="https://www.linkedin.com/pulse/gate-resistance-ic-design-flow-maxim-ershov">link</a>,
<a
target="_blank" rel="noopener" href="https://diakopto.com/wp-content/uploads/Gate-Resistance-in-IC-design-flow.pdf">pdf</a>]</p>
<p>Saha, Samar K.. “FinFET Devices for VLSI Circuits and Systems.”
(2020).</p>
<p>Harpe, Pieter J. A., Andrea Baschirotto and Kofi A. A. Makinwa.
“Hybrid ADCs, Smart sensors for the IoT, and Sub-1V and Advanced node
analog circuit design: Advances in Analog Circuit Design 2017.”
(2018).</p>
<p>Chauhan, Yogesh Singh. FinFET Modeling for IC Simulation and Design:
Using the BSIM-CMG Standard. London, UK: Academic Press, 2015.</p>
<p>A.J.Sholten et al., "FinFET compact modelling for analogue and RF
applications", IEDM'2010, p.190.</p>
<p>W. Wu and M. Chan, “Gate resistance modeling of multifin MOS
devices,” IEEE Electron Device Letters, vol. 27, no. 1, pp. 68-70, Jan.
2006.</p>
<p>A. L. S. Loke, C. K. Lee and B. M. Leary, "Nanoscale CMOS
Implications on Analog/Mixed-Signal Design," 2019 IEEE Custom Integrated
Circuits Conference (CICC), Austin, TX, USA, 2019, pp. 1-57, doi:
10.1109/CICC.2019.8780267.</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/07/01/github-pages-deploy/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Guo">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="KNOW-HOW">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | KNOW-HOW">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2023/07/01/github-pages-deploy/" class="post-title-link" itemprop="url">GitHub Pages Build and deployment</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2023-07-01 14:21:49" itemprop="dateCreated datePublished" datetime="2023-07-01T14:21:49+00:00">2023-07-01</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2024-09-09 17:18:23" itemprop="dateModified" datetime="2024-09-09T17:18:23+00:00">2024-09-09</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/devops/" itemprop="url" rel="index"><span itemprop="name">devops</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>The repository visibility shall be <code>public</code></p>
<p><img
src="/2023/07/01/github-pages-deploy/image-20230701142405404.png"
alt="image-20230701142405404" /></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/06/05/hdltime/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Guo">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="KNOW-HOW">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | KNOW-HOW">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2023/06/05/hdltime/" class="post-title-link" itemprop="url">time format in Verilog</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2023-06-05 22:33:51" itemprop="dateCreated datePublished" datetime="2023-06-05T22:33:51+00:00">2023-06-05</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2024-09-09 17:18:23" itemprop="dateModified" datetime="2024-09-09T17:18:23+00:00">2024-09-09</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/digital/" itemprop="url" rel="index"><span itemprop="name">digital</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="realtime-vs-time">realtime vs time</h2>
<ul>
<li><p><code>$realtime</code> round the current time to
<code>timeprecision</code></p></li>
<li><p><code>$time</code> round the current time to integer</p></li>
<li><p><code>%t</code> will scale the rounded value to represent
<code>timeprecision</code>,</p>
<p>i.e. <span class="math inline">\([\$\text{realtime},
\$\text{time}]\cdot \$\text{timeunit} /
\$\text{timeprecision}\)</span></p></li>
</ul>
<p><a
target="_blank" rel="noopener" href="https://verificationacademy.com/forums/systemverilog/time-vs-realtime#answer-94062">https://verificationacademy.com/forums/systemverilog/time-vs-realtime#answer-94062</a>
<a
target="_blank" rel="noopener" href="https://verificationacademy.com/forums/systemverilog/time-vs-realtime#answer-94096">https://verificationacademy.com/forums/systemverilog/time-vs-realtime#answer-94096</a></p>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">module</span> tb;</span><br><span class="line">  <span class="keyword">timeunit</span> <span class="number">10</span>ns;</span><br><span class="line">  <span class="keyword">timeprecision</span> <span class="number">1</span>ps;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">initial</span> <span class="keyword">begin</span></span><br><span class="line">    <span class="built_in">$display</span>(<span class="string">&quot;$realtime = %g&quot;</span>, <span class="built_in">$realtime</span>);</span><br><span class="line">    <span class="built_in">$display</span>(<span class="string">&quot;$time = %g&quot;</span>, <span class="built_in">$time</span>);</span><br><span class="line">    <span class="comment">// $realtime round to timeprecision</span></span><br><span class="line">    <span class="comment">// $time round to integer</span></span><br><span class="line">    #<span class="number">1</span><span class="variable">.10016</span></span><br><span class="line">    <span class="built_in">$display</span>(<span class="string">&quot;$realtime = %g&quot;</span>, <span class="built_in">$realtime</span>);</span><br><span class="line">    <span class="built_in">$display</span>(<span class="string">&quot;$time = %g&quot;</span>, <span class="built_in">$time</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// %t format will scale the rounded value to represent timeprecision</span></span><br><span class="line">    <span class="comment">// 1.1002*10e-9/1e-12 = 11002</span></span><br><span class="line">    <span class="built_in">$display</span>(<span class="string">&quot;$realtime %%t = %t&quot;</span>, <span class="built_in">$realtime</span>);</span><br><span class="line">    <span class="built_in">$display</span>(<span class="string">&quot;$time %%t = %t&quot;</span>, <span class="built_in">$time</span>);</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">endmodule</span></span><br></pre></td></tr></table></figure>
<p>output <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$realtime = 0</span><br><span class="line">$time = 0</span><br><span class="line">$realtime = 1.1002</span><br><span class="line">$time = 1</span><br><span class="line">$realtime %t =                11002</span><br><span class="line">$time %t =                10000</span><br></pre></td></tr></table></figure></p>
<h2 id="timeunit-timeprecision">timeunit, timeprecision</h2>
<p>The time unit and time precision can be specified in the following
two ways: - Using the compiler directive <code>`timescale</code> - Using
the keywords <code>timeunit</code> and <code>timeprecision</code>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">module</span> D (...);</span><br><span class="line">  <span class="keyword">timeunit</span> <span class="number">100</span>ps;</span><br><span class="line">  <span class="keyword">timeprecision</span> <span class="number">10</span>fs;</span><br><span class="line">  ...</span><br><span class="line"><span class="keyword">endmodule</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">module</span> E (...);</span><br><span class="line">  <span class="keyword">timeunit</span> <span class="number">100</span>ps / <span class="number">10</span>fs; <span class="comment">// timeunit with optional second argument</span></span><br><span class="line">  ...</span><br><span class="line"><span class="keyword">endmodule</span></span><br></pre></td></tr></table></figure></p>
<p>The minimum of <code>timeprecision</code> determine <code>%t</code>
output, the nearest <code>timeunit</code> and <code>timeprecision</code>
determine the round of <code>$realtime</code> and <code>$time</code>. Of
course, the simulator follow the time tick shown by
<code>$realtime</code>.</p>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">`<span class="keyword">timescale</span> 1ns/1ns</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Due to minimum of timeprecision is 10ps</span></span><br><span class="line"><span class="keyword">module</span> rawplant;</span><br><span class="line">  <span class="keyword">timeunit</span> <span class="number">1</span>ns;</span><br><span class="line">  <span class="keyword">timeprecision</span> <span class="number">100</span>ps;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">task</span> print;</span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    1ns: 1</span></span><br><span class="line"><span class="comment">    100ps:  6</span></span><br><span class="line"><span class="comment">    10ps: 6</span></span><br><span class="line"><span class="comment">    1ps: 6</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">    #<span class="number">1</span><span class="variable">.666</span></span><br><span class="line">    <span class="built_in">$display</span>(<span class="string">&quot;raw: $realtime = %g&quot;</span>, <span class="built_in">$realtime</span>);     <span class="comment">// 1.7</span></span><br><span class="line">    <span class="built_in">$display</span>(<span class="string">&quot;raw: $time = %g&quot;</span>, <span class="built_in">$time</span>);             <span class="comment">// 2</span></span><br><span class="line">    <span class="built_in">$display</span>(<span class="string">&quot;raw: $realtime %%t = %t&quot;</span>, <span class="built_in">$realtime</span>); <span class="comment">// 1.7*1ns/10ps=170</span></span><br><span class="line">    <span class="built_in">$display</span>(<span class="string">&quot;raw: $time %%t = %t&quot;</span>, <span class="built_in">$time</span>);         <span class="comment">// 2*1ns/10ps = 200</span></span><br><span class="line">  <span class="keyword">endtask</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">endmodule</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">module</span> fineplant;</span><br><span class="line">  <span class="keyword">timeunit</span> <span class="number">100</span>ps;</span><br><span class="line">  <span class="keyword">timeprecision</span> <span class="number">10</span>ps;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">task</span> print;</span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    100ps: 2</span></span><br><span class="line"><span class="comment">    10ps: 6</span></span><br><span class="line"><span class="comment">    1ps: 6</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">    #<span class="number">2</span><span class="variable">.66</span></span><br><span class="line">    <span class="built_in">$display</span>(<span class="string">&quot;fine: $realtime = %g&quot;</span>, <span class="built_in">$realtime</span>);     <span class="comment">// 2.7</span></span><br><span class="line">    <span class="built_in">$display</span>(<span class="string">&quot;fine: $time = %g&quot;</span>, <span class="built_in">$time</span>);             <span class="comment">// 3</span></span><br><span class="line">    <span class="built_in">$display</span>(<span class="string">&quot;fine: $realtime %%t = %t&quot;</span>, <span class="built_in">$realtime</span>); <span class="comment">// 2.7*100ps/10ps = 27</span></span><br><span class="line">    <span class="built_in">$display</span>(<span class="string">&quot;fine: $time %%t = %t&quot;</span>, <span class="built_in">$time</span>);         <span class="comment">// 3*100ps/10ps = 30</span></span><br><span class="line">  <span class="keyword">endtask</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">endmodule</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">module</span> tb;</span><br><span class="line">  rawplant rawblock();</span><br><span class="line">  fineplant fineblock();</span><br><span class="line"></span><br><span class="line">  <span class="keyword">initial</span> <span class="keyword">begin</span></span><br><span class="line">  <span class="keyword">fork</span></span><br><span class="line">    rawblock<span class="variable">.print</span>();</span><br><span class="line">    fineblock<span class="variable">.print</span>();</span><br><span class="line">  <span class="keyword">join</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">endmodule</span></span><br></pre></td></tr></table></figure>
<p>output <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">fine: $realtime = 2.7</span><br><span class="line">fine: $time = 3</span><br><span class="line">fine: $realtime %t =                   27</span><br><span class="line">fine: $time %t =                   30</span><br><span class="line">raw: $realtime = 1.7</span><br><span class="line">raw: $time = 2</span><br><span class="line">raw: $realtime %t =                  170</span><br><span class="line">raw: $time %t =                  200</span><br></pre></td></tr></table></figure></p>
<h2 id="questasim-cmd">questasim cmd</h2>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">vlib work</span><br><span class="line">vlog tb.v</span><br><span class="line">vsim -c -<span class="keyword">do</span> <span class="string">&quot;run -all;exit&quot;</span> work.tb</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/05/29/enbw-nl/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Guo">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="KNOW-HOW">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | KNOW-HOW">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2023/05/29/enbw-nl/" class="post-title-link" itemprop="url">Effective Noise BandWidth and Noise Floor</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2023-05-29 23:57:28" itemprop="dateCreated datePublished" datetime="2023-05-29T23:57:28+00:00">2023-05-29</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2024-09-09 17:18:23" itemprop="dateModified" datetime="2024-09-09T17:18:23+00:00">2024-09-09</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/dsp/" itemprop="url" rel="index"><span itemprop="name">dsp</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="ps-and-psd">PS and PSD</h2>
<p>The spectral density format is appropriate for random or noise
signals but inappropriate for discrete frequency components because the
latter theoretically have zero bandwidth</p>
<h2 id="amplitude-correction">Amplitude Correction</h2>
<ol type="1">
<li><p>A finite-duration window <span
class="math inline">\(w[n]\)</span></p>
<p>DTFT is <span class="math inline">\(W[e^{j\omega}]\)</span> and the
maximum magnitude is is at DC frequency, which <span
class="math inline">\(\sum_n w_n\)</span></p></li>
<li><p>Sinusoidal signal <span class="math inline">\(x[n]\)</span></p>
<p>DFS is <span class="math inline">\(X_k\)</span>, and DTFT shall be
<span
class="math inline">\(\frac{2\pi}{N}X_k(e^{j\omega})\)</span></p></li>
<li><p>the windowed sequence <span class="math inline">\(v[n] =
x[n]w[n]\)</span></p>
<p>with multiplication property, DTFT of <span
class="math inline">\(v[n]\)</span> shall be <span
class="math inline">\(\frac{X_k(e^{j\omega})}{N}\sum_n w_n\)</span></p>
<p>As we know, DFT of <span class="math inline">\(v[n]\)</span> is
samples of its DTFT, that is <span class="math display">\[
\frac{X_k(e^{j\omega})}{N}\sum_n w_n = X_v[k]
\]</span> Therefore, <span class="math display">\[
\frac{X_k(e^{j\omega})}{N} = \frac{X_v[k]}{\sum_n w_n}
\]</span></p></li>
</ol>
<h2 id="effective-noise-bandwidth-enbw">Effective Noise BandWidth
(ENBW)</h2>
<h3 id="general-derivation">General derivation</h3>
<p>The relationship between a <em>power spectrum</em> (<span
class="math inline">\(PS, V^2\)</span>) and a <em>power spectral
density</em> (<span class="math inline">\(PSD, V^2/Hz\)</span>) is given
by the <strong>effective noise bandwidth</strong> (<em>ENBW</em>), which
can easily be determined at the time when the DFT is computed.</p>
<p>ENBW should always be recorded when a spectrum or spectral density is
computed, such that the result can be converted to the other form at a
later stage, when the information about the frequency resolution <span
class="math inline">\(f_{res}\)</span> and the window that was used is
normally not easily available any more.</p>
<p>The <strong>normalized equivalent noise bandwidth</strong> (NENBW) of
the window is given by</p>
<p><span class="math display">\[
\text{NENBW} = \frac{NS_2}{S_1^2}
\]</span> where <span class="math inline">\(S_1 = \sum
_{k=0}^{N-1}w_k\)</span> and <span class="math inline">\(S_2 = \sum
_{k=0}^{N-1}w_k^2\)</span></p>
<p>The <em>ENBW</em> is given by</p>
<p><span class="math display">\[
\text{ENBW} = \text{NENBW}\cdot f_{res} = \text{NENBW}\cdot
\frac{f_s}{N} = f_s\frac{S_2}{S_1^2}
\]</span></p>
<blockquote>
<p>Equivalent noise bandwidth (ENBW) compares a <em>window</em> to an
<em>ideal, rectangular time-window</em>. It is the <em>bandwidth of the
rectangular window's frequency-domain shape</em> that passes the same
amount of <strong>white noise</strong> energy as the frequency-domain
shape defined by the other window.</p>
</blockquote>
<p><img src="/2023/05/29/enbw-nl/enbw.png" alt="enbw" /></p>
<p>Therefore, the equivalent noise bandwidth <span
class="math inline">\(B_{enbw}\)</span> is given by</p>
<p><span class="math display">\[
B_{enbw} = \frac{\int_{-f}^{f} |W(f)|^2 df}{|W(f_0)|^2}
\]</span></p>
<p>Translating to discrete domain, the equivalent noise bandwidth can be
computed using DFT samples as</p>
<p><span class="math display">\[
B_{enbw} =\frac{\sum_{k=0}^{N-1}|W[k]|^2}{|W[k_0]|^2}
\]</span></p>
<p>where <span class="math inline">\(k_0\)</span> is the index at which
the magnitude of FFT output is maximum and <span
class="math inline">\(N\)</span> is the window length, i.e. <span
class="math inline">\(k_0=0\)</span>.</p>
<p>Applying <em>Parseval's theorem</em> and <span
class="math inline">\(W[0]=\sum_{n}w[n]\)</span>, <span
class="math inline">\(B_{enbw}\)</span> can also be computed using time
domain samples as</p>
<p><span class="math display">\[
B_{enbw} = N \frac{\sum_{n}|w[n]|^2}{ \left| \sum_{n} w[n] \right|^2}
\]</span></p>
<blockquote>
<p>scale <span class="math inline">\(w[n]\)</span>
<strong>don't</strong> change <span
class="math inline">\(B_{enbw}\)</span></p>
<p>Noise power inside window: <span class="math inline">\(\int_{-f}^{f}
|W(f)|^2 df \to N\cdot\sum_{n}|w[n]|^2\)</span></p>
<p>peak amplitude: <span class="math inline">\(|W(f_0)|^2 \to \left|
\sum_{n} w[n] \right|^2\)</span></p>
</blockquote>
<h3 id="an-alternative-derivation">An alternative derivation</h3>
<p><img src="/2023/05/29/enbw-nl/coherence-incoherence.drawio.svg"
alt="coherence-incoherence.drawio.svg" /></p>
<p>Assuming the windowed sequence <span class="math inline">\(v[n] =
x[n]w[n]\)</span></p>
<ul>
<li><p><span class="math inline">\(W[k]\)</span>: Fourier Transform of
finite sequence window</p></li>
<li><p><span class="math inline">\(X_{sig}\)</span>: Fourier Transform
of signal</p></li>
<li><p><span class="math inline">\(X_{n}\)</span>: Fourier Transform of
noise</p></li>
<li><p><span class="math inline">\(X_{v,sig}\)</span>: Fourier Transform
of windowed signal</p></li>
<li><p><span class="math inline">\(X_{v,n}\)</span>: Fourier Transform
of windowed noise</p></li>
</ul>
<blockquote>
<p>From Fig. 6,, we observe that the amplitude of the harmonic estimate
at a given frequency is biased by the accumulated broad-band noise
included in the bandwidth of the window.</p>
<p><img src="/2023/05/29/enbw-nl/image-20240517195407690.png"
alt="image-20240517195407690" /></p>
<p>In this sense, the window behaves as a filter, gathering
contributions for its estimate over its bandwidth</p>
</blockquote>
<p>The Fourier Transform of windowed signal can be expressed as</p>
<p><span class="math display">\[\begin{align}
X_{v,sig} &amp;= W_{max}\cdot X_{sig} \\
&amp;= W[0]\cdot X_{sig}
\end{align}\]</span></p>
<blockquote>
<p>For a typical window, <span class="math inline">\(W_{max}\)</span>
occurs at <span class="math inline">\(\omega = 0\)</span></p>
</blockquote>
<p>And the Fourier Transform of windowed noise can be expressed as</p>
<p><span class="math display">\[
X_{v,n}^2 = \sum_k (W[k])^2 \cdot X_n^2
\]</span></p>
<p>divided by <span class="math inline">\((W[0])^2\)</span> on both
sides of the above equation</p>
<p><span class="math display">\[
\frac{X_{v,n}^2}{(W[0])^2} = \frac{\sum_k (W[k])^2}{(W[0])^2} \cdot
X_n^2
\]</span></p>
<p>By Parseval's theorem</p>
<p><span class="math display">\[
\frac{X_{v,n}^2}{\left(\sum_n w[n]\right)^2} = \frac{N\sum_n
w^2[n]}{\left(\sum_n w[n]\right)^2} \cdot X_n^2
\]</span></p>
<p>where <span class="math inline">\(X^2_n\)</span> is what is deserved
and</p>
<p><span class="math display">\[
X_n^2 = \frac{PS_{n}}{B_{enbw}}
\]</span></p>
<p>where <span class="math inline">\(B_{enbw} = N
\frac{\sum_{n}|w[n]|^2}{ \left| \sum_{n} w[n] \right|^2}\)</span> and
<span class="math inline">\(PS_{n}=\left| \frac{X_{v,n}}{\sum_n
w[n]}\right|^2\)</span></p>
<h3 id="code-example">code example</h3>
<figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">lw = <span class="number">128</span>;</span><br><span class="line">win = hann(lw);</span><br><span class="line">lt = <span class="number">2048</span>;</span><br><span class="line">windft = fftshift(fft(win,lt));</span><br><span class="line"></span><br><span class="line">ad = <span class="built_in">abs</span>(windft).^<span class="number">2</span>;</span><br><span class="line">mg = <span class="built_in">max</span>(ad);</span><br><span class="line"></span><br><span class="line">fs = <span class="number">1000</span>;</span><br><span class="line"></span><br><span class="line">bw = enbw(win,fs);</span><br><span class="line"></span><br><span class="line">bdef = sum((win).^<span class="number">2</span>)/sum(win)^<span class="number">2</span>*fs;</span><br><span class="line">fprintf(<span class="string">&quot;bw: %.3f\n&quot;</span>, bw);</span><br><span class="line">fprintf(<span class="string">&quot;bdef: %.3f\n&quot;</span>, bdef);</span><br><span class="line"></span><br><span class="line">freq = -fs/<span class="number">2</span>:fs/lt:fs/<span class="number">2</span>-fs/lt;</span><br><span class="line"></span><br><span class="line"><span class="built_in">plot</span>(freq,ad, bw/<span class="number">2</span>*[<span class="number">-1</span> <span class="number">-1</span> <span class="number">1</span> <span class="number">1</span>],mg*[<span class="number">0</span> <span class="number">1</span> <span class="number">1</span> <span class="number">0</span>],<span class="string">&#x27;--&#x27;</span>)</span><br><span class="line">xlim(bw*[<span class="number">-1</span> <span class="number">1</span>])</span><br><span class="line"></span><br><span class="line">Adiff = trapz(freq,ad)-bw*mg;</span><br><span class="line">fprintf(<span class="string">&quot;Adiff: %.3e\n&quot;</span>, Adiff);</span><br></pre></td></tr></table></figure>
<p>Verify that the area of the rectangle contains the same total power
as the window. <figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Adiff = trapz(freq,ad)-bw*mg</span><br></pre></td></tr></table></figure> output: <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">bw: 11.811</span><br><span class="line">bdef: 11.811</span><br><span class="line">Adiff: 7.276e-12</span><br></pre></td></tr></table></figure></p>
<p><img src="/2023/05/29/enbw-nl/image-20230530230434715.png"
alt="image-20230530230434715" /></p>
<h2 id="noise-floor">Noise Floor</h2>
<h3 id="general-formula">General Formula</h3>
<p>signal tone power <span class="math display">\[
P_{\text{sig}} = 2 \frac{X_{w,sig}^2}{S_1^2}
\]</span></p>
<p>noise power <span class="math display">\[
P_n = \frac{X_{w,n}^2}{S_2}
\]</span></p>
<p>Then, displayed <strong>SNR</strong> is obtained <span
class="math display">\[\begin{align}
\mathrm{SNR} &amp;= 10\log10\left(\frac{X_{w,sig}^2}{X_{w,n}^2}\right)
\\
&amp;= 10\log_{10}\left(\frac{P_{\text{sig}}}{P_n}\right) +
10\log_{10}\left(\frac{S_1^2}{2S_2}\right) \\
&amp;= \mathrm{SNR}&#39;-10\log_{10}\left(\frac{2S_2}{S_1^2}\right) \\
\end{align}\]</span></p>
<blockquote>
<p><em>DFT's output</em> <span
class="math inline">\(\mathrm{SNR}\)</span></p>
</blockquote>
<h3 id="rect-window">Rect Window</h3>
<p>DFT bin's output <em>noise</em> standard deviation (<em>rms</em>)
value is proportional to <span class="math inline">\(\sqrt{N}\)</span>,
and the DFT's output magnitude for the bin containing the <em>signal
tone</em> is proportional to <span class="math inline">\(N\)</span></p>
<p>signal tone power <span class="math display">\[
P_{\text{sig}} = 2 \frac{X_{w,sig}^2}{N^2}
\]</span></p>
<blockquote>
<p>+/- frequency spectrum and apply Parseval's theorem</p>
</blockquote>
<p>noise power <span class="math display">\[\begin{align}
P_n &amp;= \sum_{k=0}^{N-1}{\frac{(X_{w,n}(k))^2}{N^2}}  \\
&amp;= \frac{X_{w,n}^2}{N^2}\cdot N \\
&amp;= \frac{X_{w,n}^2}{N}
\end{align}\]</span></p>
<blockquote>
<p>note white noise, that is <span class="math inline">\(X_n(i) =
X_n(j)\)</span> for any <span class="math inline">\(i \neq
j\)</span></p>
</blockquote>
<p>displayed <strong>SNR</strong> <span
class="math display">\[\begin{align}
\mathrm{SNR} &amp;= 10\log10\left(\frac{X_{w,sig}^2}{X_{w,n}^2}\right)
\\
&amp;= 10\log_{10}\left(\frac{P_{\text{sig}}N^2}{P_n2N}\right) \\
&amp;= 10\log_{10}\left(\frac{P_{\text{sig}}}{P_n}\right) +
10\log_{10}\left(\frac{N}{2}\right) \\
&amp;= \mathrm{SNR}&#39; - 10\log_{10}(2/N)
\end{align}\]</span></p>
<p>If we increase a DFT's size from <span
class="math inline">\(N\)</span> to <span
class="math inline">\(2N\)</span>, the DFT's output SNR increased by
3dB. So we say that a DFT's <strong>processing gain</strong> increases
by 3dB whenever <span class="math inline">\(N\)</span> is doubled.</p>
<blockquote>
<p>[<a
target="_blank" rel="noopener" href="http://individual.utoronto.ca/schreier/lectures/2015/1.pdf">http://individual.utoronto.ca/schreier/lectures/2015/1.pdf</a>]</p>
</blockquote>
<h2 id="no.-of-nonzero-fft-bins">No. of nonzero FFT bins</h2>
<p>The problem with sine-wave scaling is that the noise power is, on
average, <em>evenly distributed over all FFT bins</em>, whereas the
sine-wave power is concentrated in <em>only a few bins</em>. With
sine-wave scaling, the power of individual sine-wave components can be
read directly from the spectral plot, but in order to determine the
noise power, the powers of all the noise bins must be added
together.</p>
<p><img src="/2023/05/29/enbw-nl/snr_final.drawio.svg"
alt="snr_final.drawio" /></p>
<blockquote>
<p>We <strong>can't</strong> use <em>Fourier transform of random
signal</em></p>
<p>[<a
target="_blank" rel="noopener" href="https://raytroop.github.io/2023/11/10/random/#lti-systems-on-wss-processes">https://raytroop.github.io/2023/11/10/random/#lti-systems-on-wss-processes</a>]</p>
</blockquote>
<p><span class="math display">\[\begin{align}
\mathrm{SNR} &amp;= \frac{X_\text{sig}^2}{X_\text{n}^2N} \\
&amp;= \frac{X_\text{sig}^2\cdot \sum_k W_k^2}{X_\text{n}^2N\cdot \sum_k
W_k^2} \\
&amp;= \frac{\sum_\text{nb} X_\text{w,sig}^2}{N X_\text{w,n}^2}
\end{align}\]</span></p>
<blockquote>
<p>The number of nonzero signal bins for the Hann window is <span
class="math inline">\(\mathrm{nb} = 3\)</span></p>
<p><img src="/2023/05/29/enbw-nl/image-20240522213736493.png"
alt="image-20240522213736493" /></p>
<p>where <span class="math inline">\(\mathrm{NBW} =
\frac{\sum_{n}|w[n]|^2}{ \left| \sum_{n} w[n] \right|^2}\)</span></p>
</blockquote>
<figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">% excerpt of A.4 An Example in Pavan, Schreier and Temes, &quot;Understanding Delta-Sigma Data Converters, Second Edition&quot; ISBN 978-1-119-25827-8</span></span><br><span class="line"><span class="comment">%</span></span><br><span class="line"><span class="comment">% Compute modulator output and actual NTF</span></span><br><span class="line"><span class="comment">%</span></span><br><span class="line">OSR = <span class="number">32</span>;</span><br><span class="line">ntf0 = synthesizeNTF(<span class="number">5</span>,OSR,<span class="number">1</span>);</span><br><span class="line">N = <span class="number">64</span>*OSR;</span><br><span class="line">fbin = <span class="number">11</span>;</span><br><span class="line">u = <span class="number">1</span>/<span class="number">2</span>*<span class="built_in">sin</span>(<span class="number">2</span>*<span class="built_in">pi</span>*fbin/N*[<span class="number">0</span>:N<span class="number">-1</span>]);</span><br><span class="line">[v tmp1 tmp2 y] = simulateDSM(u,ntf0);</span><br><span class="line">k = <span class="built_in">mean</span>(<span class="built_in">abs</span>(y)/<span class="built_in">mean</span>(y.^<span class="number">2</span>))</span><br><span class="line">ntf = ntf0 / (k + (<span class="number">1</span>-k)*ntf0);</span><br><span class="line"><span class="comment">%</span></span><br><span class="line"><span class="comment">% Compute windowed FFT and NBW</span></span><br><span class="line"><span class="comment">%</span></span><br><span class="line">w = hann(N); <span class="comment">% or ones(1,N) or hann(N).^2</span></span><br><span class="line">nb = <span class="number">3</span>; <span class="comment">% 1 for Rect; 5 for Hann^2</span></span><br><span class="line">w1 = norm(w,<span class="number">1</span>);</span><br><span class="line">w2 = norm(w,<span class="number">2</span>);</span><br><span class="line">NBW = (w2/w1)^<span class="number">2</span></span><br><span class="line">V = fft(w.*v)/(w1/<span class="number">2</span>);</span><br><span class="line"><span class="comment">%</span></span><br><span class="line"><span class="comment">% Compute SNR</span></span><br><span class="line"><span class="comment">%</span></span><br><span class="line">signal_bins = fbin + [-(nb<span class="number">-1</span>)/<span class="number">2</span>:(nb<span class="number">-1</span>)/<span class="number">2</span>];</span><br><span class="line">inband_bins = <span class="number">0</span>:N/(<span class="number">2</span>*OSR);</span><br><span class="line">noise_bins = setdiff(inband_bins,signal_bins);</span><br><span class="line">snr = dbp(sum(<span class="built_in">abs</span>(V(signal_bins+<span class="number">1</span>)).^<span class="number">2</span>)/sum(<span class="built_in">abs</span>(V(noise_bins+<span class="number">1</span>)).^<span class="number">2</span>))</span><br></pre></td></tr></table></figure>
<h2 id="demo">demo</h2>
<figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">%https://aaronscher.com/Course_materials/Communication_Systems/documents/PSD_Autocorrelation_Noise.pdf</span></span><br><span class="line"></span><br><span class="line"><span class="comment">%Clear variables. clear command window, close all figures:</span></span><br><span class="line">clc;</span><br><span class="line">clear all;</span><br><span class="line">close all;</span><br><span class="line"><span class="comment">%%%Setup and define variables</span></span><br><span class="line">f0=<span class="number">10</span>; <span class="comment">%frequency of sinusoidal signal (Hz)</span></span><br><span class="line">fs=<span class="number">100</span>; <span class="comment">%sampling frequency (Hz)</span></span><br><span class="line">Ts=<span class="number">1</span>/fs; <span class="comment">%sampling period (seconds)</span></span><br><span class="line">N0=<span class="number">3000</span>; <span class="comment">%number of samples</span></span><br><span class="line">t=[<span class="number">0</span>:Ts:Ts*(N0<span class="number">-1</span>)]; <span class="comment">%Sample times</span></span><br><span class="line">noise_PSD=<span class="number">.5</span>; <span class="comment">%This is the desired noise power spectral density in W/Hz.</span></span><br><span class="line">variance=noise_PSD*fs;<span class="comment">% Variance = sigma^2</span></span><br><span class="line">sigma=<span class="built_in">sqrt</span>(variance);</span><br><span class="line">noise=transpose(sigma*<span class="built_in">randn</span>(N0,<span class="number">1</span>));<span class="comment">%create sampled white Gaussian noise.</span></span><br><span class="line">xsignal=<span class="number">20</span>*<span class="built_in">sin</span>(<span class="number">2</span>*<span class="built_in">pi</span>*f0*t); <span class="comment">%create sampled sinusoidal signal</span></span><br><span class="line">x=xsignal+noise; <span class="comment">%Add signal to noise</span></span><br><span class="line"><span class="built_in">figure</span>(<span class="number">1</span>)</span><br><span class="line">histogram(noise,<span class="number">30</span>) <span class="comment">%plot histogram</span></span><br><span class="line">set(gca,<span class="string">&#x27;FontSize&#x27;</span>,<span class="number">14</span>) <span class="comment">%set font size of axis tick labels to 18</span></span><br><span class="line">xlabel(<span class="string">&#x27;Noise amplitude&#x27;</span>,<span class="string">&#x27;fontsize&#x27;</span>,<span class="number">14</span>)</span><br><span class="line">ylabel(<span class="string">&#x27;Frequency of occurance&#x27;</span>,<span class="string">&#x27;fontsize&#x27;</span>,<span class="number">14</span>)</span><br><span class="line">title(<span class="string">&#x27;Simulated histogram of white Gaussian noise&#x27;</span>,<span class="string">&#x27;fontsize&#x27;</span>,<span class="number">14</span>)</span><br><span class="line">SNR_try1=snr(xsignal,noise); <span class="comment">%calculate SNR using built in &quot;snr&quot; function.</span></span><br><span class="line">SNR_try2=<span class="number">10</span>*<span class="built_in">log10</span>(sum(xsignal.^<span class="number">2</span>)/sum(noise.^<span class="number">2</span>)); <span class="comment">%manually calculate SNR.</span></span><br><span class="line"><span class="comment">%If everything is correct, the two SNR calculations above should agree.</span></span><br><span class="line"><span class="comment">%Plot noise in time-domain</span></span><br><span class="line"><span class="built_in">figure</span>(<span class="number">2</span>)</span><br><span class="line"><span class="built_in">plot</span>(t,x)</span><br><span class="line">set(gca,<span class="string">&#x27;FontSize&#x27;</span>,<span class="number">14</span>) <span class="comment">%set font size of axis tick labels to 18</span></span><br><span class="line">xlabel(<span class="string">&#x27;Time (s)&#x27;</span>,<span class="string">&#x27;fontsize&#x27;</span>,<span class="number">14</span>)</span><br><span class="line">ylabel(<span class="string">&#x27;Amplitude&#x27;</span>,<span class="string">&#x27;fontsize&#x27;</span>,<span class="number">14</span>)</span><br><span class="line">title(<span class="string">&#x27;Noisey sinusoid&#x27;</span>,<span class="string">&#x27;fontsize&#x27;</span>,<span class="number">14</span>)</span><br><span class="line">grid on</span><br><span class="line"><span class="comment">%Plot power spectral density (PSD) of noise using three different methods:</span></span><br><span class="line"><span class="comment">%</span></span><br><span class="line"><span class="comment">%Method 1. Calcululate PSD from amplitude spectrum</span></span><br><span class="line">N=<span class="number">2</span>^<span class="number">16</span>; <span class="comment">%Number of discrete points in the FFT</span></span><br><span class="line">y=fft(x,N)/fs; <span class="comment">%fft of noise</span></span><br><span class="line">z=fftshift(y);<span class="comment">%center noise spectrum</span></span><br><span class="line">f_vec=[<span class="number">0</span>:<span class="number">1</span>:N<span class="number">-1</span>]*fs/N-fs/<span class="number">2</span>; <span class="comment">%designate sample frequencies</span></span><br><span class="line">amplitude_spectrum=<span class="built_in">abs</span>(z); <span class="comment">%compute two-sided amplitude spectrum</span></span><br><span class="line">ESD1=amplitude_spectrum.^<span class="number">2</span>; <span class="comment">%ESD = |F(w)|^2;</span></span><br><span class="line">PSD1=ESD1/((N0<span class="number">-1</span>)*Ts);<span class="comment">% PSD=ESD/T where T = total time of sample</span></span><br><span class="line"><span class="built_in">figure</span>(<span class="number">3</span>)</span><br><span class="line"><span class="built_in">plot</span>(f_vec,<span class="number">10</span>*<span class="built_in">log10</span>(PSD1));</span><br><span class="line">xlabel(<span class="string">&#x27;Frequency [Hz]&#x27;</span>,<span class="string">&#x27;fontsize&#x27;</span>,<span class="number">14</span>)</span><br><span class="line">ylabel(<span class="string">&#x27;dB/Hz&#x27;</span>,<span class="string">&#x27;fontsize&#x27;</span>,<span class="number">14</span>)</span><br><span class="line">title(<span class="string">&#x27;Power spectral density - method 1&#x27;</span>,<span class="string">&#x27;fontsize&#x27;</span>,<span class="number">14</span>)</span><br><span class="line">grid on</span><br><span class="line">set(gcf,<span class="string">&#x27;color&#x27;</span>,<span class="string">&#x27;w&#x27;</span>); <span class="comment">%set background color from grey (default) to white</span></span><br><span class="line">axis tight</span><br><span class="line"><span class="comment">%calculate average power using PSD calclated from method 1:</span></span><br><span class="line">Average_power_method_1=sum(PSD1)*fs/N; <span class="comment">% Pav=sum(PSD)*delta_f where delta_f=fs/N;</span></span><br><span class="line"><span class="comment">%</span></span><br><span class="line"><span class="comment">%Method 2 - Calculate PSD from autocorrelation</span></span><br><span class="line">time_lag=((-<span class="built_in">length</span>(x)+<span class="number">1</span>):<span class="number">1</span>:(<span class="built_in">length</span>(x)<span class="number">-1</span>))*Ts;</span><br><span class="line">auto_cor=xcorr(x,x)/fs; <span class="comment">%Use xcorr function to find PSD</span></span><br><span class="line">y=<span class="number">1</span>/fs*fft(auto_cor,N); <span class="comment">%fft of auto correlation function</span></span><br><span class="line">PSD2=<span class="built_in">abs</span>(<span class="number">1</span>/(N0<span class="number">-1</span>)*fftshift(fft(auto_cor,N)));</span><br><span class="line"><span class="built_in">figure</span>(<span class="number">4</span>)</span><br><span class="line"><span class="built_in">plot</span>(f_vec,<span class="number">10</span>*<span class="built_in">log10</span>(PSD2));<span class="comment">%use convolution</span></span><br><span class="line">xlabel(<span class="string">&#x27;Frequency [Hz]&#x27;</span>,<span class="string">&#x27;fontsize&#x27;</span>,<span class="number">14</span>)</span><br><span class="line">ylabel(<span class="string">&#x27;dB/Hz&#x27;</span>,<span class="string">&#x27;fontsize&#x27;</span>,<span class="number">14</span>)</span><br><span class="line">title(<span class="string">&#x27;Power spectral density - method 2&#x27;</span>,<span class="string">&#x27;fontsize&#x27;</span>,<span class="number">14</span>)</span><br><span class="line">grid on</span><br><span class="line">set(gcf,<span class="string">&#x27;color&#x27;</span>,<span class="string">&#x27;w&#x27;</span>); <span class="comment">%set background color from grey (default) to white</span></span><br><span class="line">axis tight</span><br><span class="line"><span class="comment">%calculate average power using PSD calclated from method 1:</span></span><br><span class="line">Average_power_method_2=sum(PSD2)*fs/N; <span class="comment">%Pav=sum(PSD)*delta_f where delta_f=fs/N;</span></span><br><span class="line"><span class="comment">%</span></span><br><span class="line"><span class="comment">%Method 3 - Calculate PSD using built in pwelch function</span></span><br><span class="line"><span class="built_in">figure</span>(<span class="number">5</span>)</span><br><span class="line">PSD3=periodogram(x,[],N,fs,<span class="string">&#x27;centered&#x27;</span>);</span><br><span class="line"><span class="built_in">plot</span>(<span class="number">10</span>*<span class="built_in">log10</span>(PSD3))</span><br><span class="line">xlabel(<span class="string">&#x27;Frequency [Hz]&#x27;</span>,<span class="string">&#x27;fontsize&#x27;</span>,<span class="number">14</span>)</span><br><span class="line">ylabel(<span class="string">&#x27;dB/Hz&#x27;</span>,<span class="string">&#x27;fontsize&#x27;</span>,<span class="number">14</span>)</span><br><span class="line">title(<span class="string">&#x27;Power spectral density - method 3&#x27;</span>,<span class="string">&#x27;fontsize&#x27;</span>,<span class="number">14</span>)</span><br><span class="line">grid on</span><br><span class="line">set(gcf,<span class="string">&#x27;color&#x27;</span>,<span class="string">&#x27;w&#x27;</span>); <span class="comment">%set background color from grey (default) to white</span></span><br><span class="line">axis tight</span><br><span class="line">Average_power_method_3=sum(PSD3)*fs/N; <span class="comment">%Pav=sum(PSD)*delta_f where delta_f=fs/N;</span></span><br><span class="line"><span class="comment">%</span></span><br><span class="line"><span class="comment">%Calculate mean and average PSD of noise:</span></span><br><span class="line">PSD_noise=periodogram(noise,[],N,fs,<span class="string">&#x27;centered&#x27;</span>);</span><br><span class="line">Average_noise_PSD=<span class="built_in">mean</span>(PSD_noise);</span><br><span class="line">Mean_noise=<span class="built_in">mean</span>(noise);</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><img src="/2023/05/29/enbw-nl/image-20230531004822838.png"
alt="image-20230531004822838" /></p>
<p><img src="/2023/05/29/enbw-nl/image-20230531005008418.png"
alt="image-20230531005008418" /></p>
<blockquote>
<p>The power spectral density plots for methods 2 and 3 exactly match
that for method 1 (shown above).</p>
</blockquote>
<h2 id="reference">reference</h2>
<p>Schmid, H. (2012). How to use the FFT and Matlab's pwelch function
for signal and noise simulations and measurements. URL:<a
target="_blank" rel="noopener" href="http://www.schmid-werren.ch/hanspeter/publications/2012fftnoise.pdf">http://www.schmid-werren.ch/hanspeter/publications/2012fftnoise.pdf</a></p>
<p>Bonnie C.Baker. Reading and Using Fast Fourier Transforms (FFT)
URL:<a
target="_blank" rel="noopener" href="http://ww1.microchip.com/downloads/en/appnotes/00681a.pdf">http://ww1.microchip.com/downloads/en/appnotes/00681a.pdf</a></p>
<p>FFT analysis: SNR and Noise level vary with FFT Window size URL:<a
target="_blank" rel="noopener" href="https://www.virtins.com/forum/viewtopic.php?f=7&amp;t=1382">https://www.virtins.com/forum/viewtopic.php?f=7&amp;t=1382</a></p>
<p>Lyons, R. G. (2011). Understanding digital signal processing (3rd
ed.). Prentice Hall</p>
<p>Stefan Scholl, "Exact Signal Measurements using FFT
Analysis",Microelectronic Systems Design Research Group, TU
Kaiserslautern, Germany. [<a
target="_blank" rel="noopener" href="https://kluedo.ub.rptu.de/frontdoor/deliver/index/docId/4293/file/exact_fft_measurements.pdf">pdf</a>]</p>
<p>enbw Matlab URL:<a
target="_blank" rel="noopener" href="https://www.mathworks.com/help/signal/ref/enbw.html">https://www.mathworks.com/help/signal/ref/enbw.html</a></p>
<p>Aaron Scher. PSD, Autocorrelation, and Noise in MATLAB [<a
target="_blank" rel="noopener" href="https://aaronscher.com/Course_materials/Communication_Systems/documents/PSD_Autocorrelation_Noise.pdf">pdf</a>]</p>
<p>Aaron Scher. FFT, total energy, and energy spectral density
computations in MATLAB [<a
target="_blank" rel="noopener" href="https://aaronscher.com/Course_materials/Communication_Systems/documents/Energy_signals_matlab_tutorial.pdf">pdf</a>]</p>
<p>Amplitude Estimation and Zero Padding URL:<a
target="_blank" rel="noopener" href="https://www.mathworks.com/help/signal/ug/amplitude-estimation-and-zero-padding.html">https://www.mathworks.com/help/signal/ug/amplitude-estimation-and-zero-padding.html</a></p>
<p>Harris, F. (1978). On the use of windows for harmonic analysis with
the discrete Fourier transform. Proceedings of the IEEE, 66, 51-83. [<a
target="_blank" rel="noopener" href="https://www.fceia.unr.edu.ar/prodivoz/Harris_1978.pdf">pdf</a>]</p>
<p>Harris, F. J. . (1976). Windows, harmonic analysis and the discrete
fourier transform. [<a
target="_blank" rel="noopener" href="https://apps.dtic.mil/sti/pdfs/ADA034956.pdf">pdf</a>]</p>
<p>Wang Hongwei. Virtins. Evaluation of Various Window Functions using
Multi-Instrument [<a
target="_blank" rel="noopener" href="https://www.virtins.com/doc/D1003/Evaluation_of_Various_Window_Functions_using_Multi-Instrument_D1003.pdf">pdf</a>]</p>
<p>Properties of FFT Windows Used in Stable32 [<a
target="_blank" rel="noopener" href="http://www.wriley.com/Properties%20of%20FFT%20Windows%20Used%20in%20Stable32.pdf">pdf</a>]</p>
<p>Solomon, Jr, O M. PSD computations using Welch's method. [Power
Spectral Density (PSD)]. United States. https://doi.org/10.2172/5688766
[<a target="_blank" rel="noopener" href="https://www.osti.gov/servlets/purl/5688766">pdf</a>]</p>
<p>Measure Power of Deterministic Periodic Signals [<a
target="_blank" rel="noopener" href="https://www.mathworks.com/help/signal/ug/measuring-the-power-of-deterministic-periodic-signals.html">https://www.mathworks.com/help/signal/ug/measuring-the-power-of-deterministic-periodic-signals.html</a>]</p>
<p>Mathuranathan. Equivalent noise bandwidth (ENBW) of window functions.
[<a
target="_blank" rel="noopener" href="https://www.gaussianwaves.com/2020/09/equivalent-noise-bandwidth-enbw-of-window-functions/">https://www.gaussianwaves.com/2020/09/equivalent-noise-bandwidth-enbw-of-window-functions/</a>]</p>
<p>recordingblogs, Equivalent noise bandwidth [<a
target="_blank" rel="noopener" href="https://www.recordingblogs.com/wiki/equivalent-noise-bandwidth">https://www.recordingblogs.com/wiki/equivalent-noise-bandwidth</a>]</p>
<p>unpingco, Python for Signal Processing [<a
target="_blank" rel="noopener" href="https://github.com/unpingco/Python-for-Signal-Processing/blob/master/Windowing_Part2.ipynb">https://github.com/unpingco/Python-for-Signal-Processing/blob/master/Windowing_Part2.ipynb</a>]</p>
<p>Pavan, Schreier and Temes, "Understanding Delta-Sigma Data
Converters, Second Edition" ISBN 978-1-119-25827-8</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/05/29/dnw/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Guo">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="KNOW-HOW">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | KNOW-HOW">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2023/05/29/dnw/" class="post-title-link" itemprop="url">Deep N-well</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2023-05-29 00:00:26" itemprop="dateCreated datePublished" datetime="2023-05-29T00:00:26+00:00">2023-05-29</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2024-09-09 17:18:23" itemprop="dateModified" datetime="2024-09-09T17:18:23+00:00">2024-09-09</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/analog/" itemprop="url" rel="index"><span itemprop="name">analog</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="substrate-noise">Substrate noise</h2>
<p>A variety of techniques can be used to minimize this noise, for
example by keeping analog devices surrounded by guard rings, or using a
separate supply for the substrate/well taps.</p>
<p>However <em>guard rings alone cannot prevent noise coupling deep in
the substrate, only surface currents</em>.</p>
<blockquote>
<p>PMOS are less noisy than NMOS since PMOS has its nwell which isolates
the substrate noise, but such is not valid for NMOS .</p>
</blockquote>
<h2 id="dnw">DNW</h2>
<p>The N-channel devices built directly into the P-type substrate are
not as effectively isolated as P-channel devices in their N-wells. This
is because despite creating a P+ guard ring around the devices, there
remains an electrical path below the guard ring for charge to flow.</p>
<p>To overcome this issue, a <em>deep N-well</em> can be used to more
effectively isolate these N-channel devices.</p>
<p><img src="/2023/05/29/dnw/image-20230529001556060.png"
alt="image-20230529001556060" /></p>
<p><img src="/2023/05/29/dnw/image-20230529010836003.png"
alt="image-20230529010836003" /></p>
<p><img src="/2023/05/29/dnw/BM_SS_Fig1-520x288.jpg"
alt="BM_SS_Together at Last_Fig1" /></p>
<blockquote>
<p>pwdnw: PW/DNW diode</p>
<p>dnwpsub: DNW/PSUB diode</p>
<p><a
target="_blank" rel="noopener" href="https://blogs.sw.siemens.com/calibre/2015/11/03/together-at-last-combining-netlist-and-layout-data-for-power-aware-verification/">Together
At Last – Combining Netlist and Layout Data for Power-Aware
Verification</a></p>
</blockquote>
<p><img src="/2023/05/29/dnw/image-20240708221831791.png"
alt="image-20240708221831791" /></p>
<p><img src="/2023/05/29/dnw/image-20240708222327376.png"
alt="image-20240708222327376" /></p>
<p><img src="/2023/05/29/dnw/image-20230529002733114.png"
alt="image-20230529002733114" /></p>
<ul>
<li>the P-well is separated, allowing the voltage to be controlled</li>
<li>because the circuit within the deep N-well is separated from the
p-substrate in this structure, there is the benefit that this circuitry
is less susceptible to noise that propagates through the
p-substrate.</li>
</ul>
<h2 id="reference">reference</h2>
<p>Chew, K.W., Zhang, J., Shao, K., Loh, W., &amp; Chu, S.F. (2002).
Impact of Deep N-well Implantation on Substrate Noise Coupling and RF
Transistor Performance for Systems-on-a-Chip Integration. 32nd European
Solid-State Device Research Conference, 251-254. URL:[<a
target="_blank" rel="noopener" href="http://www.essderc2002.deis.unibo.it/ESSDERC_web/Session_D11/D11_1.pdf">slides</a>,
<a
target="_blank" rel="noopener" href="http://www.essderc2002.deis.unibo.it/data/pdf/Chew.pdf">paper</a>]</p>
<p>Mark Waller, <a
target="_blank" rel="noopener" href="https://www.planetanalog.com/analog-layout-why-wells-taps-and-guard-rings-are-crucial/">Analog
layout: Why wells, taps, and guard rings are crucial</a></p>
<p>KEITH SABINE <a
target="_blank" rel="noopener" href="https://www.planetanalog.com/using-deep-n-wells-in-analog-design/">Using
Deep N Wells in Analog Design</a></p>
<p>Faricelli, J. (2010). Layout-dependent proximity effects in deep
nanoscale CMOS. IEEE Custom Integrated Circuits Conference 2010,
1-8.</p>
<p>cmos_processing, URL:<a
target="_blank" rel="noopener" href="http://users.ece.utexas.edu/~athomsen/cmos_processing.pdf">http://users.ece.utexas.edu/~athomsen/cmos_processing.pdf</a></p>
<p>Kuo-Tsai LiPaul ChangAndy Chang, TSMC, US20120053923A1, "Methods of
designing integrated circuits and systems thereof"</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/05/27/dft-window/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Guo">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="KNOW-HOW">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | KNOW-HOW">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2023/05/27/dft-window/" class="post-title-link" itemprop="url">Windowing Technique for Accurate DFT</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2023-05-27 10:58:53" itemprop="dateCreated datePublished" datetime="2023-05-27T10:58:53+00:00">2023-05-27</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2024-09-09 17:18:23" itemprop="dateModified" datetime="2024-09-09T17:18:23+00:00">2024-09-09</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/dsp/" itemprop="url" rel="index"><span itemprop="name">dsp</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <blockquote>
<p>A finite-length data record = an infinite record multiplied by a
rectangular window</p>
<p><strong>Windowing is unavoidable</strong></p>
</blockquote>
<hr />
<blockquote>
<p>Applying the Hanning window (or any window) to a <strong>periodic
signal</strong> creates leakage.</p>
</blockquote>
<p><strong>leakage</strong>:</p>
<p>​ The component at one frequency leaks into the vicinity of another
compnent owing to the spectral smearing introdued by
<em>window</em>.</p>
<blockquote>
<p>Notice side lobes <em>adding out of phase</em> can <em>reduce</em>
the heights of the peaks</p>
</blockquote>
<h2 id="windowed-signal">Windowed Signal</h2>
<p>Short transient signals in the time domain produce high, broadband
frequency content.</p>
<p><img src="/2023/05/27/dft-window/sharpTransient.png"
alt="sharpTransient" /></p>
<p>To reduce leakage, a mathematical function called a
<strong>window</strong> is applied to the data. Windows are designed to
<em>reduce the sharp transient</em> in the re-created signal as much as
possible.</p>
<p><img src="/2023/05/27/dft-window/windowedsignal.png"
alt="windowedsignal" /></p>
<p>Because the sharp transients are reduced and smoothed, the broadband
frequency of the spectral leakage is also reduced.</p>
<h2 id="periodic-versus-non-periodic-background">Periodic versus
Non-Periodic Background</h2>
<p>When performing a Fourier Transform on measurement data, a window
affects periodic and non-periodic data differently:</p>
<ul>
<li><p><strong>Periodic (No Window needed)</strong>: A signal captured
in a periodic manner does not require a window, and a resulting Fourier
Transform has no leakage. Applying a window alters the resulting Fourier
transform, and even creates spectral leakage where there would have been
no leakage otherwise.</p></li>
<li><p><strong>Non-periodic (Window needed)</strong>: Windows are used
on signals that are captured in a non-periodic manner to reduce spectral
leakage and get closer to the periodic results. A window can minimize
the leakage present in a non-periodic signal, but cannot eliminate
it.</p></li>
</ul>
<blockquote>
<p>The signal is repeated and appended mathematically because the
measured data is assumed to be representative of the entire original
signal</p>
</blockquote>
<h3 id="periodic">Periodic</h3>
<p>When a measurement signal is captured in a periodic manner, the
Fourier Transform of the captured signal will have <strong>no
leakage</strong> in the frequency domain.</p>
<p>A window is not recommended for a periodic signal as it will distort
the signal in an unnecessary manner, and actually creates spectral
leakage.</p>
<p><img src="/2023/05/27/dft-window/captured-periodic.png"
alt="captured-periodic" /></p>
<h3 id="non-periodic">Non-periodic</h3>
<p>The same sine wave, with a different measurement time, results in a
non-periodic captured signal. Here, when the captured signal is
repeated, the original sine wave signal is not re-created.</p>
<p><img src="/2023/05/27/dft-window/captured-nonperiodic.png"
alt="captured-nonperiodic" /></p>
<p>In fact, several broadband transient events (circled in red) are
introduced. These transients create a broadband response, or
<strong>leakage</strong>.</p>
<p><strong>Windows</strong> are used to minimize this leakage effect in
the frequency domain.</p>
<p><img src="/2023/05/27/dft-window/leakage-vs-nonleakage.png"
alt="leakage-vs-nonleakage" /></p>
<h2 id="hanning">Hanning</h2>
<p>When doing operational noise and vibration measurements, the Hanning
window is commonly used.</p>
<p>Random data has spectral leakage due to the <em>abrupt cutoff</em> at
the beginning and end of the time block. It is
<em>non-periodic</em>.</p>
<p>There is <strong>no</strong> way to ensure that the captured random
signal is periodic by varying the measurement time.</p>
<p><strong>Hanning windows</strong> are often used with random data
because they have moderate impact on the frequency resolution and
amplitude accuracy of the resulting frequency spectrum.</p>
<ul>
<li><p>The maximum <em>amplitude error</em> of a Hanning window is
<em>15%</em></p>
<blockquote>
<p>In the cited article, all spectral data <em>had an amplitude
correction factor applied</em>.</p>
</blockquote></li>
<li><p>while the frequency leakage is typically confined to <em>1.5
spectral lines</em> to each side of the original sine wave
signal</p></li>
</ul>
<p><img src="/2023/05/27/dft-window/rtaImage.png"
alt="hanning.png" /></p>
<h3 id="periodic-signal">periodic signal</h3>
<p>Applying the Hanning window (or any window) to a periodic signal
creates <strong>leakage</strong>.</p>
<p><img src="/2023/05/27/dft-window/hanning-periodicsignal.png"
alt="hanning-periodicsignal" /></p>
<blockquote>
<p>The <em>periodically captured</em> sine wave with the Hanning window
(blue) is <em>wider</em> in frequency than the original signal (red)</p>
</blockquote>
<p>In the figure, the sine wave with the Hanning window (blue) is
<em>wider</em> in frequency than the original signal (red).</p>
<h3 id="non-periodic-signal">non-periodic signal</h3>
<p>When a Hanning window is applied to a non-periodic signal, the
leakage is greatly reduced and the amplitude is higher.</p>
<p><img src="/2023/05/27/dft-window/hanning-nonperiodicsignal.png"
alt="hanning-nonperiodicsignal" /></p>
<blockquote>
<p>A <em>non-periodically captured</em> sine wave (magenta) has a
spectral leakage over the entire bandwidth, applying a Hanning window
minimized the leakage (green)</p>
</blockquote>
<h3 id="rms-calculation">RMS calculation</h3>
<p>A <em>RMS calculation</em> <strong>sums up the energy within a
frequency range</strong>.</p>
<p><img src="/2023/05/27/dft-window/rms-cal.png" alt="rms-cal" /></p>
<ul>
<li><p>both the RMS of the periodic and non-periodic signals with a
Hanning window are equal to the RMS of the leakage-free sine
wave.</p></li>
<li><p>Only the RMS of the non-periodic sine wave without a window
applied is not equal to the others</p></li>
</ul>
<blockquote>
<p>With the leakage spread over a smaller frequency range, doing
analysis calculations like <em>RMS</em> yields more accurate
results.</p>
</blockquote>
<h2 id="flattop">Flattop</h2>
<ul>
<li><p>The Flattop window has a <em>better amplitude accuracy</em> in
frequency domain compared to the Hanning window,</p>
<blockquote>
<p>The maximum amplitude error of a Flattop window is <em>less than
0.01%</em>. By contrast, the Hanning window maximum amplitude error is
15%.</p>
</blockquote></li>
<li><p>A Flattop window confines leakage to <em>3.43 spectral lines</em>
to each side of the original signal.</p></li>
</ul>
<h3 id="amplitude-errors">amplitude errors</h3>
<p>These maximum amplitude errors assume that <em>amplitude correction
factors are applied to the frequency spectrums</em>. These amplitude
correction factors compensate for any reduction caused by applying a
window.</p>
<p><img src="/2023/05/27/dft-window/flattop-amplitude.png"
alt="flattop-amplitude" /></p>
<h3 id="leakage">leakage</h3>
<p>The frequency accuracy of the Flattop window is more coarse compared
to a Hanning window. As a result, the Flattop window is typically
employed on data where frequency peaks are distinct and well separated
from each other.</p>
<p><img src="/2023/05/27/dft-window/flattop-leakage.png"
alt="flattop-leakage" /></p>
<p>When the frequency peaks are not guaranteed to be well separated, the
Hanning window is preferred because it is less likely to cause
individual peaks to be lost in the spectrum</p>
<p><img src="/2023/05/27/dft-window/flattop-2tone.png"
alt="flattop-2tone" /></p>
<p>Spectrum of two periodically captured tones that are <span
class="math inline">\(4Hz\)</span> apart with a <span
class="math inline">\(1Hz\)</span> frequency resolution. The spectrum
with a Hanning window (green) shows two peaks while the spectrum with a
Flattop window (blue) shows one peak.</p>
<blockquote>
<p>Note that at the original frequencies of the tones the amplitude is
correct and equal to one for both windows.</p>
</blockquote>
<blockquote>
<p>One common application for a flattop window is performing
<em>calibration</em>. For example, a sound pistonphone only produces
<em>one single</em> and <em>distinct frequency</em> during microphone
calibration.</p>
</blockquote>
<h2 id="uniform">Uniform</h2>
<p>A Uniform window has a value of <em>1.0</em> across the entire
measurement time. In reality, a <strong>Uniform window</strong> could be
called <strong>no window</strong>.</p>
<blockquote>
<p>Depending on the data acquisition system used, sometimes the term
<strong>Rectangular</strong> window is also used.</p>
</blockquote>
<ul>
<li><p>A Uniform window creates no frequency or amplitude distortion
when the measured signal is periodic.</p></li>
<li><p>When a measured signal is not periodic, the amplitude is reduced
by a maximum of <em>36%</em> and the frequency content is spread over
the <em>entire bandwidth of the measurement</em>.</p>
<blockquote>
<p>This is due to <em>sharp transients</em> that are created by
repeating and appending the measured signal.</p>
</blockquote></li>
</ul>
<blockquote>
<p>Whenever a measurement signal is periodic, a Uniform window is
preferred.</p>
<p>Applying a Hanning or Flattop window to a periodic signal will
actually create amplitude and frequency distortion.</p>
</blockquote>
<p><img src="/2023/05/27/dft-window/uniformwindow.png"
alt="uniformwindow" /></p>
<h2 id="benefit-of-reducing-leakage">Benefit of Reducing Leakage</h2>
<p>The benefit is <strong>not</strong> that the captured signal is
perfectly replicated.</p>
<p><strong>The main benefit is that the leakage is now confined over a
smaller frequency range</strong>, instead of affecting the entire
frequency bandwidth of the measurement.</p>
<blockquote>
<p>With the leakage spread over a smaller frequency range, doing
analysis calculations like RMS yields more accurate results.</p>
</blockquote>
<p><img src="/2023/05/27/dft-window/rms-windowed.png"
alt="rms-windowed" /></p>
<p>It is impossible to calculate the proper RMS amplitude estimate over
a limited frequency range of the <em>un-windowed sine wave</em>, since
the leakage is <em>over the full frequency range</em>. Therefore the RMS
amplitude is not correct.</p>
<h3 id="two-tones">Two tones</h3>
<p>In the case of two closely spaced sine tones, without a window being
applied, two tones frequencies would leak into each other, which make
determining the true amplitude of individual peaks very difficult.</p>
<p>The window makes it easier to separate and distinguish each tone so a
proper analysis could be performed.</p>
<p><img src="/2023/05/27/dft-window/windowed-2tone.png"
alt="windowed-2tone" /></p>
<h2 id="window-function-in-frequency-domain">window function in
frequency domain</h2>
<p>The transfer function <span class="math inline">\(a(f)\)</span> of a
window <span class="math inline">\(w_j, j \in [0, N-1]\)</span>
expresses the response of the window to a sinusoidal signal at an offset
of <span class="math inline">\(f\)</span> frequency bins, i.e. DFT .</p>
<p><strong>real part:</strong> <span class="math display">\[
a_r(f)=\sum_{j=0}^{N-1}w_j\cos (2\pi f j/N)
\]</span></p>
<p><strong>imaginary part:</strong> <span class="math display">\[
a_i(f)=\sum_{j=0}^{N-1}w_j\sin (2\pi f j/N)
\]</span></p>
<p>frequency response can be obtained as <span class="math display">\[
a(f) = \frac{\sqrt{a_r^2+a_i^2}}{S_1}
\]</span> where <span class="math inline">\(S_1 = \sum
_{k=0}^{N-1}w_k\)</span></p>
<h3 id="rectangle-window-example">rectangle window example</h3>
<blockquote>
<p>aka. Uniform window, "Rectangular" window, "no window"</p>
<p>Whenever a measurement signal is periodic, a Uniform window is
preferred. Applying a Hanning or Flattop window to a periodic signal
will actually create amplitude and frequency distortion.</p>
</blockquote>
<ol type="1">
<li>When <span class="math inline">\(f=0\)</span></li>
</ol>
<p><span class="math display">\[
a_r(f) + ja_i(f) = \sum_{k=0}^{N-1}w_k = N
\]</span></p>
<ol start="3" type="1">
<li>When <span class="math inline">\(f \neq 0\)</span></li>
</ol>
<p><span class="math display">\[\begin{align}
a_r(f) + ja_i(f) &amp;= \sum_{k=0}^{N-1} e^{\frac{j2\pi k f}{N}} \\
&amp;= \sum_{k=0}^{N/2} e^{\frac{j2\pi k f}{N}} + e^{\frac{j2\pi (k+N/2)
f}{N}} \\
&amp;= \sum_{k=0}^{N/2} e^{\frac{j2\pi k f}{N}} + e^{j\pi}
e^{\frac{j2\pi k f}{N}} \\
&amp;= \sum_{k=0}^{N/2} e^{\frac{j2\pi k f}{N}} - e^{\frac{j2\pi k
f}{N}} \\
&amp;= 0
\end{align}\]</span></p>
<blockquote>
<p>A Uniform window creates no frequency or amplitude distortion when
the <strong>measured signal</strong> is <strong>periodic</strong>.</p>
<p>However, if the signal cannot be guaranteed to be periodic, a Uniform
window should be avoided.</p>
</blockquote>
<h2 id="window-properties">Window Properties</h2>
<p>There is <strong>no</strong> possibility of trade-off between
<em>main-lobe width</em> and <em>sied-lobe amplitude</em>, since the
<em>window length</em> is the only variable parameter.</p>
<blockquote>
<p>The rectangular window has the narrowest main lobe for a given
length, i.e. <span class="math inline">\(\Delta
_{ml}=4\pi/L\)</span></p>
<p>Other windows include the Bartlett, Hann, and Hamming windows. The
DTFTs of all these windows have main-lobe width <span
class="math inline">\(\Delta _{ml}=8\pi/(L-1)\)</span>, which is
approximately twice that of the rectangular window, but they have
significantly smaller side-lobe amplitudes.</p>
</blockquote>
<h2 id="demo">Demo</h2>
<figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br></pre></td><td class="code"><pre><span class="line">clc;</span><br><span class="line">clear all;</span><br><span class="line"></span><br><span class="line">N = <span class="number">512</span>;</span><br><span class="line">fs = <span class="number">40</span>*<span class="number">1e3</span>; <span class="comment">% 40kHz</span></span><br><span class="line">fres = fs/N; <span class="comment">% 78.125</span></span><br><span class="line">tt = (<span class="number">0</span>:N<span class="number">-1</span>)*<span class="number">1</span>/fs;</span><br><span class="line">ff = (<span class="number">0</span>:N/<span class="number">2</span>)*fres;</span><br><span class="line">fin = <span class="number">390.625</span>;</span><br><span class="line"></span><br><span class="line">whan = hanning(N); <span class="comment">% hanning window</span></span><br><span class="line">wrect = rectwin(N); <span class="comment">% rect window</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">% fin/fs = 5/N, periodically captured sine wave</span></span><br><span class="line">wv = <span class="built_in">cos</span>(<span class="number">2</span>*<span class="built_in">pi</span>*fin*tt);</span><br><span class="line">power = periodogram(wv, whan, N, fs, <span class="string">&#x27;power&#x27;</span>);</span><br><span class="line">X = (power).^<span class="number">0.5</span>*<span class="number">2</span>^<span class="number">0.5</span>;</span><br><span class="line">psd = periodogram(wv, whan, N, fs, <span class="string">&#x27;psd&#x27;</span>);</span><br><span class="line">rms = sum(psd*fres)^<span class="number">0.5</span>;</span><br><span class="line">fprintf(<span class="string">&#x27;RMS@periodic &amp; hanning: %.5f\n&#x27;</span>, rms);</span><br><span class="line"></span><br><span class="line">power_rect = periodogram(wv, wrect, N, fs, <span class="string">&#x27;power&#x27;</span>);</span><br><span class="line">X_rect = (power_rect).^<span class="number">0.5</span>*<span class="number">2</span>^<span class="number">0.5</span>;</span><br><span class="line">psd_rect = periodogram(wv, wrect, N, fs, <span class="string">&#x27;psd&#x27;</span>);</span><br><span class="line">rms_rect = sum(psd_rect*fres)^<span class="number">0.5</span>;</span><br><span class="line">fprintf(<span class="string">&#x27;RMS@periodic &amp; rect: %.5f\n&#x27;</span>, rms_rect);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="built_in">figure</span>(<span class="number">1</span>)</span><br><span class="line"><span class="built_in">plot</span>(ff, X, <span class="string">&#x27;r-o&#x27;</span>, ff, X_rect, <span class="string">&#x27;b-s&#x27;</span>);</span><br><span class="line">xlabel(<span class="string">&#x27;Frequency(Hz)&#x27;</span>);</span><br><span class="line">ylabel(<span class="string">&#x27;|X|&#x27;</span>)</span><br><span class="line">title(<span class="string">&#x27;Amplitude spectrum of periodically captured sine wave&#x27;</span>);</span><br><span class="line"><span class="built_in">legend</span>(<span class="string">&#x27;w/ hanning&#x27;</span>, <span class="string">&#x27;w/ rect&#x27;</span>);</span><br><span class="line">grid on</span><br><span class="line">grid minor</span><br><span class="line"><span class="comment">% rectangular window provide higher frequency resolution</span></span><br><span class="line"><span class="comment">% hanning window induce leakage for the periodically captured sine wave</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">% fin - 0.5fres</span></span><br><span class="line">fin_lkg0d5 = fin - <span class="number">0.5</span>*fres;</span><br><span class="line">wv_lkg0d5 = <span class="built_in">cos</span>(<span class="number">2</span>*<span class="built_in">pi</span>*fin_lkg0d5*tt);</span><br><span class="line">power_lkg0d5 = periodogram(wv_lkg0d5, whan, N, fs, <span class="string">&#x27;power&#x27;</span>);</span><br><span class="line">X_lkg0d5 = (power_lkg0d5).^<span class="number">0.5</span>*<span class="number">2</span>^<span class="number">0.5</span>;</span><br><span class="line">psd_lkg0d5 = periodogram(wv_lkg0d5, whan, N, fs, <span class="string">&#x27;psd&#x27;</span>);</span><br><span class="line">rms_lkg0d5 = sum(psd_lkg0d5*fres)^<span class="number">0.5</span>;</span><br><span class="line">fprintf(<span class="string">&#x27;RMS@-0.5fres &amp; hanning: %.5f\n&#x27;</span>, rms_lkg0d5);</span><br><span class="line"></span><br><span class="line">power_lkg0d5_rect = periodogram(wv_lkg0d5, wrect, N, fs, <span class="string">&#x27;power&#x27;</span>);</span><br><span class="line">X_lkg0d5_rect = (power_lkg0d5_rect).^<span class="number">0.5</span>*<span class="number">2</span>^<span class="number">0.5</span>;</span><br><span class="line">psd_lkg0d5_rect = periodogram(wv_lkg0d5, wrect, N, fs, <span class="string">&#x27;psd&#x27;</span>);</span><br><span class="line">rms_lkg0d5_rect = sum(psd_lkg0d5_rect*fres)^<span class="number">0.5</span>;</span><br><span class="line">fprintf(<span class="string">&#x27;RMS@-0.5fres &amp; rect: %.5f\n&#x27;</span>, rms_lkg0d5_rect);</span><br><span class="line"></span><br><span class="line"><span class="built_in">figure</span>(<span class="number">2</span>)</span><br><span class="line"><span class="built_in">plot</span>(ff, X_lkg0d5, <span class="string">&#x27;r-o&#x27;</span>, ff, X_lkg0d5_rect, <span class="string">&#x27;b-s&#x27;</span>);</span><br><span class="line">xlabel(<span class="string">&#x27;Frequency(Hz)&#x27;</span>);</span><br><span class="line">ylabel(<span class="string">&#x27;|X|&#x27;</span>)</span><br><span class="line">title(<span class="string">&#x27;Amplitude spectrum of -0.5fres&#x27;</span>);</span><br><span class="line"><span class="built_in">legend</span>(<span class="string">&#x27;w/ hanning&#x27;</span>, <span class="string">&#x27;w/ rect&#x27;</span>);</span><br><span class="line">grid on</span><br><span class="line">grid minor</span><br><span class="line"><span class="comment">% hanning reduce leakage and max amplitude error 15%</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">% fin - 0.25fres</span></span><br><span class="line">fin_lkg0d25 = fin - <span class="number">0.25</span>*fres;</span><br><span class="line">wv_lkg0d25 = <span class="built_in">cos</span>(<span class="number">2</span>*<span class="built_in">pi</span>*fin_lkg0d25*tt);</span><br><span class="line">power_lkg0d25 = periodogram(wv_lkg0d25, whan, N, fs, <span class="string">&#x27;power&#x27;</span>);</span><br><span class="line">X_lkg0d25 = (power_lkg0d25).^<span class="number">0.5</span>*<span class="number">2</span>^<span class="number">0.5</span>;</span><br><span class="line">psd_lkg0d25 = periodogram(wv_lkg0d25, whan, N, fs, <span class="string">&#x27;psd&#x27;</span>);</span><br><span class="line">rms_lkg0d25 = sum(psd_lkg0d25*fres)^<span class="number">0.5</span>;</span><br><span class="line">fprintf(<span class="string">&#x27;RMS@-0.25fres &amp; hanning: %.5f\n&#x27;</span>, rms_lkg0d25);</span><br><span class="line"></span><br><span class="line">power_lkg0d25_rect = periodogram(wv_lkg0d25, wrect, N, fs, <span class="string">&#x27;power&#x27;</span>);</span><br><span class="line">X_lkg0d25_rect = (power_lkg0d25_rect).^<span class="number">0.5</span>*<span class="number">2</span>^<span class="number">0.5</span>;</span><br><span class="line">psd_lkg0d25_rect = periodogram(wv_lkg0d25, wrect, N, fs, <span class="string">&#x27;psd&#x27;</span>);</span><br><span class="line">rms_lkg0d25_rect = sum(psd_lkg0d25_rect*fres)^<span class="number">0.5</span>;</span><br><span class="line">fprintf(<span class="string">&#x27;RMS@-0.25fres &amp; rect: %.5f\n&#x27;</span>, rms_lkg0d25_rect);</span><br><span class="line"></span><br><span class="line"><span class="built_in">figure</span>(<span class="number">3</span>)</span><br><span class="line"><span class="built_in">plot</span>(ff, X_lkg0d25, <span class="string">&#x27;r-o&#x27;</span>, ff, X_lkg0d25_rect, <span class="string">&#x27;b-s&#x27;</span>);</span><br><span class="line">xlabel(<span class="string">&#x27;Frequency(Hz)&#x27;</span>);</span><br><span class="line">ylabel(<span class="string">&#x27;|X|&#x27;</span>)</span><br><span class="line">title(<span class="string">&#x27;Amplitude spectrum of -0.25fres&#x27;</span>);</span><br><span class="line"><span class="built_in">legend</span>(<span class="string">&#x27;w/ hanning&#x27;</span>, <span class="string">&#x27;w/ rect&#x27;</span>);</span><br><span class="line">grid on</span><br><span class="line">grid minor</span><br><span class="line"><span class="comment">% hanning reduce leakage</span></span><br></pre></td></tr></table></figure>
<p>output</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">RMS@periodic &amp; hanning: 0.70711</span><br><span class="line">RMS@periodic &amp; rect: 0.70711</span><br><span class="line">RMS@-0.5fres &amp; hanning: 0.70711</span><br><span class="line">RMS@-0.5fres &amp; rect: 0.70711</span><br><span class="line">RMS@-0.25fres &amp; hanning: 0.70711</span><br><span class="line">RMS@-0.25fres &amp; rect: 0.70780</span><br></pre></td></tr></table></figure>
<p><img src="/2023/05/27/dft-window/image-20230526005823613.png"
alt="image-20230526005823613" /></p>
<blockquote>
<p>rectangular window provide higher frequency resolution</p>
</blockquote>
<p><img src="/2023/05/27/dft-window/image-20230526005934411.png"
alt="image-20230526005934411" /></p>
<blockquote>
<p>hanning reduce leakage and max amplitude error 15%</p>
</blockquote>
<p><img src="/2023/05/27/dft-window/image-20230526010047826.png"
alt="image-20230526010047826" /></p>
<blockquote>
<p>hanning reduce leakage and reduce amplitude error</p>
</blockquote>
<h2 id="reference">reference</h2>
<p>Windows and Spectral Leakage. URL:<a
target="_blank" rel="noopener" href="https://community.sw.siemens.com/s/article/windows-and-spectral-leakage">https://community.sw.siemens.com/s/article/windows-and-spectral-leakage</a></p>
<p>Article (20416822) Title: How to Utilize a Windowing Technique for
Accurate DFT URL: <a
target="_blank" rel="noopener" href="https://support.cadence.com/apex/ArticleAttachmentPortal?id=a1Od000000050UrEAI">https://support.cadence.com/apex/ArticleAttachmentPortal?id=a1Od000000050UrEAI</a></p>
<p>B.P. Lathi, Roger Green. Linear Systems and Signals (The Oxford
Series in Electrical and Computer Engineering) 3rd Edition</p>
<p>Window Types: Hanning, Flattop, Uniform, Tukey, and Exponential
URL:<a
target="_blank" rel="noopener" href="https://community.sw.siemens.com/s/article/window-types-hanning-flattop-uniform-tukey-and-exponential">https://community.sw.siemens.com/s/article/window-types-hanning-flattop-uniform-tukey-and-exponential</a></p>
<p>Window Correction Factors URL:<a
target="_blank" rel="noopener" href="https://community.sw.siemens.com/s/article/window-correction-factors">https://community.sw.siemens.com/s/article/window-correction-factors</a></p>
<p>Root Mean Square (RMS) and Overall Level. URL:<a
target="_blank" rel="noopener" href="https://community.sw.siemens.com/s/article/root-mean-square-rms-and-overall-level">https://community.sw.siemens.com/s/article/root-mean-square-rms-and-overall-level</a></p>
<p>Alan V Oppenheim, Ronald W. Schafer. Discrete-Time Signal Processing,
3rd edition</p>
<p>Stefan Scholl, "Exact Signal Measurements using FFT
Analysis",Microelectronic Systems Design Research Group, TU
Kaiserslautern, Germany. [ <a
target="_blank" rel="noopener" href="https://kluedo.ub.rptu.de/frontdoor/deliver/index/docId/4293/file/exact_fft_measurements.pdf">pdf</a>
]</p>
<p>Harris, F. (1978). On the use of windows for harmonic analysis with
the discrete Fourier transform. Proceedings of the IEEE, 66, 51-83. [<a
target="_blank" rel="noopener" href="https://www.fceia.unr.edu.ar/prodivoz/Harris_1978.pdf">pdf</a>]</p>
<p>Equivalent noise bandwidth (ENBW) of window functions URL:<a
target="_blank" rel="noopener" href="https://www.gaussianwaves.com/2020/09/equivalent-noise-bandwidth-enbw-of-window-functions/">https://www.gaussianwaves.com/2020/09/equivalent-noise-bandwidth-enbw-of-window-functions/</a></p>
<p>Why should I zero-pad a signal before taking the Fourier transform?
URL:<a
target="_blank" rel="noopener" href="https://dsp.stackexchange.com/q/741">https://dsp.stackexchange.com/q/741</a></p>
<p>enbw function in MATLAB URL:<a
target="_blank" rel="noopener" href="https://www.mathworks.com/help/signal/ref/enbw.html">https://www.mathworks.com/help/signal/ref/enbw.html</a></p>
<p>Window function – figure of merits URL:<a
target="_blank" rel="noopener" href="https://www.gaussianwaves.com/2020/09/window-function-figure-of-merits/">https://www.gaussianwaves.com/2020/09/window-function-figure-of-merits/</a></p>
<p>Memos on FFT With Windowing URL:<a
target="_blank" rel="noopener" href="https://everynanocounts.com/2018/02/01/memos-on-fft-with-windowing/">https://everynanocounts.com/2018/02/01/memos-on-fft-with-windowing/</a></p>
<p>Jens Ahrens, "Some Notes on Windows in Spectral Analysis," Tech.
Report, Chalmers Univeristy of Technology, 2020. URL:<a
target="_blank" rel="noopener" href="https://appliedacousticschalmers.github.io/scaling-of-the-dft/notes_on_windows/">https://appliedacousticschalmers.github.io/scaling-of-the-dft/notes_on_windows/</a></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/05/11/Virtual-Connectivity/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Guo">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="KNOW-HOW">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | KNOW-HOW">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2023/05/11/Virtual-Connectivity/" class="post-title-link" itemprop="url">Virtual Connectivity</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2023-05-11 21:08:54" itemprop="dateCreated datePublished" datetime="2023-05-11T21:08:54+00:00">2023-05-11</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2024-09-09 17:18:23" itemprop="dateModified" datetime="2024-09-09T17:18:23+00:00">2024-09-09</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/cad/" itemprop="url" rel="index"><span itemprop="name">cad</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>Normally, if the layout connectivity extractor finds disjoint,
unconnected geometries with the same net name text attached, the
extractor will view this as an open circuit.</p>
<ul>
<li>Virtual connection results in the extraction of a single net from
two or more disjoint physical nets when the physical net segments share
the same name.</li>
<li>Virtual connectivity is triggered by the rule file <strong>VIRTUAL
CONNECT COLON</strong> and <strong>VIRTUAL CONNECT NAME</strong>
specification statements.</li>
<li>Virtual connectivity can also be specified through the Calibre
Interactive GUI.</li>
</ul>
<h3 id="virtual-connect-colon">VIRTUAL CONNECT COLON</h3>
<p><strong>Virtual Connect Colon</strong> is used to virtually connect
nets that <em>share a common prefix before a colon</em>, like
VDD<strong>:</strong>1, VDD<strong>:</strong>2, and so forth.</p>
<p>If you specify <em>YES</em>, then the connectivity extractor first
<em>strips off</em> all characters from the first colon to the end of
the label names.</p>
<p>Next, the extractor forms a virtual connection between any two labels
that have the same name and that <em>originally contained a
colon</em>.</p>
<p>Colons can appear anywhere in the name with the exception that a
colon at the beginning of a name is treated as a regular character (that
is, it has no special effect).</p>
<p><img
src="/2023/05/11/Virtual-Connectivity/image-20230511211343788.png"
alt="image-20230511211343788" /></p>
<blockquote>
<p><em>up to the first colon character</em> encountered</p>
<p>The <em>colon</em> is <strong>discarded</strong> in the extracted net
name</p>
</blockquote>
<p><img
src="/2023/05/11/Virtual-Connectivity/image-20230511211607588.png"
alt="image-20230511211607588" /></p>
<h3 id="virtual-connect-name">VIRTUAL CONNECT NAME</h3>
<p><strong>Virtual Connect Name</strong> virtually connects nets that
share the same name</p>
<p>Each name is a net name and can be optionally enclosed in quotes.</p>
<p>The connectivity extractor forms a virtual connection between any two
labels having the same name such that the label name appears in a
<strong>Virtual Connect Name</strong> specification statement in the
rule file.</p>
<p><img
src="/2023/05/11/Virtual-Connectivity/image-20230511211209469.png"
alt="image-20230511211209469" /></p>
<blockquote>
<p><code>VIRTUAL CONNECT NAME ?</code> == Connect all nets by name</p>
</blockquote>
<p>Note that if <strong>Virtual Connect Colon YES</strong> is also
specified, then <strong>Virtual Connect Name</strong> operates on names
<em>after all colon suffixes have been stripped off</em>.</p>
<p><img
src="/2023/05/11/Virtual-Connectivity/image-20230511211651448.png"
alt="image-20230511211651448" /></p>
<h3 id="reference">reference</h3>
<p>Calibre Fundamentals: Performing DRC/LVS Student Workbook</p>
<p>Calibre Verification User’s Manual Software Version 2019.3 Document
Revision 7</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/04/22/spectre-case/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Guo">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="KNOW-HOW">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | KNOW-HOW">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2023/04/22/spectre-case/" class="post-title-link" itemprop="url">DSPF Options</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2023-04-22 10:53:10" itemprop="dateCreated datePublished" datetime="2023-04-22T10:53:10+00:00">2023-04-22</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2024-09-09 17:18:24" itemprop="dateModified" datetime="2024-09-09T17:18:24+00:00">2024-09-09</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/cad/" itemprop="url" rel="index"><span itemprop="name">cad</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h3 id="case-sensitivity">Case Sensitivity</h3>
<table>
<thead>
<tr class="header">
<th><strong>netlist format</strong></th>
<th><strong>default option</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Spectre netlist</td>
<td><em>case sensitive</em></td>
</tr>
<tr class="even">
<td>dspf format</td>
<td><em>case insensitive</em></td>
</tr>
</tbody>
</table>
<blockquote>
<p>For a <strong>dspf format</strong>, it will be treated as a <em>spice
netlist format</em>, which is <em>by default case insensitive</em></p>
</blockquote>
<p>Pay attention to <em>VerilogIn</em> block, which may contain upper
case / lower case net name, e.g NET1 and net1.</p>
<p>The extracted DSPF using extraction tool also contain NET1 and net1,
which <strong>shall not</strong> be shorted together.</p>
<p><img src="/2023/04/22/spectre-case/image-20230422225227022.png"
alt="image-20230422225227022" /></p>
<h3 id="port-order">Port Order</h3>
<blockquote>
<p>If you use <code>.dspf_include</code>, the following rules apply:</p>
<ul>
<li>The subcircuit description is taken from the DSPF file even if the
same subcircuit description is available in the schematic netlist.</li>
<li>Depending on the <code>port_order</code> option, the port order of
the subcircuit definition is taken from the pre-layout schematic netlist
or from the DSPF file subcircuit definition, as shown below.
<ul>
<li><code>port_order=sch</code> – (Default). The port order is taken
from schematic subcircuit definition. The same port number and names are
required. If the schematic subcircuit definition is not available, a
warning is issued in the log file, and DSPF port order is used.</li>
<li><code>port_order=spf</code> – The port order is taken from the DSPF
subcircuit definition.</li>
</ul></li>
</ul>
</blockquote>
<p><strong>SPICE_SUBCKT_FILE</strong> of StarRC</p>
<p>The StarRC tool reads the files specified by the
<em>SPICE_SUBCKT_FILE</em> command to obtain <strong>port ordering
information</strong>. The files control the port ordering of the top
cell as well. The port order and the port list members read from the
<strong>.subckt</strong> for a skip cell are preserved in the output
netlist.</p>
<blockquote>
<p>The file usually is the <em>cdl netlist</em> of extracted cell, this
way, port order is not problem</p>
</blockquote>
<p><strong>CDF termOrder</strong></p>
<p><img src="/2023/04/22/spectre-case/image-20230423005204734.png"
alt="image-20230423005204734" /></p>
<h4 id="dspf-same-order">DSPF same order</h4>
<p><strong>DSPF</strong></p>
<p><img src="/2023/04/22/spectre-case/image-20230423005700599.png"
alt="image-20230423005700599" /></p>
<p><strong>input.scs</strong></p>
<p><img src="/2023/04/22/spectre-case/image-20230423005754571.png"
alt="image-20230423005754571" /></p>
<p><img src="/2023/04/22/spectre-case/image-20230423010050512.png"
alt="image-20230423010050512" /></p>
<h4 id="different-order">different order</h4>
<p>manual change DSPF's pin order shown as below</p>
<p><img src="/2023/04/22/spectre-case/image-20230423010229253.png"
alt="image-20230423010229253" /></p>
<h4 id="port_ordersch">port_order=sch</h4>
<p><em>dspf port is mapping to schematic by name</em>, and the
simulation result is right</p>
<p><img src="/2023/04/22/spectre-case/image-20230423011926424.png"
alt="image-20230423011926424" /></p>
<h5 id="port_orderspf">port_order=spf</h5>
<p>dspf pin order is retained, and <strong>no mapping</strong> between
spectre netlist and dspf.</p>
<p>The simulation result is wrong</p>
<p><img src="/2023/04/22/spectre-case/image-20230423012443314.png"
alt="image-20230423012443314" /></p>
<blockquote>
<p>bus_delim="_ &lt;&gt;"</p>
<p>The way this works is that the first part of <em>bus_delim</em> is
the "schematic" delimiter (i.e. what's in the spectre netlist), and the
other part is the DSPF delimiter</p>
</blockquote>
<h3 id="reference">reference</h3>
<p>Article (20502176) Title: How does Spectre understand case-sensitive
net names when using various post-layout netlists such as dspf,
av_extracted view, or smart view? URL: <a
target="_blank" rel="noopener" href="https://support.cadence.com/apex/ArticleAttachmentPortal?id=a1O3w000009fthoEAA">https://support.cadence.com/apex/ArticleAttachmentPortal?id=a1O3w000009fthoEAA</a></p>
<p>spf in cadence <a
target="_blank" rel="noopener" href="https://community.cadence.com/cadence_technology_forums/f/custom-ic-design/31326/spf-in-cadence/1342278#1342278">https://community.cadence.com/cadence_technology_forums/f/custom-ic-design/31326/spf-in-cadence/1342278#1342278</a></p>
<p>Spectre Tech Tips: Using DSPF Post-Layout Netlists in Spectre Circuit
Simulator - Analog/Custom Design - Cadence Blogs - Cadence Community <a
target="_blank" rel="noopener" href="https://shar.es/afO6e1">https://shar.es/afO6e1</a></p>
<p>StarRC™ User Guide and Command Reference Version O-2018.06, June
2018</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/04/16/RC-corner/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Guo">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="KNOW-HOW">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | KNOW-HOW">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2023/04/16/RC-corner/" class="post-title-link" itemprop="url">RC corner</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2023-04-16 10:33:42" itemprop="dateCreated datePublished" datetime="2023-04-16T10:33:42+00:00">2023-04-16</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2024-09-09 17:18:23" itemprop="dateModified" datetime="2024-09-09T17:18:23+00:00">2024-09-09</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/analog/" itemprop="url" rel="index"><span itemprop="name">analog</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h3 id="traditional-rc-corners">Traditional RC Corners</h3>
<p><img src="/2023/04/16/RC-corner/image-20230511232521956.png"
alt="image-20230511232521956" /></p>
<h3 id="dpt-effect">DPT effect</h3>
<p>When using two masks per layer (<strong>Double Patterning Technology,
DPT</strong>) there is an issue of mask alignment where any
mis-alignment will cause layer spacing values to change, therefore
changing the parasitic coupling capacitance values.</p>
<p><img src="/2023/04/16/RC-corner/img_5d04516986340.jpg" /></p>
<p><img src="/2023/04/16/RC-corner/img_5d04516a3ac8b.jpg" /></p>
<blockquote>
<p>Misalignment scale and direction are not deterministic facts:
coupling cap and total cap may be increased or decreased.</p>
</blockquote>
<p><em>Five new corners</em> are added in a <em>DPT</em> flow to account
for RC variations accurately:</p>
<p><img src="/2023/04/16/RC-corner/img_5d04516b03e69.jpg" /></p>
<blockquote>
<p>sapced-dependent side-wall dielectric constant also affect coupling
cap</p>
<p>and <em>CC_worst</em> means to increase both K1 and K2</p>
<p><em>CC_best</em> means to decrease both K1 and K2</p>
</blockquote>
<ul>
<li><p>Setup time sign-off would use:</p>
<p>Cworst_CCworst / RCworst_CCworst</p></li>
<li><p>Hold time sign-off would use:</p>
<p>Cbest_CCbest / RCbest_CCbest / Cworst_CCworst /
RCworst_CCworst</p></li>
</ul>
<p><img src="/2023/04/16/RC-corner/img_5d04516c76593.jpg" /></p>
<p><img src="/2023/04/16/RC-corner/image-20230416143108231.png"
alt="image-20230416143108231" /></p>
<h3 id="signoff-corner">Signoff corner</h3>
<table>
<thead>
<tr class="header">
<th><strong>with misalignment effect</strong></th>
<th>without misalignment effect</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>cworst_CCworst, cworst_CCworst_T</td>
<td>cworst, cworst_T</td>
</tr>
<tr class="even">
<td>cbest_CCbest, cbest_CCbest_T</td>
<td>cbest, cbest_T</td>
</tr>
<tr class="odd">
<td>rcworst_CCworst, rcworst_CCworst_T</td>
<td>rcworst, rcworst_T</td>
</tr>
<tr class="even">
<td>rcbest_CCbest, rcbest_CCbest_T</td>
<td>rcbest, rcbest_T</td>
</tr>
</tbody>
</table>
<blockquote>
<p>BEOL Target: typical</p>
</blockquote>
<p>The recommended RC corner:</p>
<p>​ <em>cworst_CCworst, cbest_CCbest, rcworst_CCworst, rcbest_CCbest
and typical</em></p>
<p>The others are for <em>pre-color</em> RC calculation purpose</p>
<p>**_T** stands for <strong>"Tighten DPT corner"</strong>; these are
less pessimistic <strong>1.5 sigma</strong> corners</p>
<p><img src="/2023/04/16/RC-corner/image-20230513001426737.png"
alt="image-20230513001426737" /></p>
<p><img src="/2023/04/16/RC-corner/tmp_fohu0q4.PNG"
alt="tmp_fohu0q4" /></p>
<blockquote>
<p>Below table is caputre of Aragio's TSMC16: LVDS datasheet</p>
<p><img src="/2023/04/16/RC-corner/image-20230416130433181.png"
alt="image-20230416130433181" /></p>
</blockquote>
<h3 id="beol-corner">BEOL corner</h3>
<p><img src="/2023/04/16/RC-corner/image-20230416160822811.png"
alt="image-20230416144136870" /></p>
<blockquote>
<p>Spacing variation is implicitly defined by <span
class="math inline">\(\Delta W_m\)</span>.</p>
</blockquote>
<p>We denote the conductor <em>width and thickness</em> of the layer m
by <span class="math inline">\(W_m\)</span> and <span
class="math inline">\(T_m\)</span>, respectively.</p>
<p>Similarly, we denote the <em>thickness</em> of the layer's interlayer
dielectric (i.e., the distance between layer m and layer m +1) by <span
class="math inline">\(H_m\)</span></p>
<ul>
<li>C-based means <strong>worst and best caps</strong></li>
<li>RC-based means <strong>worst and best R</strong> in <em>adjustment
with C</em> (RC product)</li>
</ul>
<p>Based on experience, it was found that <strong>C-based
extraction</strong> provides worst and best case over RC for internal
timing paths because <em>Capacitance</em> dominates <strong>short
wire</strong>.</p>
<p>However, for large design, inter-block timing paths were often worst
with <strong>RC worst</strong> parasitic since <em>R</em> dominates for
<strong>long wires</strong>.</p>
<p><img src="/2023/04/16/RC-corner/image-20230416155654008.png"
alt="image-20230416155654008" /></p>
<h4 id="signoff-corners-for-setup-and-hold">signoff corners for setup
and hold</h4>
<p><img src="/2023/04/16/RC-corner/tmpwlgwrlq0.PNG"
alt="tmpwlgwrlq0" /></p>
<h3 id="reference">reference</h3>
<p>Modeling Sub-90nm On-Chip Variation Using Monte Carlo Method for DFM
<a
target="_blank" rel="noopener" href="https://www.aspdac.com/aspdac2007/pdf/archive/2D-1.pdf">https://www.aspdac.com/aspdac2007/pdf/archive/2D-1.pdf</a></p>
<p>Double Patterning for IC Design, Extraction and Signoff <a
target="_blank" rel="noopener" href="https://semiwiki.com/eda/synopsys/1974-double-patterning-for-ic-design-extraction-and-signoff/">https://semiwiki.com/eda/synopsys/1974-double-patterning-for-ic-design-extraction-and-signoff/</a></p>
<p>抽刀断水水更流，RC Corner不再愁：STA之RC Corner URL: <a
target="_blank" rel="noopener" href="http://mp.weixin.qq.com/s?__biz=MzUzODczODg2NQ==&amp;mid=2247484115&amp;idx=1&amp;sn=de99f27aadf58ea316c284dad9000b7c&amp;chksm=fad26b0dcda5e21b8c9750f738b55053f695843a66c3c202ff0ba586c738f45aa270254c3722&amp;scene=21#wechat_redirect">http://mp.weixin.qq.com/s?__biz=MzUzODczODg2NQ==&amp;mid=2247484115&amp;idx=1&amp;sn=de99f27aadf58ea316c284dad9000b7c&amp;chksm=fad26b0dcda5e21b8c9750f738b55053f695843a66c3c202ff0ba586c738f45aa270254c3722&amp;scene=21#wechat_redirect</a></p>
<p>一曲新词酒一杯，RC Corner继续飞: STA之RC Corner拾遗 URL:<a
target="_blank" rel="noopener" href="https://mp.weixin.qq.com/s?__biz=MzUzODczODg2NQ==&amp;mid=2247484135&amp;idx=2&amp;sn=bddc632850bd10c32b5688fd7af46218&amp;chksm=fad26b39cda5e22f1c3970f8c8c2e1287c9492c526c4caf02b61f61faffdf829381c392d6ea1&amp;scene=21#wechat_redirect">https://mp.weixin.qq.com/s?__biz=MzUzODczODg2NQ==&amp;mid=2247484135&amp;idx=2&amp;sn=bddc632850bd10c32b5688fd7af46218&amp;chksm=fad26b39cda5e22f1c3970f8c8c2e1287c9492c526c4caf02b61f61faffdf829381c392d6ea1&amp;scene=21#wechat_redirect</a></p>
<p>且将新火试新茶，深究趁年华：STA之RC Corner再论 URL:<a
target="_blank" rel="noopener" href="https://mp.weixin.qq.com/s?__biz=MzUzODczODg2NQ==&amp;mid=2247484144&amp;idx=1&amp;sn=059843381e77cd4008d25166db388d02&amp;chksm=fad26b2ecda5e23816b33b3a949f34d4ca09118bad76f1089dfcb228b7da6491f423a5f4e703&amp;cur_album_id=1326356275000705025&amp;scene=189#wechat_redirect">https://mp.weixin.qq.com/s?__biz=MzUzODczODg2NQ==&amp;mid=2247484144&amp;idx=1&amp;sn=059843381e77cd4008d25166db388d02&amp;chksm=fad26b2ecda5e23816b33b3a949f34d4ca09118bad76f1089dfcb228b7da6491f423a5f4e703&amp;cur_album_id=1326356275000705025&amp;scene=189#wechat_redirect</a></p>
<p>LDP_IN_800_25V_DN: 1.2GHz LVDS Receiver <a
target="_blank" rel="noopener" href="http://aragiosolutions.com/pdf/rgo_tsmc16_18v25_lvds_product_brief_rev_1a.pdf">http://aragiosolutions.com/pdf/rgo_tsmc16_18v25_lvds_product_brief_rev_1a.pdf</a></p>
<p>Parasitic extraction technologies Advanced node and 3D-IC design <a
target="_blank" rel="noopener" href="https://static.sw.cdn.siemens.com/siemens-disw-assets/public/81845/en-US/Siemens-SW-Parasitic-extraction-technologies-for-advanced-WP-81845-C2.pdf">https://static.sw.cdn.siemens.com/siemens-disw-assets/public/81845/en-US/Siemens-SW-Parasitic-extraction-technologies-for-advanced-WP-81845-C2.pdf</a></p>
<p>New Game, New Goal Posts: A Recent History of Timing Closure <a
target="_blank" rel="noopener" href="https://pdfs.semanticscholar.org/9360/5ce48f9bd3b7527ae8979f41a9c7e310efa4.pdf">https://pdfs.semanticscholar.org/9360/5ce48f9bd3b7527ae8979f41a9c7e310efa4.pdf</a></p>
<p>The Evolution, Pitfalls, and Cargo Cult Engineering of Advanced
Digital Timing Sign-off <a
target="_blank" rel="noopener" href="https://www.tauworkshop.com/2021/speaker_slides/christian_l.pdf">https://www.tauworkshop.com/2021/speaker_slides/christian_l.pdf</a></p>
<p>T. -B. Chan, S. Dobre and A. B. Kahng, "Improved signoff methodology
with tightened BEOL corners," 2014 IEEE 32nd International Conference on
Computer Design (ICCD), Seoul, Korea (South), 2014, pp. 311-316, doi:
10.1109/ICCD.2014.6974699.</p>
<p>Chan, T. (2014). Mitigation of Variability and Reliability Margins in
IC Implementation /. <em>UC San Diego</em>. ProQuest ID:
Chan_ucsd_0033D_14269. Merritt ID: ark:/20775/bb52916761. Retrieved from
<a
target="_blank" rel="noopener" href="https://escholarship.org/uc/item/35r1m001">https://escholarship.org/uc/item/35r1m001</a></p>
<p>Dr. Adam Temanm, Digital VLSI Design:Lecture 10: Routing <a
target="_blank" rel="noopener" href="https://www.eng.biu.ac.il/temanad/files/2017/02/Lecture-10-Routing.pdf">https://www.eng.biu.ac.il/temanad/files/2017/02/Lecture-10-Routing.pdf</a></p>
<p>Article (20487193) Title: Setting Pegasus - LVS to Quantus
av_extracted view Flow with TSMC16 packages URL:
https://support.cadence.com/apex/ArticleAttachmentPortal?id=a1O0V000009MprZUAS</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




  <nav class="pagination">
    <a class="extend prev" rel="prev" title="Previous page" aria-label="Previous page" href="/page/4/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/4/">4</a><span class="page-number current">5</span><a class="page-number" href="/page/6/">6</a><span class="space">&hellip;</span><a class="page-number" href="/page/17/">17</a><a class="extend next" rel="next" title="Next page" aria-label="Next page" href="/page/6/"><i class="fa fa-angle-right"></i></a>
  </nav>

</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">

  <div class="copyright">
    &copy; 
    <span itemprop="copyrightYear">2024</span>
    <span class="with-love">
      <i class="fa fa-heart"></i>
    </span>
    <span class="author" itemprop="copyrightHolder">Guo</span>
  </div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/" rel="noopener" target="_blank">NexT.Gemini</a>
  </div>

    </div>
  </footer>

  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>
  <div class="sidebar-dimmer"></div>
  <div class="back-to-top" role="button" aria-label="Back to top">
    <i class="fa fa-arrow-up fa-lg"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


  
  <script src="https://cdn.jsdelivr.net/npm/animejs@3.2.1/lib/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/sidebar.js"></script><script src="/js/next-boot.js"></script>

  <script src="https://cdn.jsdelivr.net/npm/hexo-generator-searchdb@1.4.1/dist/search.js" integrity="sha256-1kfA5uHPf65M5cphT2dvymhkuyHPQp5A53EGZOnOLmc=" crossorigin="anonymous"></script>
<script src="/js/third-party/search/local-search.js"></script>

  <script class="next-config" data-name="pdf" type="application/json">{"object_url":{"url":"https://cdn.jsdelivr.net/npm/pdfobject@2.3.0/pdfobject.min.js","integrity":"sha256-JJZNsid68vnh3/zyj0lY9BN5ynxVX/12XgOa1TlaYN0="},"url":"/lib/pdf/web/viewer.html"}</script>
  <script src="/js/third-party/tags/pdf.js"></script>






  




  

  <script class="next-config" data-name="enableMath" type="application/json">true</script><script class="next-config" data-name="mathjax" type="application/json">{"enable":true,"tags":"none","js":{"url":"https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.js","integrity":"sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI="}}</script>
<script src="/js/third-party/math/mathjax.js"></script>



</body>
</html>
