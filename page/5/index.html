<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222"><meta name="generator" content="Hexo 7.1.1">

  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.5.2/css/all.min.css" integrity="sha256-XOqroi11tY4EFQMR9ZYwZWKj5ZXiftSx36RRuC3anlA=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"example.com","root":"/","images":"/images","scheme":"Gemini","darkmode":false,"version":"8.20.0","exturl":false,"sidebar":{"position":"left","width_expanded":320,"width_dual_column":240,"display":"post","padding":18,"offset":12},"copycode":{"enable":true,"style":null},"fold":{"enable":false,"height":500},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":false,"async":false,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"},"path":"/search.xml","localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false}}</script><script src="/js/config.js"></script>

    <meta property="og:type" content="website">
<meta property="og:title" content="KNOW-HOW">
<meta property="og:url" content="http://example.com/page/5/index.html">
<meta property="og:site_name" content="KNOW-HOW">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="Guo">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="http://example.com/page/5/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":true,"isPost":false,"lang":"en","comments":"","permalink":"","path":"page/5/index.html","title":""}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>KNOW-HOW</title>
  








  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">KNOW-HOW</h1>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="Search" role="button">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>About</a></li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>Search
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup"><div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off" maxlength="80"
           placeholder="Searching..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close" role="button">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div class="search-result-container no-result">
  <div class="search-result-icon">
    <i class="fa fa-spinner fa-pulse fa-5x"></i>
  </div>
</div>

    </div>
  </div>

</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-overview-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Guo</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">168</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">8</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">1</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author animated">
      <span class="links-of-author-item">
        <a href="https://github.com/raytroop" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;raytroop" rel="noopener me" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:raytroop@gmail.com" title="E-Mail → mailto:raytroop@gmail.com" rel="noopener me" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
  </div>

        </div>
      </div>
    </div>

    
  </aside>


    </div>

    <div class="main-inner index posts-expand">

    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/05/27/dtft-dft/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Guo">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="KNOW-HOW">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | KNOW-HOW">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2023/05/27/dtft-dft/" class="post-title-link" itemprop="url">DTFT & DFT</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2023-05-27 10:59:52" itemprop="dateCreated datePublished" datetime="2023-05-27T10:59:52+00:00">2023-05-27</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2024-05-20 14:58:16" itemprop="dateModified" datetime="2024-05-20T14:58:16+00:00">2024-05-20</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/dsp/" itemprop="url" rel="index"><span itemprop="name">dsp</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="sampling-theorem">sampling theorem</h2>
<h3 id="time-sampling-theorem">time-sampling theorem</h3>
<p><img src="/2023/05/27/dtft-dft/image-20230527154334304.png"
alt="image-20230527154334304" /></p>
<p>The spectrum <span
class="math inline">\(\overline{X}(\omega)\)</span> consists of <span
class="math inline">\(X(\omega)\)</span> repeating periodically with
period <span class="math inline">\(\omega _s = 2\pi/T\)</span> rad/s, or
<span class="math inline">\(f_s = 1/T\)</span> Hz <span
class="math display">\[
\overline{X}(\omega) = \frac{1}{T}\sum_{n=-\infty}^{\infty}X(\omega -
n\omega _s)
\]</span></p>
<h3 id="spectral-sampling-theorem">spectral-sampling theorem</h3>
<p><img src="/2023/05/27/dtft-dft/image-20230527155436179.png"
alt="image-20230527155436179" /></p>
<p>The Fourier transform <span class="math inline">\(X(\omega)\)</span>
of a <strong>timelimited</strong> signal <span
class="math inline">\(x(t)\)</span> is given by <span
class="math display">\[
X(\omega)=\int_{-\infty}^{\infty}x(t)e^{-j\omega t}dt =
\int_0^{\tau}x(t)e^{-j\omega t}dt
\]</span> <span class="math inline">\(x_{T_0}(t)\)</span>, a
<strong>periodic</strong> signal formed by repeating <span
class="math inline">\(x(t)\)</span> every <span
class="math inline">\(T_0\)</span> seconds (<span
class="math inline">\(T_0 \gt \tau\)</span>), which can be expressed by
the exponential Fourier series <span class="math display">\[
x_{T_0}(t) = \sum_{-\infty}^{\infty}D_ne^{jn\omega _0t}
\]</span> where <span class="math inline">\(\omega_0 =
\frac{2\pi}{T_0}\)</span></p>
<p>And <span class="math inline">\(D_n\)</span> can be obtained by
(assuming <span class="math inline">\(T_0 \gt \tau\)</span>) <span
class="math display">\[
D_n = \frac{1}{T_0}\int_0^{T_0}x(t)e^{-jn\omega _0 t}dt =
\frac{1}{T_0}\int_0^{\tau}x(t)e^{-jn\omega _0 t}dt
\]</span> Then it follows that <span class="math display">\[
D_n = \frac{1}{T_0}X(n\omega _0)
\]</span> This result indicates that the <em>coefficients of the Fourier
series</em> for <span class="math inline">\(x_{T_0}(t)\)</span> are
<span class="math inline">\((1/T_0)\)</span> times the <em>sample values
of the spectrum</em> <span class="math inline">\(X(\omega)\)</span>
taken at intervals of <span class="math inline">\(\omega
_0\)</span>.</p>
<h4 id="spectral-interpolation">spectral interpolation</h4>
<p>Consider a signal <em>timelimited</em> to <span
class="math inline">\(\tau\)</span> seconds and <em>centered at</em>
<span class="math inline">\(T_c\)</span>. The spectrum <span
class="math inline">\(X(\omega)\)</span> of <span
class="math inline">\(x(t)\)</span> can be reconstructed from the
samples of <span class="math inline">\(X(\omega)\)</span> and the
<strong>spectral interpolation formula</strong> is obtained as <span
class="math display">\[
X(\omega) = \sum_{-\infty}^{\infty}X(n\omega _0)
\text{sinc}\left(\frac{\omega T_0}{2}-n\pi\right)e^{-j(\omega - n\omega
_0)T_c}
\]</span> step by step:</p>
<ol type="1">
<li><p>The Fourier transform of <span
class="math inline">\(x_{T_0}(t)\)</span> is <span
class="math display">\[
2\pi\sum_n D_n \delta(\omega - n\omega_0) = \frac{2\pi}{T_0}\sum_n
X(n\omega_0) \delta(\omega - n\omega_0)
\]</span></p></li>
<li><p>The Fourier transform of rectangular pulse <span
class="math inline">\(\text{rect}((t-T_c)/T_0)\)</span> centered at
<span class="math inline">\(T_c\)</span> and duration <span
class="math inline">\(T_0\)</span> <span class="math display">\[
T_0 \text{sinc}(\omega T_0/2)e^{-j\omega T_c}
\]</span></p></li>
<li><p>Hence, <span class="math inline">\(X(\omega)\)</span> is <span
class="math inline">\(1/2\pi\)</span> times the <em>convolution</em> of
these two Fourier</p></li>
</ol>
<h2 id="numerical-computation-of-the-fourier-transform">Numerical
Computation of The Fourier Transform</h2>
<h3 id="finite-length-signal-periodic-signal">Finite-length signal &amp;
periodic signal</h3>
<p><img src="/2023/05/27/dtft-dft/image-20230528112723460.png"
alt="image-20230528112723460" /></p>
<blockquote>
<p><span class="math display">\[
x[n] = \left\{ \begin{array}{cl}
\tilde{x}[n] &amp; : \ 0 \leq n \leq N-1 \\
0 &amp; : \text{otherwise}
\end{array} \right.
\]</span></p>
</blockquote>
<p>Consider a finite-length signal <span
class="math inline">\(x[n]\)</span> such that <span
class="math inline">\(x[n] = 0\)</span> except in the interval <span
class="math inline">\(0 \leq n \leq N − 1\)</span>, and consider the
convolution of <span class="math inline">\(x[n]\)</span> with the
periodic impulse train <span
class="math inline">\(\tilde{p}[n]\)</span>: <span
class="math display">\[
\tilde{x}[n] = x[n]*\tilde{p}[n] = x[n]*
\sum_{r=-\infty}^{\infty}\delta[n-rN] = \sum_{r=-\infty}^{\infty}x[n-rN]
\]</span> Thanks to Fourier Transform <em>convolution property</em>, the
DTFT of <span class="math inline">\(\tilde{x}[n]\)</span> is
obtained</p>
<p><span class="math display">\[\begin{align}
\tilde{X}(e^{j\omega}) &amp;= X(e^{j\omega}) \tilde{P}(e^{j\omega})\\
&amp;= X(e^{j\omega})
\sum_{k=-\infty}^{\infty}\frac{2\pi}{N}\delta\left(\omega - \frac{2\pi
k}{N}\right) \\
&amp; =
\sum_{k=-\infty}^{\infty}\frac{2\pi}{N}X(e^{j(2\pi/N)k})\delta\left(\omega
- \frac{2\pi k}{N}\right)
\end{align}\]</span></p>
<p>⭐ we conclude the DFS coefficients of <span
class="math inline">\(\tilde{x}[n]\)</span> is <span
class="math display">\[
\tilde{X}[k] = X(e^{j\omega})|_{\omega=2\pi k/N}
\]</span> where <span class="math inline">\(\tilde{X}[k]\)</span> is
<strong>DFS coefficients</strong> of <span
class="math inline">\(\tilde{X}[k]\)</span>;</p>
<p><span class="math inline">\(X(e^{j\omega})|_{\omega=2\pi
k/N}\)</span> is samples of the <strong>DTFT</strong> of the
<em>finite-length sequence</em> <span
class="math inline">\(x[n]\)</span></p>
<h3 id="sampling-the-fourier-transform">sampling the Fourier
transform</h3>
<p>Assuming an <em>aperiodic sequence</em> with Fourier transform <span
class="math inline">\(X(e^{j\omega})\)</span>, the <strong>sequences of
samples</strong> <span class="math inline">\(\tilde{X}[k] =
X(e^{j\omega})|_{\omega=2\pi k/N}\)</span> being periodic with period
<span class="math inline">\(N\)</span> could be the <strong>sequence of
<em>DFS</em> coefficients</strong> of sequence <span
class="math inline">\(\tilde{x}[n]\)</span></p>
<p>⭐To obtain <span class="math inline">\(\tilde{x}[n]\)</span>,
substitute <span class="math inline">\(\tilde{X}[k]\)</span> into DFS
synthesis equation <span class="math display">\[
\tilde{x}[n] =x[n]*\sum_{r=-\infty}^{\infty}\delta[n-rN] =
\sum_{r=-\infty}^{\infty}x[n-rN]
\]</span> Thus, the periodic sequence <span
class="math inline">\(\tilde{x}[n]\)</span>, corresponding to <span
class="math inline">\(\tilde{X}[k]\)</span> obtained by sampling <span
class="math inline">\(X(e^{j\omega})\)</span>, is formed from <span
class="math inline">\(x[n]\)</span> by <em>adding together an infinite
number of shifted replicas of <span
class="math inline">\(x[n]\)</span></em>.</p>
<h3 id="discrete-fourier-transform-dft">Discrete Fourier Transform
(DFT)</h3>
<blockquote>
<p>When the <strong>Fourier series</strong> is used in this way to
represent <em>finite-length sequences</em>, it is called the discrete
Fourier transform or <strong>DFT</strong></p>
<p>In developing, discussing, and applying the DFT, it is always
important to remember that the representation through <em>samples of the
Fourier transform</em> is in effect <em>a representation of the
finite-duration sequence by a periodic sequence</em>, <strong>one period
of which is the finite duration sequence that we wish to
represent</strong></p>
</blockquote>
<ul>
<li><p>Considering a <em>finite-length</em> sequence <span
class="math inline">\(x[n]\)</span> of length <span
class="math inline">\(N\)</span> samples such that <span
class="math inline">\(x[n]=0\)</span> outside the range <span
class="math inline">\(0\leq n \leq N-1\)</span>.</p>
<p>To each finite-length sequence of length <span
class="math inline">\(N\)</span>, we can always associate a periodic
sequence <span class="math inline">\(\tilde{x}[n]\)</span></p>
<p><span class="math inline">\(\tilde{x}[n] =
\sum_{r=-\infty}^{\infty}x[n-rN]\)</span></p></li>
<li><p>Since <span class="math inline">\(x[n]\)</span> is assumed to
have finite length <span class="math inline">\(N\)</span>, there is
<em>no overlap</em> between the terms <span class="math inline">\(x[n −
rN]\)</span> for different values of <span
class="math inline">\(r\)</span>.</p>
<p><span class="math inline">\(\tilde{x}[n] = x[(n \; \text{modulo}\;
N)]\)</span></p></li>
</ul>
<p>As discussed the sequence of <em>DFS coefficients</em> <span
class="math inline">\(\tilde{X}[k]\)</span> of <em>the periodic
sequence</em> <span class="math inline">\(\tilde{x}[n]\)</span> is
itself a periodic sequence with <em>period</em> <span
class="math inline">\(N\)</span>.</p>
<p>To maintain a duality between the time and frequency domains, This
finite-duration sequence, <span class="math inline">\(X [k]\)</span>,
one period of <span class="math inline">\(\tilde{X}[k]\)</span> will be
referred to as the <strong>DFT</strong> <span class="math display">\[
X[k] = \left\{ \begin{array}{cl}
\tilde{X}[k] &amp; : \ 0 \leq k \leq N-1 \\
0 &amp; : \ \text{otherwise}
\end{array} \right.
\]</span> and <span class="math display">\[
\tilde{X}[k] = X[(k \; \text{modulo}\; N)]
\]</span> <span class="math inline">\(\tilde{X}[k]\)</span> and <span
class="math inline">\(\tilde{x}[n]\)</span> are related by</p>
<p><span class="math display">\[\begin{align}
\tilde{X}[k] &amp;= \sum_{n=0}^{N-1}\tilde{x}[n]W_N^{kn} \\
\tilde{x}[n] &amp;=\frac{1}{N} \sum_{k=0}^{N-1}\tilde{X}[k]W_N^{-kn}
\end{align}\]</span></p>
<p>where <span class="math inline">\(W_N = e^{-j(2\pi/N)}\)</span></p>
<p>DFT analysis and synthesis equations , <span
class="math inline">\(X[k]\)</span> and <span
class="math inline">\(x[n]\)</span> are related by</p>
<p>⭐ Analysis equation: <span class="math display">\[
X[k] = \left\{ \begin{array}{cl}
\sum_{n=0}^{N-1}x[n]W_N^{kn} &amp; : \ 0 \leq k \leq N-1 \\
0 &amp; : \ \text{otherwise}
\end{array} \right.
\]</span> ⭐ Synthesis equation: <span class="math display">\[
x[n] = \left\{ \begin{array}{cl}
\frac{1}{N} \sum_{k=0}^{N-1}X[k]W_N^{-kn} &amp; : \ 0 \leq n \leq N-1 \\
0 &amp; : \ \text{otherwise}
\end{array} \right.
\]</span></p>
<blockquote>
<p>That is, the fact that <span class="math inline">\(X[k]=0\)</span>
for <span class="math inline">\(k\)</span> outside the interval <span
class="math inline">\(0 \leq k \leq N −1\)</span> and that <span
class="math inline">\(x[n] = 0\)</span> for <span
class="math inline">\(n\)</span> outside the interval <span
class="math inline">\(0 \leq n \leq N − 1\)</span> is implied, but not
always stated explicitly.</p>
</blockquote>
<blockquote>
<p>The inherent periodicity is always present. Sometimes, it causes us
difficulty, and sometimes we can exploit it, but to totally ignore it is
to invite trouble.</p>
<p>In defining the DFT representation,</p>
<ul>
<li>we are simply recognizing that we are interested in values of <span
class="math inline">\(x[n]\)</span> only in the interval <span
class="math inline">\(0 \leq n \leq N-1\)</span>, because <span
class="math inline">\(x[n]\)</span> is really zero outside that
interval,</li>
<li>and we are interested in values of <span
class="math inline">\(X[k]\)</span> only in the interval <span
class="math inline">\(0 \leq k \leq N-1\)</span> because these are the
only values needed to reconstruct <span
class="math inline">\(x[n]\)</span></li>
</ul>
</blockquote>
<h3 id="multiplication-property-modulation-property">Multiplication
Property (Modulation Property)</h3>
<p><span class="math display">\[
x_1(t)x_2(t)\overset{FT}{\longrightarrow}\frac{1}{2\pi}X_1(\omega)*X_2(\omega)
\]</span></p>
<p>Then sampled signal fourier transform is <span
class="math display">\[\begin{align}
X_s(\omega) &amp;= \frac{1}{2\pi}X_{\delta}(\omega)*X(\omega) \\
&amp;= \frac{1}{T} \left(\sum_{k\in \mathbb{Z}}\delta(\omega -
k\frac{2\pi}{T})\right) * X(\omega)
\end{align}\]</span></p>
<p><a
target="_blank" rel="noopener" href="https://web.stanford.edu/class/ee179/lectures/notes11.pdf">Lecture
11: Sampling and Pulse Modulation</a></p>
<p><img src="/2023/05/27/dtft-dft/image-20220520221108500.png"
alt="image-20220520221108500" /></p>
<h3 id="multiplication-property-convolution-property">multiplication
property &amp; convolution property</h3>
<p>Because a digital computer can work only with <em>discrete data</em>
(sequence of numbers), moreover, it can compute <span
class="math inline">\(X(\omega)\)</span> only at some <em>discrete
values</em> of <span class="math inline">\(\omega\)</span> (samples of
<span class="math inline">\(X(\omega)\)</span>).</p>
<p><img src="/2023/05/27/dtft-dft/image-20230527181614818.png"
alt="image-20230527181614818" /></p>
<ul>
<li><p><strong>{ (a), (b) } -&gt; { (c), (d) }</strong>:</p>
<p>with CT multiplication property, <span
class="math inline">\(X(\omega) = T
\overline{X}(\omega)\)</span></p></li>
<li><p><strong>{ (c), (d) } -&gt; { (e), (f) }</strong>:</p>
<p>with DT convolution property, <span class="math inline">\(X_N(\omega)
= \frac{2\pi}{N}\overline{X}(\omega)\)</span></p></li>
<li><p>Assuming <span class="math inline">\(x_{T0}(t)
=\sum_{r=-\infty}^{\infty}x(t-rT_0)\)</span>, formed by adding together
an infinite number of shifted replicas of <span
class="math inline">\(x(t)\)</span>: with CT convolution property, <span
class="math inline">\(X_{T0}(\omega)=X(\omega)\frac{2\pi}{T_0}=\overline{X}(\omega)\frac{2\pi
T}{T_0}\)</span> which is <span
class="math inline">\(X_{T0}(\omega)=\frac{2\pi}{N}\overline{X}(\omega)\)</span></p></li>
</ul>
<p><span class="math inline">\(X_N(\omega) = X_{T0}(\omega)\)</span>
indicates that finite-length discrete-time sequence provide Fourier
Transform of continuous-time periodic signal</p>
<p>⭐when a signal <span class="math inline">\(x(t)\)</span> is sampled
and then periodically repeated, the corresponding spectrum is also
sampled and periodically repeated</p>
<h2 id="zero-padding">zero-padding</h2>
<h3 id="the-number-of-zero-padding">The number of zero-padding</h3>
<p>When you tack on a bunch of zeros to a sequence and then compute the
<em>DFT</em>, you're just getting <strong>more and more samples</strong>
of the <em>DTFT</em> of the original sequence.</p>
<p>Let's look at a simple rectangular pulse, <span
class="math inline">\(x[n]=1\)</span> for <span class="math inline">\(0
\leq n \lt M\)</span>. The DTFT of <span
class="math inline">\(x[n]\)</span> is: <span class="math display">\[
X(\omega) = \frac{\sin(\omega M/2)}{\sin(\omega/2)} e^{-j \omega
(M-1)/2}
\]</span> Let's plot <span class="math inline">\(|X(\omega)|\)</span>
for <span class="math inline">\(M=8\)</span> over a couple of
periods:</p>
<p><img src="/2023/05/27/dtft-dft/image-20230527210507334.png"
alt="image-20230527210507334" /></p>
<p>Here's the <em>P</em>-point DFT of our 8-point rectangular pulse:</p>
<ul>
<li><p>8-point DFT</p>
<p><img src="/2023/05/27/dtft-dft/image-20230526231448884.png"
alt="image-20230526231448884" /></p></li>
<li><p>16-point DFT</p>
<p><img src="/2023/05/27/dtft-dft/image-20230526231531076.png"
alt="image-20230526231531076" /></p></li>
<li><p>32-point DFT</p>
<p><img src="/2023/05/27/dtft-dft/image-20230526231633067.png"
alt="image-20230526231633067" /></p></li>
</ul>
<figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line">clc;</span><br><span class="line">clear all;</span><br><span class="line"></span><br><span class="line">M = <span class="number">8</span>;</span><br><span class="line">w = <span class="built_in">linspace</span>(<span class="number">-2</span>*<span class="built_in">pi</span>, <span class="number">2</span>*<span class="built_in">pi</span>, <span class="number">800</span>);</span><br><span class="line">X_dtft = (<span class="built_in">sin</span>(w*M/<span class="number">2</span>) ./ <span class="built_in">sin</span>(w/<span class="number">2</span>)) .* <span class="built_in">exp</span>(<span class="number">-1</span><span class="built_in">j</span> * w * (M<span class="number">-1</span>) / <span class="number">2</span>);</span><br><span class="line"><span class="built_in">figure</span>(<span class="number">1</span>)</span><br><span class="line"><span class="built_in">plot</span>(w, <span class="built_in">abs</span>(X_dtft))</span><br><span class="line">title(<span class="string">&#x27;DTFT (|X(\omega)|)&#x27;</span>)</span><br><span class="line"></span><br><span class="line">x = <span class="built_in">ones</span>(<span class="number">1</span>, M);</span><br><span class="line"></span><br><span class="line"><span class="comment">% P = 8</span></span><br><span class="line">P = <span class="number">8</span>;</span><br><span class="line">X_8pt = fft(x, P);</span><br><span class="line">w_k_8pt = (<span class="number">0</span>:P<span class="number">-1</span>) * (<span class="number">2</span>*<span class="built_in">pi</span>/P);</span><br><span class="line"></span><br><span class="line"><span class="comment">% 16-point dft</span></span><br><span class="line">P = <span class="number">16</span>;</span><br><span class="line">X_16pt = fft(x, P); <span class="comment">% pad 8 point</span></span><br><span class="line">w_k_16pt = (<span class="number">0</span>:P<span class="number">-1</span>) * (<span class="number">2</span>*<span class="built_in">pi</span>/P);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">% 32-point dft</span></span><br><span class="line">P = <span class="number">32</span>;</span><br><span class="line">X_32pt = fft(x, P); <span class="comment">% pad 24 point</span></span><br><span class="line">w_k_32pt = (<span class="number">0</span>:P<span class="number">-1</span>) * (<span class="number">2</span>*<span class="built_in">pi</span>/P);</span><br><span class="line"></span><br><span class="line"><span class="built_in">figure</span>(<span class="number">2</span>)</span><br><span class="line"><span class="built_in">plot</span>(w, <span class="built_in">abs</span>(X_dtft))</span><br><span class="line"><span class="built_in">hold</span> on</span><br><span class="line"><span class="built_in">plot</span>(w_k_8pt, <span class="built_in">abs</span>(X_8pt), <span class="string">&#x27;o&#x27;</span>)</span><br><span class="line"><span class="built_in">hold</span> off</span><br><span class="line"><span class="built_in">legend</span>(<span class="string">&#x27;dtft&#x27;</span>, <span class="string">&#x27;8-point dft&#x27;</span>)</span><br><span class="line">title(<span class="string">&#x27;8-point dft (without zero-padding)&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">figure</span>(<span class="number">3</span>)</span><br><span class="line"><span class="built_in">plot</span>(w, <span class="built_in">abs</span>(X_dtft))</span><br><span class="line"><span class="built_in">hold</span> on</span><br><span class="line"><span class="built_in">plot</span>(w_k_16pt, <span class="built_in">abs</span>(X_16pt), <span class="string">&#x27;o&#x27;</span>)</span><br><span class="line"><span class="built_in">hold</span> off</span><br><span class="line"><span class="built_in">legend</span>(<span class="string">&#x27;dtft&#x27;</span>, <span class="string">&#x27;16-point dft with 8 point zero-padding&#x27;</span>)</span><br><span class="line">title(<span class="string">&#x27;16-point dft&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">figure</span>(<span class="number">4</span>)</span><br><span class="line"><span class="built_in">plot</span>(w, <span class="built_in">abs</span>(X_dtft))</span><br><span class="line"><span class="built_in">hold</span> on</span><br><span class="line"><span class="built_in">plot</span>(w_k_32pt, <span class="built_in">abs</span>(X_32pt), <span class="string">&#x27;o&#x27;</span>)</span><br><span class="line"><span class="built_in">hold</span> off</span><br><span class="line"><span class="built_in">legend</span>(<span class="string">&#x27;dtft&#x27;</span>, <span class="string">&#x27;32-point dft&#x27;</span>)</span><br><span class="line">title(<span class="string">&#x27;32-point dft with 24 point zero-padding&#x27;</span>)</span><br></pre></td></tr></table></figure>
<p><strong>Zero padding does not improve accuracy or
resolution.</strong></p>
<ul>
<li><p>Zero padding only allows us to look at more samples of that
imperfect reality. It can never reduce the imperfection which caused by
<strong>aliasing</strong>.</p></li>
<li><p>The only way to obtain the detailed signal spectrum with a fine
frequency resolution is to apply more available data samples, that is, a
longer sequence of data.</p></li>
</ul>
<p><img src="/2023/05/27/dtft-dft/image-20230529232357283.png"
alt="image-20230529232357283" /></p>
<p><img src="/2023/05/27/dtft-dft/image-20230529232704566.png"
alt="image-20230529232704566" /></p>
<h3 id="prepend-vs-postpend-vs-both">prepend vs postpend vs both</h3>
<p><em>TODO</em> 📅</p>
<h2 id="reference">reference</h2>
<p>Proakis, J. G., &amp; Manolakis, D. G. (2007). Digital signal
processing (4th ed.). Pearson Prentice Hall.</p>
<p>Tan, &amp; Jiang, J. (2019). Digital signal processing : fundamentals
and applications / Lizhe Tan and Jean Jiang. (Third edition.). Academic
Press.</p>
<p>Steve Eddins, The DFT and the DTFT <a
target="_blank" rel="noopener" href="https://blogs.mathworks.com/steve/2010/03/15/the-dft-and-the-dtft-mathjax/?doing_wp_cron=1648269838.4060609340667724609375">https://blogs.mathworks.com/steve/2010/03/15/the-dft-and-the-dtft-mathjax/?doing_wp_cron=1648269838.4060609340667724609375</a></p>
<p>Lathi, B. P., &amp; Green, R. A. (2018). Linear systems and signals
(Third Edition.). Oxford University Press.</p>
<p>Oppenheim, A. V., &amp; Schafer, R. W. (2014). Discrete-time signal
processing (Third ed., Pearson new internat. ed.). Pearson.</p>
<p>Lyons, R. G. (2011). Understanding digital signal processing (3rd
ed.). Prentice Hall.</p>
<p>Dr. Wang Hongwei. FFT Basics and Case Study using Multi-Instrument
[<a
target="_blank" rel="noopener" href="https://www.virtins.com/doc/D1002/FFT_Basics_and_Case_Study_using_Multi-Instrument_D1002.pdf">https://www.virtins.com/doc/D1002/FFT_Basics_and_Case_Study_using_Multi-Instrument_D1002.pdf</a>]</p>
<p>Spectral Leakage and Zero-Padding of the Discrete Fourier Transform
[<a
target="_blank" rel="noopener" href="https://dspillustrations.com/pages/posts/misc/spectral-leakage-zero-padding-and-frequency-resolution.html">https://dspillustrations.com/pages/posts/misc/spectral-leakage-zero-padding-and-frequency-resolution.html</a>]</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/05/27/dft-window/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Guo">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="KNOW-HOW">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | KNOW-HOW">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2023/05/27/dft-window/" class="post-title-link" itemprop="url">Windowing Technique for Accurate DFT</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2023-05-27 10:58:53" itemprop="dateCreated datePublished" datetime="2023-05-27T10:58:53+00:00">2023-05-27</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2024-05-20 14:58:16" itemprop="dateModified" datetime="2024-05-20T14:58:16+00:00">2024-05-20</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/dsp/" itemprop="url" rel="index"><span itemprop="name">dsp</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <blockquote>
<p>Applying the Hanning window (or any window) to a <strong>periodic
signal</strong> creates leakage.</p>
</blockquote>
<p><strong>leakage</strong>:</p>
<p>​ The component at one frequency leaks into the vicinity of another
compnent owing to the spectral smearing introdued by
<em>window</em>.</p>
<blockquote>
<p>Notice side lobes <em>adding out of phase</em> can <em>reduce</em>
the heights of the peaks</p>
</blockquote>
<h2 id="windowed-signal">Windowed Signal</h2>
<p>Short transient signals in the time domain produce high, broadband
frequency content.</p>
<p><img src="/2023/05/27/dft-window/sharpTransient.png"
alt="sharpTransient" /></p>
<p>To reduce leakage, a mathematical function called a
<strong>window</strong> is applied to the data. Windows are designed to
<em>reduce the sharp transient</em> in the re-created signal as much as
possible.</p>
<p><img src="/2023/05/27/dft-window/windowedsignal.png"
alt="windowedsignal" /></p>
<p>Because the sharp transients are reduced and smoothed, the broadband
frequency of the spectral leakage is also reduced.</p>
<h2 id="periodic-versus-non-periodic-background">Periodic versus
Non-Periodic Background</h2>
<p>When performing a Fourier Transform on measurement data, a window
affects periodic and non-periodic data differently:</p>
<ul>
<li><p><strong>Periodic (No Window needed)</strong>: A signal captured
in a periodic manner does not require a window, and a resulting Fourier
Transform has no leakage. Applying a window alters the resulting Fourier
transform, and even creates spectral leakage where there would have been
no leakage otherwise.</p></li>
<li><p><strong>Non-periodic (Window needed)</strong>: Windows are used
on signals that are captured in a non-periodic manner to reduce spectral
leakage and get closer to the periodic results. A window can minimize
the leakage present in a non-periodic signal, but cannot eliminate
it.</p></li>
</ul>
<blockquote>
<p>The signal is repeated and appended mathematically because the
measured data is assumed to be representative of the entire original
signal</p>
</blockquote>
<h3 id="periodic">Periodic</h3>
<p>When a measurement signal is captured in a periodic manner, the
Fourier Transform of the captured signal will have <strong>no
leakage</strong> in the frequency domain.</p>
<p>A window is not recommended for a periodic signal as it will distort
the signal in an unnecessary manner, and actually creates spectral
leakage.</p>
<p><img src="/2023/05/27/dft-window/captured-periodic.png"
alt="captured-periodic" /></p>
<h3 id="non-periodic">Non-periodic</h3>
<p>The same sine wave, with a different measurement time, results in a
non-periodic captured signal. Here, when the captured signal is
repeated, the original sine wave signal is not re-created.</p>
<p><img src="/2023/05/27/dft-window/captured-nonperiodic.png"
alt="captured-nonperiodic" /></p>
<p>In fact, several broadband transient events (circled in red) are
introduced. These transients create a broadband response, or
<strong>leakage</strong>.</p>
<p><strong>Windows</strong> are used to minimize this leakage effect in
the frequency domain.</p>
<p><img src="/2023/05/27/dft-window/leakage-vs-nonleakage.png"
alt="leakage-vs-nonleakage" /></p>
<h2 id="hanning">Hanning</h2>
<p>When doing operational noise and vibration measurements, the Hanning
window is commonly used.</p>
<p>Random data has spectral leakage due to the <em>abrupt cutoff</em> at
the beginning and end of the time block. It is
<em>non-periodic</em>.</p>
<p>There is <strong>no</strong> way to ensure that the captured random
signal is periodic by varying the measurement time.</p>
<p><strong>Hanning windows</strong> are often used with random data
because they have moderate impact on the frequency resolution and
amplitude accuracy of the resulting frequency spectrum.</p>
<ul>
<li><p>The maximum <em>amplitude error</em> of a Hanning window is
<em>15%</em></p>
<blockquote>
<p>In the cited article, all spectral data <em>had an amplitude
correction factor applied</em>.</p>
</blockquote></li>
<li><p>while the frequency leakage is typically confined to <em>1.5
spectral lines</em> to each side of the original sine wave
signal</p></li>
</ul>
<p><img src="/2023/05/27/dft-window/rtaImage.png"
alt="hanning.png" /></p>
<h3 id="periodic-signal">periodic signal</h3>
<p>Applying the Hanning window (or any window) to a periodic signal
creates <strong>leakage</strong>.</p>
<p><img src="/2023/05/27/dft-window/hanning-periodicsignal.png"
alt="hanning-periodicsignal" /></p>
<blockquote>
<p>The <em>periodically captured</em> sine wave with the Hanning window
(blue) is <em>wider</em> in frequency than the original signal (red)</p>
</blockquote>
<p>In the figure, the sine wave with the Hanning window (blue) is
<em>wider</em> in frequency than the original signal (red).</p>
<h3 id="non-periodic-signal">non-periodic signal</h3>
<p>When a Hanning window is applied to a non-periodic signal, the
leakage is greatly reduced and the amplitude is higher.</p>
<p><img src="/2023/05/27/dft-window/hanning-nonperiodicsignal.png"
alt="hanning-nonperiodicsignal" /></p>
<blockquote>
<p>A <em>non-periodically captured</em> sine wave (magenta) has a
spectral leakage over the entire bandwidth, applying a Hanning window
minimized the leakage (green)</p>
</blockquote>
<h3 id="rms-calculation">RMS calculation</h3>
<p>A <em>RMS calculation</em> <strong>sums up the energy within a
frequency range</strong>.</p>
<p><img src="/2023/05/27/dft-window/rms-cal.png" alt="rms-cal" /></p>
<ul>
<li><p>both the RMS of the periodic and non-periodic signals with a
Hanning window are equal to the RMS of the leakage-free sine
wave.</p></li>
<li><p>Only the RMS of the non-periodic sine wave without a window
applied is not equal to the others</p></li>
</ul>
<blockquote>
<p>With the leakage spread over a smaller frequency range, doing
analysis calculations like <em>RMS</em> yields more accurate
results.</p>
</blockquote>
<h2 id="flattop">Flattop</h2>
<ul>
<li><p>The Flattop window has a <em>better amplitude accuracy</em> in
frequency domain compared to the Hanning window,</p>
<blockquote>
<p>The maximum amplitude error of a Flattop window is <em>less than
0.01%</em>. By contrast, the Hanning window maximum amplitude error is
15%.</p>
</blockquote></li>
<li><p>A Flattop window confines leakage to <em>3.43 spectral lines</em>
to each side of the original signal.</p></li>
</ul>
<h3 id="amplitude-errors">amplitude errors</h3>
<p>These maximum amplitude errors assume that <em>amplitude correction
factors are applied to the frequency spectrums</em>. These amplitude
correction factors compensate for any reduction caused by applying a
window.</p>
<p><img src="/2023/05/27/dft-window/flattop-amplitude.png"
alt="flattop-amplitude" /></p>
<h3 id="leakage">leakage</h3>
<p>The frequency accuracy of the Flattop window is more coarse compared
to a Hanning window. As a result, the Flattop window is typically
employed on data where frequency peaks are distinct and well separated
from each other.</p>
<p><img src="/2023/05/27/dft-window/flattop-leakage.png"
alt="flattop-leakage" /></p>
<p>When the frequency peaks are not guaranteed to be well separated, the
Hanning window is preferred because it is less likely to cause
individual peaks to be lost in the spectrum</p>
<p><img src="/2023/05/27/dft-window/flattop-2tone.png"
alt="flattop-2tone" /></p>
<p>Spectrum of two periodically captured tones that are <span
class="math inline">\(4Hz\)</span> apart with a <span
class="math inline">\(1Hz\)</span> frequency resolution. The spectrum
with a Hanning window (green) shows two peaks while the spectrum with a
Flattop window (blue) shows one peak.</p>
<blockquote>
<p>Note that at the original frequencies of the tones the amplitude is
correct and equal to one for both windows.</p>
</blockquote>
<blockquote>
<p>One common application for a flattop window is performing
<em>calibration</em>. For example, a sound pistonphone only produces
<em>one single</em> and <em>distinct frequency</em> during microphone
calibration.</p>
</blockquote>
<h2 id="uniform">Uniform</h2>
<p>A Uniform window has a value of <em>1.0</em> across the entire
measurement time. In reality, a <strong>Uniform window</strong> could be
called <strong>no window</strong>.</p>
<blockquote>
<p>Depending on the data acquisition system used, sometimes the term
<strong>Rectangular</strong> window is also used.</p>
</blockquote>
<ul>
<li><p>A Uniform window creates no frequency or amplitude distortion
when the measured signal is periodic.</p></li>
<li><p>When a measured signal is not periodic, the amplitude is reduced
by a maximum of <em>36%</em> and the frequency content is spread over
the <em>entire bandwidth of the measurement</em>.</p>
<blockquote>
<p>This is due to <em>sharp transients</em> that are created by
repeating and appending the measured signal.</p>
</blockquote></li>
</ul>
<blockquote>
<p>Whenever a measurement signal is periodic, a Uniform window is
preferred.</p>
<p>Applying a Hanning or Flattop window to a periodic signal will
actually create amplitude and frequency distortion.</p>
</blockquote>
<p><img src="/2023/05/27/dft-window/uniformwindow.png"
alt="uniformwindow" /></p>
<h2 id="benefit-of-reducing-leakage">Benefit of Reducing Leakage</h2>
<p>The benefit is <strong>not</strong> that the captured signal is
perfectly replicated.</p>
<p><strong>The main benefit is that the leakage is now confined over a
smaller frequency range</strong>, instead of affecting the entire
frequency bandwidth of the measurement.</p>
<blockquote>
<p>With the leakage spread over a smaller frequency range, doing
analysis calculations like RMS yields more accurate results.</p>
</blockquote>
<p><img src="/2023/05/27/dft-window/rms-windowed.png"
alt="rms-windowed" /></p>
<p>It is impossible to calculate the proper RMS amplitude estimate over
a limited frequency range of the <em>un-windowed sine wave</em>, since
the leakage is <em>over the full frequency range</em>. Therefore the RMS
amplitude is not correct.</p>
<h3 id="two-tones">Two tones</h3>
<p>In the case of two closely spaced sine tones, without a window being
applied, two tones frequencies would leak into each other, which make
determining the true amplitude of individual peaks very difficult.</p>
<p>The window makes it easier to separate and distinguish each tone so a
proper analysis could be performed.</p>
<p><img src="/2023/05/27/dft-window/windowed-2tone.png"
alt="windowed-2tone" /></p>
<h2 id="window-function-in-frequency-domain">window function in
frequency domain</h2>
<p>The transfer function <span class="math inline">\(a(f)\)</span> of a
window <span class="math inline">\(w_j, j \in [0, N-1]\)</span>
expresses the response of the window to a sinusoidal signal at an offset
of <span class="math inline">\(f\)</span> frequency bins, i.e. DFT .</p>
<p><strong>real part:</strong> <span class="math display">\[
a_r(f)=\sum_{j=0}^{N-1}w_j\cos (2\pi f j/N)
\]</span></p>
<p><strong>imaginary part:</strong> <span class="math display">\[
a_i(f)=\sum_{j=0}^{N-1}w_j\sin (2\pi f j/N)
\]</span></p>
<p>frequency response can be obtained as <span class="math display">\[
a(f) = \frac{\sqrt{a_r^2+a_i^2}}{S_1}
\]</span> where <span class="math inline">\(S_1 = \sum
_{k=0}^{N-1}w_k\)</span></p>
<h3 id="rectangle-window-example">rectangle window example</h3>
<blockquote>
<p>aka. Uniform window, "Rectangular" window, "no window"</p>
<p>Whenever a measurement signal is periodic, a Uniform window is
preferred. Applying a Hanning or Flattop window to a periodic signal
will actually create amplitude and frequency distortion.</p>
</blockquote>
<ol type="1">
<li>When <span class="math inline">\(f=0\)</span></li>
</ol>
<p><span class="math display">\[
a_r(f) + ja_i(f) = \sum_{k=0}^{N-1}w_k = N
\]</span></p>
<ol start="3" type="1">
<li>When <span class="math inline">\(f \neq 0\)</span></li>
</ol>
<p><span class="math display">\[\begin{align}
a_r(f) + ja_i(f) &amp;= \sum_{k=0}^{N-1} e^{\frac{j2\pi k f}{N}} \\
&amp;= \sum_{k=0}^{N/2} e^{\frac{j2\pi k f}{N}} + e^{\frac{j2\pi (k+N/2)
f}{N}} \\
&amp;= \sum_{k=0}^{N/2} e^{\frac{j2\pi k f}{N}} + e^{j\pi}
e^{\frac{j2\pi k f}{N}} \\
&amp;= \sum_{k=0}^{N/2} e^{\frac{j2\pi k f}{N}} - e^{\frac{j2\pi k
f}{N}} \\
&amp;= 0
\end{align}\]</span></p>
<blockquote>
<p>A Uniform window creates no frequency or amplitude distortion when
the <strong>measured signal</strong> is <strong>periodic</strong>.</p>
<p>However, if the signal cannot be guaranteed to be periodic, a Uniform
window should be avoided.</p>
</blockquote>
<h2 id="window-properties">Window Properties</h2>
<p>There is <strong>no</strong> possibility of trade-off between
<em>main-lobe width</em> and <em>sied-lobe amplitude</em>, since the
<em>window length</em> is the only variable parameter.</p>
<blockquote>
<p>The rectangular window has the narrowest main lobe for a given
length, i.e. <span class="math inline">\(\Delta
_{ml}=4\pi/L\)</span></p>
<p>Other windows include the Bartlett, Hann, and Hamming windows. The
DTFTs of all these windows have main-lobe width <span
class="math inline">\(\Delta _{ml}=8\pi/(L-1)\)</span>, which is
approximately twice that of the rectangular window, but they have
significantly smaller side-lobe amplitudes.</p>
</blockquote>
<h2 id="demo">Demo</h2>
<figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br></pre></td><td class="code"><pre><span class="line">clc;</span><br><span class="line">clear all;</span><br><span class="line"></span><br><span class="line">N = <span class="number">512</span>;</span><br><span class="line">fs = <span class="number">40</span>*<span class="number">1e3</span>; <span class="comment">% 40kHz</span></span><br><span class="line">fres = fs/N; <span class="comment">% 78.125</span></span><br><span class="line">tt = (<span class="number">0</span>:N<span class="number">-1</span>)*<span class="number">1</span>/fs;</span><br><span class="line">ff = (<span class="number">0</span>:N/<span class="number">2</span>)*fres;</span><br><span class="line">fin = <span class="number">390.625</span>;</span><br><span class="line"></span><br><span class="line">whan = hanning(N); <span class="comment">% hanning window</span></span><br><span class="line">wrect = rectwin(N); <span class="comment">% rect window</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">% fin/fs = 5/N, periodically captured sine wave</span></span><br><span class="line">wv = <span class="built_in">cos</span>(<span class="number">2</span>*<span class="built_in">pi</span>*fin*tt);</span><br><span class="line">power = periodogram(wv, whan, N, fs, <span class="string">&#x27;power&#x27;</span>);</span><br><span class="line">X = (power).^<span class="number">0.5</span>*<span class="number">2</span>^<span class="number">0.5</span>;</span><br><span class="line">psd = periodogram(wv, whan, N, fs, <span class="string">&#x27;psd&#x27;</span>);</span><br><span class="line">rms = sum(psd*fres)^<span class="number">0.5</span>;</span><br><span class="line">fprintf(<span class="string">&#x27;RMS@periodic &amp; hanning: %.5f\n&#x27;</span>, rms);</span><br><span class="line"></span><br><span class="line">power_rect = periodogram(wv, wrect, N, fs, <span class="string">&#x27;power&#x27;</span>);</span><br><span class="line">X_rect = (power_rect).^<span class="number">0.5</span>*<span class="number">2</span>^<span class="number">0.5</span>;</span><br><span class="line">psd_rect = periodogram(wv, wrect, N, fs, <span class="string">&#x27;psd&#x27;</span>);</span><br><span class="line">rms_rect = sum(psd_rect*fres)^<span class="number">0.5</span>;</span><br><span class="line">fprintf(<span class="string">&#x27;RMS@periodic &amp; rect: %.5f\n&#x27;</span>, rms_rect);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="built_in">figure</span>(<span class="number">1</span>)</span><br><span class="line"><span class="built_in">plot</span>(ff, X, <span class="string">&#x27;r-o&#x27;</span>, ff, X_rect, <span class="string">&#x27;b-s&#x27;</span>);</span><br><span class="line">xlabel(<span class="string">&#x27;Frequency(Hz)&#x27;</span>);</span><br><span class="line">ylabel(<span class="string">&#x27;|X|&#x27;</span>)</span><br><span class="line">title(<span class="string">&#x27;Amplitude spectrum of periodically captured sine wave&#x27;</span>);</span><br><span class="line"><span class="built_in">legend</span>(<span class="string">&#x27;w/ hanning&#x27;</span>, <span class="string">&#x27;w/ rect&#x27;</span>);</span><br><span class="line">grid on</span><br><span class="line">grid minor</span><br><span class="line"><span class="comment">% rectangular window provide higher frequency resolution</span></span><br><span class="line"><span class="comment">% hanning window induce leakage for the periodically captured sine wave</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">% fin - 0.5fres</span></span><br><span class="line">fin_lkg0d5 = fin - <span class="number">0.5</span>*fres;</span><br><span class="line">wv_lkg0d5 = <span class="built_in">cos</span>(<span class="number">2</span>*<span class="built_in">pi</span>*fin_lkg0d5*tt);</span><br><span class="line">power_lkg0d5 = periodogram(wv_lkg0d5, whan, N, fs, <span class="string">&#x27;power&#x27;</span>);</span><br><span class="line">X_lkg0d5 = (power_lkg0d5).^<span class="number">0.5</span>*<span class="number">2</span>^<span class="number">0.5</span>;</span><br><span class="line">psd_lkg0d5 = periodogram(wv_lkg0d5, whan, N, fs, <span class="string">&#x27;psd&#x27;</span>);</span><br><span class="line">rms_lkg0d5 = sum(psd_lkg0d5*fres)^<span class="number">0.5</span>;</span><br><span class="line">fprintf(<span class="string">&#x27;RMS@-0.5fres &amp; hanning: %.5f\n&#x27;</span>, rms_lkg0d5);</span><br><span class="line"></span><br><span class="line">power_lkg0d5_rect = periodogram(wv_lkg0d5, wrect, N, fs, <span class="string">&#x27;power&#x27;</span>);</span><br><span class="line">X_lkg0d5_rect = (power_lkg0d5_rect).^<span class="number">0.5</span>*<span class="number">2</span>^<span class="number">0.5</span>;</span><br><span class="line">psd_lkg0d5_rect = periodogram(wv_lkg0d5, wrect, N, fs, <span class="string">&#x27;psd&#x27;</span>);</span><br><span class="line">rms_lkg0d5_rect = sum(psd_lkg0d5_rect*fres)^<span class="number">0.5</span>;</span><br><span class="line">fprintf(<span class="string">&#x27;RMS@-0.5fres &amp; rect: %.5f\n&#x27;</span>, rms_lkg0d5_rect);</span><br><span class="line"></span><br><span class="line"><span class="built_in">figure</span>(<span class="number">2</span>)</span><br><span class="line"><span class="built_in">plot</span>(ff, X_lkg0d5, <span class="string">&#x27;r-o&#x27;</span>, ff, X_lkg0d5_rect, <span class="string">&#x27;b-s&#x27;</span>);</span><br><span class="line">xlabel(<span class="string">&#x27;Frequency(Hz)&#x27;</span>);</span><br><span class="line">ylabel(<span class="string">&#x27;|X|&#x27;</span>)</span><br><span class="line">title(<span class="string">&#x27;Amplitude spectrum of -0.5fres&#x27;</span>);</span><br><span class="line"><span class="built_in">legend</span>(<span class="string">&#x27;w/ hanning&#x27;</span>, <span class="string">&#x27;w/ rect&#x27;</span>);</span><br><span class="line">grid on</span><br><span class="line">grid minor</span><br><span class="line"><span class="comment">% hanning reduce leakage and max amplitude error 15%</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">% fin - 0.25fres</span></span><br><span class="line">fin_lkg0d25 = fin - <span class="number">0.25</span>*fres;</span><br><span class="line">wv_lkg0d25 = <span class="built_in">cos</span>(<span class="number">2</span>*<span class="built_in">pi</span>*fin_lkg0d25*tt);</span><br><span class="line">power_lkg0d25 = periodogram(wv_lkg0d25, whan, N, fs, <span class="string">&#x27;power&#x27;</span>);</span><br><span class="line">X_lkg0d25 = (power_lkg0d25).^<span class="number">0.5</span>*<span class="number">2</span>^<span class="number">0.5</span>;</span><br><span class="line">psd_lkg0d25 = periodogram(wv_lkg0d25, whan, N, fs, <span class="string">&#x27;psd&#x27;</span>);</span><br><span class="line">rms_lkg0d25 = sum(psd_lkg0d25*fres)^<span class="number">0.5</span>;</span><br><span class="line">fprintf(<span class="string">&#x27;RMS@-0.25fres &amp; hanning: %.5f\n&#x27;</span>, rms_lkg0d25);</span><br><span class="line"></span><br><span class="line">power_lkg0d25_rect = periodogram(wv_lkg0d25, wrect, N, fs, <span class="string">&#x27;power&#x27;</span>);</span><br><span class="line">X_lkg0d25_rect = (power_lkg0d25_rect).^<span class="number">0.5</span>*<span class="number">2</span>^<span class="number">0.5</span>;</span><br><span class="line">psd_lkg0d25_rect = periodogram(wv_lkg0d25, wrect, N, fs, <span class="string">&#x27;psd&#x27;</span>);</span><br><span class="line">rms_lkg0d25_rect = sum(psd_lkg0d25_rect*fres)^<span class="number">0.5</span>;</span><br><span class="line">fprintf(<span class="string">&#x27;RMS@-0.25fres &amp; rect: %.5f\n&#x27;</span>, rms_lkg0d25_rect);</span><br><span class="line"></span><br><span class="line"><span class="built_in">figure</span>(<span class="number">3</span>)</span><br><span class="line"><span class="built_in">plot</span>(ff, X_lkg0d25, <span class="string">&#x27;r-o&#x27;</span>, ff, X_lkg0d25_rect, <span class="string">&#x27;b-s&#x27;</span>);</span><br><span class="line">xlabel(<span class="string">&#x27;Frequency(Hz)&#x27;</span>);</span><br><span class="line">ylabel(<span class="string">&#x27;|X|&#x27;</span>)</span><br><span class="line">title(<span class="string">&#x27;Amplitude spectrum of -0.25fres&#x27;</span>);</span><br><span class="line"><span class="built_in">legend</span>(<span class="string">&#x27;w/ hanning&#x27;</span>, <span class="string">&#x27;w/ rect&#x27;</span>);</span><br><span class="line">grid on</span><br><span class="line">grid minor</span><br><span class="line"><span class="comment">% hanning reduce leakage</span></span><br></pre></td></tr></table></figure>
<p>output</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">RMS@periodic &amp; hanning: 0.70711</span><br><span class="line">RMS@periodic &amp; rect: 0.70711</span><br><span class="line">RMS@-0.5fres &amp; hanning: 0.70711</span><br><span class="line">RMS@-0.5fres &amp; rect: 0.70711</span><br><span class="line">RMS@-0.25fres &amp; hanning: 0.70711</span><br><span class="line">RMS@-0.25fres &amp; rect: 0.70780</span><br></pre></td></tr></table></figure>
<p><img src="/2023/05/27/dft-window/image-20230526005823613.png"
alt="image-20230526005823613" /></p>
<blockquote>
<p>rectangular window provide higher frequency resolution</p>
</blockquote>
<p><img src="/2023/05/27/dft-window/image-20230526005934411.png"
alt="image-20230526005934411" /></p>
<blockquote>
<p>hanning reduce leakage and max amplitude error 15%</p>
</blockquote>
<p><img src="/2023/05/27/dft-window/image-20230526010047826.png"
alt="image-20230526010047826" /></p>
<blockquote>
<p>hanning reduce leakage and reduce amplitude error</p>
</blockquote>
<h2 id="reference">reference</h2>
<p>Windows and Spectral Leakage. URL:<a
target="_blank" rel="noopener" href="https://community.sw.siemens.com/s/article/windows-and-spectral-leakage">https://community.sw.siemens.com/s/article/windows-and-spectral-leakage</a></p>
<p>Article (20416822) Title: How to Utilize a Windowing Technique for
Accurate DFT URL: <a
target="_blank" rel="noopener" href="https://support.cadence.com/apex/ArticleAttachmentPortal?id=a1Od000000050UrEAI">https://support.cadence.com/apex/ArticleAttachmentPortal?id=a1Od000000050UrEAI</a></p>
<p>B.P. Lathi, Roger Green. Linear Systems and Signals (The Oxford
Series in Electrical and Computer Engineering) 3rd Edition</p>
<p>Window Types: Hanning, Flattop, Uniform, Tukey, and Exponential
URL:<a
target="_blank" rel="noopener" href="https://community.sw.siemens.com/s/article/window-types-hanning-flattop-uniform-tukey-and-exponential">https://community.sw.siemens.com/s/article/window-types-hanning-flattop-uniform-tukey-and-exponential</a></p>
<p>Window Correction Factors URL:<a
target="_blank" rel="noopener" href="https://community.sw.siemens.com/s/article/window-correction-factors">https://community.sw.siemens.com/s/article/window-correction-factors</a></p>
<p>Root Mean Square (RMS) and Overall Level. URL:<a
target="_blank" rel="noopener" href="https://community.sw.siemens.com/s/article/root-mean-square-rms-and-overall-level">https://community.sw.siemens.com/s/article/root-mean-square-rms-and-overall-level</a></p>
<p>Alan V Oppenheim, Ronald W. Schafer. Discrete-Time Signal Processing,
3rd edition</p>
<p>Stefan Scholl, "Exact Signal Measurements using FFT
Analysis",Microelectronic Systems Design Research Group, TU
Kaiserslautern, Germany. [ <a
target="_blank" rel="noopener" href="https://kluedo.ub.rptu.de/frontdoor/deliver/index/docId/4293/file/exact_fft_measurements.pdf">pdf</a>
]</p>
<p>Harris, F. (1978). On the use of windows for harmonic analysis with
the discrete Fourier transform. Proceedings of the IEEE, 66, 51-83. [<a
target="_blank" rel="noopener" href="https://www.fceia.unr.edu.ar/prodivoz/Harris_1978.pdf">pdf</a>]</p>
<p>Equivalent noise bandwidth (ENBW) of window functions URL:<a
target="_blank" rel="noopener" href="https://www.gaussianwaves.com/2020/09/equivalent-noise-bandwidth-enbw-of-window-functions/">https://www.gaussianwaves.com/2020/09/equivalent-noise-bandwidth-enbw-of-window-functions/</a></p>
<p>Why should I zero-pad a signal before taking the Fourier transform?
URL:<a
target="_blank" rel="noopener" href="https://dsp.stackexchange.com/q/741">https://dsp.stackexchange.com/q/741</a></p>
<p>enbw function in MATLAB URL:<a
target="_blank" rel="noopener" href="https://www.mathworks.com/help/signal/ref/enbw.html">https://www.mathworks.com/help/signal/ref/enbw.html</a></p>
<p>Window function – figure of merits URL:<a
target="_blank" rel="noopener" href="https://www.gaussianwaves.com/2020/09/window-function-figure-of-merits/">https://www.gaussianwaves.com/2020/09/window-function-figure-of-merits/</a></p>
<p>Memos on FFT With Windowing URL:<a
target="_blank" rel="noopener" href="https://everynanocounts.com/2018/02/01/memos-on-fft-with-windowing/">https://everynanocounts.com/2018/02/01/memos-on-fft-with-windowing/</a></p>
<p>Jens Ahrens, "Some Notes on Windows in Spectral Analysis," Tech.
Report, Chalmers Univeristy of Technology, 2020. URL:<a
target="_blank" rel="noopener" href="https://appliedacousticschalmers.github.io/scaling-of-the-dft/notes_on_windows/">https://appliedacousticschalmers.github.io/scaling-of-the-dft/notes_on_windows/</a></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/05/15/fourier101/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Guo">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="KNOW-HOW">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | KNOW-HOW">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2023/05/15/fourier101/" class="post-title-link" itemprop="url">Fourier Analysis 101</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2023-05-15 23:25:31" itemprop="dateCreated datePublished" datetime="2023-05-15T23:25:31+00:00">2023-05-15</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2024-05-20 14:58:16" itemprop="dateModified" datetime="2024-05-20T14:58:16+00:00">2024-05-20</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/dsp/" itemprop="url" rel="index"><span itemprop="name">dsp</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="the-dirac-comb-function">The Dirac Comb function</h2>
<h3 id="impulse-train">impulse train</h3>
<p><img src="/2023/05/15/fourier101/image-20231026001721884.png"
alt="image-20231026001721884" /></p>
<p><img src="/2023/05/15/fourier101/image-20231026001952947.png"
alt="image-20231026001952947" /></p>
<blockquote>
<p>The Fourier transform of a periodic impulse train in the time domain
with period <span class="math inline">\(T\)</span> is a periodic impulse
train in the frequency domain with period <span
class="math inline">\(2\pi/T\)</span></p>
</blockquote>
<p><img src="/2023/05/15/fourier101/image-20231026002244212.png"
alt="image-20231026002244212" /></p>
<h3 id="the-discrete-time-counterpart">The discrete-time
counterpart</h3>
<p><img src="/2023/05/15/fourier101/image-20231026002344519.png"
alt="image-20231026002344519" /></p>
<p><img src="/2023/05/15/fourier101/image-20231026002420723.png"
alt="image-20231026002420723" /></p>
<h2 id="the-unit-impulse-function">The Unit Impulse Function</h2>
<h3 id="scaled-deltat">scaled <span
class="math inline">\(\delta(t)\)</span></h3>
<p><span class="math display">\[
x(t)\delta(t-\tau) = x(\tau)\delta(t-\tau)
\]</span></p>
<blockquote>
<p>the impulse is zero everywhere except when <span
class="math inline">\(t=\tau\)</span></p>
<p><a
target="_blank" rel="noopener" href="https://lpsa.swarthmore.edu/BackGround/ImpulseFunc/ImpFunc.html">[https://lpsa.swarthmore.edu/BackGround/ImpulseFunc/ImpFunc.html]</a></p>
</blockquote>
<h3 id="time-scaled">time-scaled</h3>
<p><span class="math display">\[
\delta(at)=\frac{1}{|a|}\delta(t)
\]</span></p>
<p>An example</p>
<p><span class="math display">\[
\delta(2t-1)=\frac12\delta\left(t-\frac12\right)
\]</span></p>
<blockquote>
<p><a
target="_blank" rel="noopener" href="https://dsp.stackexchange.com/a/67699">[https://dsp.stackexchange.com/a/67699]</a></p>
</blockquote>
<h3 id="sifting-property">sifting property</h3>
<blockquote>
<p>The mathematical representation of a signal as the superposition of
scaled and shifted unit impulse functions</p>
</blockquote>
<p><img src="/2023/05/15/fourier101/image-20240501134030537.png"
alt="image-20240501134030537" /></p>
<p><span class="math display">\[
\int\limits_a^b {\delta (t - \lambda ) \cdot f(t)dt}  = \left\{
{\begin{array}{*{20}{c}}
{f(\lambda ),\quad a &lt; \lambda  &lt; b}\\
{0,\quad otherwise}
\end{array}} \right
\]</span></p>
<blockquote>
<p>This is called the "sifting" property because the impulse function
<span class="math inline">\(\delta(t-\lambda)\)</span> sifts through the
function <span class="math inline">\(f(t)\)</span> and pulls out the
value <span class="math inline">\(f(\lambda)\)</span></p>
</blockquote>
<h2 id="periodic-signal">Periodic Signal</h2>
<h3 id="dfs-for-periodic-sequences">DFS for periodic sequences</h3>
<p>AKA <strong>discrete-time Fourier series (DTFS)</strong></p>
<blockquote>
<p>Any <em>periodic sequence</em> can be represented as <em>a sum of
complex exponential sequences</em>.</p>
</blockquote>
<p>⭐Analysis equation <span class="math display">\[
\tilde{X}[k] = \sum_{n=0}^{N-1}\tilde{x}[n]W_N^{kn}
\]</span> where <span class="math inline">\(W_N =
e^{-j(2\pi/N)}\)</span></p>
<p>⭐Synthesis equation <span class="math display">\[
\tilde{x}[n] = \frac{1}{N}\sum_{k=0}^{N-1}\tilde{X}[k]W_N^{-kn}
\]</span></p>
<blockquote>
<p>The multiplicative constant <span class="math inline">\(1/N\)</span>
is included in above equation for convenience. It could also be absorbed
into the definition of <span
class="math inline">\(\tilde{X}[k]\)</span></p>
</blockquote>
<p>In general <span class="math display">\[
W_N^{n+lN} = e^{-j(2\pi/N)(n+lN)} =e^{-j(2\pi/N)n}=W_N^n
\]</span> The Fourier series coefficients <span
class="math inline">\(\tilde{X}[k]\)</span> can be interpreted to be</p>
<ul>
<li>a sequence of finite length, for <span
class="math inline">\(k=0,...,(N-1)\)</span>, and zero otherwise</li>
<li>a periodic sequence defined for all <span
class="math inline">\(k\)</span>, with period <span
class="math inline">\(N\)</span></li>
</ul>
<p>Clearly, both of these interpretations are acceptable, since in
<em>Synthesis equation</em> we use only the values of</p>
<p><span class="math inline">\(\tilde{X}[k]\)</span> for <span
class="math inline">\(0 \leq k \leq (N-1)\)</span>.</p>
<p>An advantage to interpreting the Fourier series coefficients <span
class="math inline">\(\tilde{X}[k]\)</span> as a periodic sequence is
that there is then a <em>duality</em> between the time and frequency
domains for the Fourier series representation of periodic sequences.</p>
<h4 id="duality">Duality</h4>
<p>An exact duality exists between the time and frequency domains in the
DFS representation that does not exist in the DTFT and z-transform
representation of sequences</p>
<p>This duality property is summarized as follows:</p>
<p>If <span class="math display">\[
\tilde{x}[n] \overset{DFS}\longleftrightarrow \tilde{X}[k]
\]</span> then <span class="math display">\[
\tilde{X}[n] \overset{DFS}\longleftrightarrow N\tilde{x}[-k]
\]</span></p>
<h3 id="the-fourier-transform-of-periodic-signals">The Fourier Transform
of Periodic Signals</h3>
<blockquote>
<p>use the DFS representation to obtain a DTFT representation of
periodic signal:</p>
</blockquote>
<ol type="1">
<li><p><em>uniform convergence</em> of the Fourier transform of a
sequence (<em>DTFT</em>) requires that the sequence be <em>absolutely
summable</em>, and <em>mean-square convergence</em> requires that the
sequence be <em>square summable</em>. Periodic sequences <strong>satisfy
neither condition</strong> .</p>
<p><strong>Absolute summability is a sufficient condition</strong> for
the existence of a Fourier transform representation (<em>DTFT</em>)</p>
<p><span class="math display">\[\begin{align}
|X(e^{j\omega})| &amp;= \left| \sum_{n=-\infty}^{\infty}x[n]e^{-j\omega
n} \right| \\
&amp;\leq \sum_{n=-\infty}^{\infty}|x[n]||e^{-j\omega n}| \\
&amp;\leq \sum_{n=-\infty}^{\infty}|x[n]| \lt \infty
\end{align}\]</span></p></li>
<li><p>sequences that can be expressed as a sum of complex exponentials
can be considered to have a Fourier transform representation as a train
of impulses</p></li>
</ol>
<p>⭐If <span class="math inline">\(\tilde{x}[n]\)</span> is periodic
with period <span class="math inline">\(N\)</span> and the corresponding
<em>DFS coefficients</em> are <span
class="math inline">\(\tilde{X}[k]\)</span>, then the Fourier transform
of <span class="math inline">\(\tilde{x}[n]\)</span> is defined to be
the <strong>impulse train</strong> <span class="math display">\[
\tilde{X}(e^{j\omega}) =
\sum_{k=-\infty}^{\infty}\frac{2\pi}{N}\tilde{X}[k]\delta\left(\omega -
\frac{2\pi k}{N}\right)
\]</span> Note that <span
class="math inline">\(\tilde{X}(e^{j\omega})\)</span> has the necessary
periodicity with period <span class="math inline">\(2\pi\)</span> since
<span class="math inline">\(\tilde{X}[k]\)</span> is periodic with
period <span class="math inline">\(N\)</span>, and the impulses are
spaced at integer multiples of <span
class="math inline">\(2\pi/N\)</span>, where <span
class="math inline">\(N\)</span> is an integer.</p>
<p>The follow inverse Fourier transform shows <span
class="math inline">\(\tilde{X}(e^{j\omega})\)</span> is a Fourier
transform representation of the periodic sequence <span
class="math inline">\(\tilde{x}[n]\)</span></p>
<p><img src="/2023/05/15/fourier101/image-20230528100004194.png"
alt="image-20230528100004194" /></p>
<blockquote>
<p>Although the Fourier transform of a periodic sequence does not
converge in the normal sense, the <strong>introduction of
impulses</strong> (<span class="math inline">\(\delta\left(\omega -
\frac{2\pi k}{N}\right)\)</span>) permits us to include <em>periodic
sequences formally within the framework of Fourier transform
analysis</em></p>
</blockquote>
<h2 id="convolution">Convolution</h2>
<h3 id="discrete-time">discrete-time</h3>
<p><span class="math display">\[
y[n] = \sum_{k=-\infty}^{+\infty}x[k]h[n-k]
\]</span></p>
<p>The operation on the right-hand side is known as the
<strong>convolution</strong> of the sequences <em>x[n]</em> and
<em>h[n]</em>. The operation of convolution can be represented
symbolically as <span class="math display">\[
y[n] = x[n]*h[n]
\]</span></p>
<blockquote>
<p>The response of an LTI system to an arbitrary input is expressed in
terms of the system's response to the <em>unit impulse</em>.</p>
<p>From this, we see that an LTI system is completely characterized by
its response to a single signal, namely, its response to the <em>unit
impulse</em>.</p>
</blockquote>
<h3 id="continuous-time">continuous-time</h3>
<p><span class="math display">\[
y(t) = \int_{-\infty}^{+\infty}x(\tau)h(t-\tau)d\tau
\]</span></p>
<p><span class="math display">\[
y(t)=x(t)*h(t)
\]</span></p>
<p>As in discrete time, we see that a continuous-time LTI system is
completely characterized by its impulse response - i.e., by its response
to a single elementary signal, the unit impulse <span
class="math inline">\(\delta(t)\)</span></p>
<h2 id="eigenfunction">Eigenfunction</h2>
<p><em>A signal</em> for which the <em>system output</em> is <em>a
(possibly complex) constant</em> times the <em>input</em> is referred to
as an <strong>eigenfunction</strong> of the system, and the amplitude
factor is referred to as the system's <strong>eigenvalue</strong>.</p>
<p><strong>Complex exponentials</strong> are eigenfunctions of LTI
systems, that is,</p>
<p>continuous time: <span class="math display">\[
e^{st}\to H(s)e^{st}
\]</span> discrete time: <span class="math display">\[
z^n \to H(z)z^n
\]</span></p>
<h3 id="continuous-time-1">continuous-time</h3>
<p>Let's prove them. For an input <span
class="math inline">\(x(t)\)</span>, we can determine the output through
the use of the convolution integral, so that with <span
class="math inline">\(x(t)=e^{st}\)</span></p>
<p><span class="math display">\[\begin{align}
y(t) &amp;= \int_{-\infty}^{+\infty}h(\tau)x(t-\tau)d\tau \\
&amp;=\int_{-\infty}^{+\infty}h(\tau)e^{s(t-\tau)}d\tau \\
&amp;= e^{st}\int_{-\infty}^{+\infty}h(\tau)e^{-s\tau}d\tau
\end{align}\]</span></p>
<p>Assuming that the integral on the right-hand side converges, the
response to <span class="math inline">\(e^{st}\)</span> is of the form
<span class="math display">\[
y(t)=H(s)e^{st}
\]</span> where <span class="math inline">\(H(s)\)</span> is a complex
constant whose value depends on <span class="math inline">\(s\)</span>
and which is related to the system impulse response by <span
class="math display">\[
H(s)=\int_{-\infty}^{+\infty}h(\tau)e^{-s\tau}d\tau
\]</span></p>
<h3 id="discrete-time-1">discrete-time</h3>
<p>Suppose that an LTI system with impulse response <span
class="math inline">\(h[n]\)</span> has as its input the sequence <span
class="math display">\[
x[n] = z^n
\]</span> Then the output of the system can be determined from the
convolution sum as <span class="math display">\[\begin{align}
y[n]&amp;=\sum_{k=-\infty}^{+\infty}h[k]x[n-k] \\
&amp;=\sum_{k=-\infty}^{+\infty}h[k]z^{n-k} \\
&amp;= z^n\sum_{k=-\infty}^{+\infty}h[k]z^{-k}
\end{align}\]</span></p>
<p>Assuming that the summation on the right-hand side converges, the
output is the same compex exponential multiplied by a constant that
depends on the value of <span class="math inline">\(z\)</span>. That is,
<span class="math display">\[
y[n] = H(z)z^n
\]</span> where <span class="math display">\[
H(z) =\sum_{k=-\infty}^{+\infty}h[k]z^{-k}
\]</span></p>
<h3 id="linear-combination">linear combination</h3>
<blockquote>
<p>For both continuous time and discrete time, if the input to an LTI
system is represented as <em>a linear combination of complex
exponentials</em>, then the output can also be represented as <em>a
linear combination of the same complex exponential signals</em>.</p>
</blockquote>
<p>If the input to a continuous-time LTI system is represented as a
linear combination of complex exponentials, that is, if <span
class="math display">\[
x(t)=\sum_k a_ke^{s_k t}
\]</span> then the output will be <span class="math display">\[
y(t)=\sum_k a_kH(s_k)e^{s_k t}
\]</span> In an exactly analogous manner, if the input to a
discrete-time LTI system is represented as a linear combination of
complex exponentials, that is, if <span class="math display">\[
x[n]=\sum_k a_k z_k^n
\]</span> then the output will be <span class="math display">\[
y[n]=\sum_k a_kH(z_k)z_k^n
\]</span></p>
<h2 id="fourier-series">Fourier series</h2>
<h3 id="continuous-time-2">continuous-time</h3>
<p>The Fourier series of a periodic continuous-time signal: <span
class="math display">\[
x(t)=\sum_{k=-\infty}^{+\infty}a_ke^{jk\omega _0
t}=\sum_{k=-\infty}^{+\infty}a_ke^{jk(2\pi/T) t}
\]</span></p>
<p><span class="math display">\[
a_k = \frac{1}{T}\int_T x(t)e^{-jk\omega _0 t}dt=\frac{1}{T}\int _T
x(t)e^{-jk(2\pi/T)t}dt
\]</span></p>
<p>Here, we have written equivalent expressions for the Fourier series
in terms of the <strong>fundamental frequency</strong> <span
class="math inline">\(\omega _0\)</span> and the <strong>fundamental
period</strong> <span class="math inline">\(T\)</span></p>
<h4 id="conjugate-symmetry">Conjugate Symmetry</h4>
<p>If <span class="math inline">\(x(t)\)</span>
<strong>real</strong>-that is, when <span class="math inline">\(x(t) =
x^*(t)\)</span>, the Fourier series coefficients will be <em>conjugate
symmetric</em>, i.e <span class="math display">\[
a_{-k} = a_k^*
\]</span></p>
<h4 id="parsevals-relation">Parseval's Relation</h4>
<p>Parseval's relation states is that the <strong>total average
power</strong> in a periodic signal equals the <strong>sum of the
average powers in all of its harmonic components</strong> <span
class="math display">\[
\frac{1}{T}\int _T|x(t)|^2dt = \sum_{k=-\infty}^{+\infty}|a_k|^2
\]</span></p>
<h3 id="discrete-time-2">discrete-time</h3>
<h4 id="parsevals-relation-1">Parseval's Relation</h4>
<p><span class="math display">\[
\frac{1}{N}\sum_{n=&lt;N&gt;}|x[n]|^2=\sum_{k=&lt;N&gt;}|a_k|^2
\]</span></p>
<h3 id="system-functions">system functions</h3>
<p>When <span class="math inline">\(s\)</span> or <span
class="math inline">\(z\)</span> are general complex numbers, <span
class="math inline">\(H(s)\)</span> and <span
class="math inline">\(H(z)\)</span> are referred to as the
<strong>system functions</strong> of the corresponding systems.</p>
<p>For continuous-time signals and systems, we focus on the specific
case in which <span class="math inline">\(\Re \{s\}= 0\)</span>, so that
<span class="math inline">\(s = j\omega\)</span>, and consequently,
<span class="math inline">\(e^{st}\)</span> is of the form <span
class="math inline">\(e^{j\omega t}\)</span>. <span
class="math inline">\(H(j\omega)\)</span> viewed as a function of <span
class="math inline">\(\omega\)</span> - is referred to as the
<strong>frequency response</strong> of the system and is given by <span
class="math display">\[
H(j\omega) = \int_{-\infty}^{+\infty}h(t)e^{-j\omega t}dt
\]</span></p>
<p>Similarly, for discrete-time signals and systems, we focus on values
of <span class="math inline">\(z\)</span> for which <span
class="math inline">\(|z|=1\)</span>, so that <span
class="math inline">\(z=e^{j\omega}\)</span> and <span
class="math inline">\(z^n\)</span> is of the form <span
class="math inline">\(e^{j\omega n}\)</span>. Then, the frequency
response of the system is given by <span class="math display">\[
H(e^{j\omega}) = \sum_{n=-\infty}^{+\infty}h[n]e^{-j\omega n}
\]</span></p>
<blockquote>
<p>The response of an LTI system to a <em>complex exponential</em>
signal of the form <span class="math inline">\(e^{j\omega t}\)</span>
(in continuous time) or <span class="math inline">\(e^{j\omega
n}\)</span> (in discrete time) is particularly simple to express in
terms of the <em>frequency response of the system</em></p>
</blockquote>
<h2 id="continuous-time-fourier-transform">Continuous-Time Fourier
transform</h2>
<p><span class="math display">\[
X(j\omega) =\int_{-\infty}^{+\infty}x(t)e^{-j\omega t}dt
\]</span></p>
<p><span class="math display">\[
x(t) = \frac{1}{2\pi}\int_{-\infty}^{+\infty}X(j\omega)e^{j\omega
t}d\omega
\]</span></p>
<blockquote>
<p>Note system function is <span class="math display">\[
H(j\omega) = \int_{-\infty}^{+\infty}h(t)e^{-j\omega t}dt
\]</span></p>
</blockquote>
<h3 id="dirichlet-conditions">Dirichlet conditions</h3>
<p><img src="/2023/05/15/fourier101/image-20230516020142197.png"
alt="image-20230516020142197" /></p>
<h3 id="fourier-transform-representations-for-periodic-signals">Fourier
transform representations for periodic signals</h3>
<p><img src="/2023/05/15/fourier101/image-20230516021105696.png"
alt="image-20230516021105696" /></p>
<h3 id="differentiation-and-integration">Differentiation and
Integration</h3>
<p><span class="math display">\[
\frac{dx(t)}{dt}\longleftrightarrow j\omega X(j\omega)
\]</span></p>
<p><span class="math display">\[
\int_{-\infty}^t x(\tau)d\tau \longleftrightarrow
\frac{1}{j\omega}X(j\omega)+\pi X(0)\delta(\omega)
\]</span></p>
<h3 id="parsevals-relation-2">Parseval's Relation</h3>
<p><img src="/2023/05/15/fourier101/image-20230516021627107.png"
alt="image-20230516021627107" /></p>
<h3 id="convolution-property">Convolution Property</h3>
<p><img src="/2023/05/15/fourier101/image-20230516022054782.png"
alt="image-20230516022054782" /></p>
<h3 id="multiplication-property">Multiplication Property</h3>
<p><img src="/2023/05/15/fourier101/image-20231025231659449.png"
alt="image-20231025231659449" /></p>
<h2 id="discrete-time-fourier-transform">Discrete-Time Fourier
Transform</h2>
<p><span class="math display">\[
X(e^{j\omega})=\sum_{n=-\infty}^{+\infty}x[n]e^{-j\omega n}
\]</span></p>
<p><span class="math display">\[
x[n] = \frac{1}{2\pi}\int_{2\pi}X(e^{j\omega})e^{j\omega n}d\omega
\]</span></p>
<blockquote>
<p>Note system function is <span class="math display">\[
H(e^{j\omega}) = \sum_{n=-\infty}^{+\infty}h[n]e^{-j\omega n}
\]</span></p>
</blockquote>
<h3 id="parsevals-relation-3">Parseval's Relation</h3>
<p><img src="/2023/05/15/fourier101/image-20230516022936168.png"
alt="image-20230516022936168" /></p>
<h3 id="convolution-property-1">Convolution Property</h3>
<p><img src="/2023/05/15/fourier101/image-20230516023124056.png"
alt="image-20230516023124056" /></p>
<p>we see that the <em>frequency response</em> <span
class="math inline">\(H(e^{j\omega})\)</span> captures the change in
complex amplitude of the Fourier transform of the input at each
frequency <span class="math inline">\(\omega\)</span></p>
<h2 id="laplace-transform">Laplace transform</h2>
<p>The Laplace transform allowed us, for example, to perform transform
analysis of unstable systems and to develop additional insights and
tools for LTI system analysis</p>
<p><img src="/2023/05/15/fourier101/image-20230516023759163.png"
alt="image-20230516023759163" /></p>
<h2 id="discrete-fourier-transform">Discrete Fourier Transform</h2>
<p><img src="/2023/05/15/fourier101/image-20230516030532747.png"
alt="image-20230516030532747" /></p>
<p>where <span class="math inline">\(W_N=e^{-j(2\pi/N)}\)</span></p>
<h2 id="reference">reference</h2>
<p>The Dirac Comb and its Fourier Transform [<a
target="_blank" rel="noopener" href="https://dspillustrations.com/pages/posts/misc/the-dirac-comb-and-its-fourier-transform.html">https://dspillustrations.com/pages/posts/misc/the-dirac-comb-and-its-fourier-transform.html</a>]</p>
<p>ECE 3793 Signals and Systems Spring 2017, Chapter 7 [<a
target="_blank" rel="noopener" href="https://coecs.ou.edu/Joseph.P.Havlicek/ece3793/notes/ECE3793NotesCh07.pdf">https://coecs.ou.edu/Joseph.P.Havlicek/ece3793/notes/ECE3793NotesCh07.pdf</a>]</p>
<p>Oppenheim, A.V., Willsky, A.S., &amp; Nawab, S.H. (1996). Signals
&amp; systems (2nd ed.).</p>
<p>Alan V Oppenheim, Ronald W. Schafer. Discrete-Time Signal Processing,
3rd edition</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/05/11/Virtual-Connectivity/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Guo">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="KNOW-HOW">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | KNOW-HOW">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2023/05/11/Virtual-Connectivity/" class="post-title-link" itemprop="url">Virtual Connectivity</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2023-05-11 21:08:54" itemprop="dateCreated datePublished" datetime="2023-05-11T21:08:54+00:00">2023-05-11</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2024-05-20 14:58:16" itemprop="dateModified" datetime="2024-05-20T14:58:16+00:00">2024-05-20</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/cad/" itemprop="url" rel="index"><span itemprop="name">cad</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>Normally, if the layout connectivity extractor finds disjoint,
unconnected geometries with the same net name text attached, the
extractor will view this as an open circuit.</p>
<ul>
<li>Virtual connection results in the extraction of a single net from
two or more disjoint physical nets when the physical net segments share
the same name.</li>
<li>Virtual connectivity is triggered by the rule file <strong>VIRTUAL
CONNECT COLON</strong> and <strong>VIRTUAL CONNECT NAME</strong>
specification statements.</li>
<li>Virtual connectivity can also be specified through the Calibre
Interactive GUI.</li>
</ul>
<h3 id="virtual-connect-colon">VIRTUAL CONNECT COLON</h3>
<p><strong>Virtual Connect Colon</strong> is used to virtually connect
nets that <em>share a common prefix before a colon</em>, like
VDD<strong>:</strong>1, VDD<strong>:</strong>2, and so forth.</p>
<p>If you specify <em>YES</em>, then the connectivity extractor first
<em>strips off</em> all characters from the first colon to the end of
the label names.</p>
<p>Next, the extractor forms a virtual connection between any two labels
that have the same name and that <em>originally contained a
colon</em>.</p>
<p>Colons can appear anywhere in the name with the exception that a
colon at the beginning of a name is treated as a regular character (that
is, it has no special effect).</p>
<p><img
src="/2023/05/11/Virtual-Connectivity/image-20230511211343788.png"
alt="image-20230511211343788" /></p>
<blockquote>
<p><em>up to the first colon character</em> encountered</p>
<p>The <em>colon</em> is <strong>discarded</strong> in the extracted net
name</p>
</blockquote>
<p><img
src="/2023/05/11/Virtual-Connectivity/image-20230511211607588.png"
alt="image-20230511211607588" /></p>
<h3 id="virtual-connect-name">VIRTUAL CONNECT NAME</h3>
<p><strong>Virtual Connect Name</strong> virtually connects nets that
share the same name</p>
<p>Each name is a net name and can be optionally enclosed in quotes.</p>
<p>The connectivity extractor forms a virtual connection between any two
labels having the same name such that the label name appears in a
<strong>Virtual Connect Name</strong> specification statement in the
rule file.</p>
<p><img
src="/2023/05/11/Virtual-Connectivity/image-20230511211209469.png"
alt="image-20230511211209469" /></p>
<blockquote>
<p><code>VIRTUAL CONNECT NAME ?</code> == Connect all nets by name</p>
</blockquote>
<p>Note that if <strong>Virtual Connect Colon YES</strong> is also
specified, then <strong>Virtual Connect Name</strong> operates on names
<em>after all colon suffixes have been stripped off</em>.</p>
<p><img
src="/2023/05/11/Virtual-Connectivity/image-20230511211651448.png"
alt="image-20230511211651448" /></p>
<h3 id="reference">reference</h3>
<p>Calibre Fundamentals: Performing DRC/LVS Student Workbook</p>
<p>Calibre Verification User’s Manual Software Version 2019.3 Document
Revision 7</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/04/22/spectre-case/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Guo">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="KNOW-HOW">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | KNOW-HOW">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2023/04/22/spectre-case/" class="post-title-link" itemprop="url">DSPF Options</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2023-04-22 10:53:10" itemprop="dateCreated datePublished" datetime="2023-04-22T10:53:10+00:00">2023-04-22</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2024-05-20 14:58:16" itemprop="dateModified" datetime="2024-05-20T14:58:16+00:00">2024-05-20</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/cad/" itemprop="url" rel="index"><span itemprop="name">cad</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h3 id="case-sensitivity">Case Sensitivity</h3>
<table>
<thead>
<tr class="header">
<th><strong>netlist format</strong></th>
<th><strong>default option</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Spectre netlist</td>
<td><em>case sensitive</em></td>
</tr>
<tr class="even">
<td>dspf format</td>
<td><em>case insensitive</em></td>
</tr>
</tbody>
</table>
<blockquote>
<p>For a <strong>dspf format</strong>, it will be treated as a <em>spice
netlist format</em>, which is <em>by default case insensitive</em></p>
</blockquote>
<p>Pay attention to <em>VerilogIn</em> block, which may contain upper
case / lower case net name, e.g NET1 and net1.</p>
<p>The extracted DSPF using extraction tool also contain NET1 and net1,
which <strong>shall not</strong> be shorted together.</p>
<p><img src="/2023/04/22/spectre-case/image-20230422225227022.png"
alt="image-20230422225227022" /></p>
<h3 id="port-order">Port Order</h3>
<blockquote>
<p>If you use <code>.dspf_include</code>, the following rules apply:</p>
<ul>
<li>The subcircuit description is taken from the DSPF file even if the
same subcircuit description is available in the schematic netlist.</li>
<li>Depending on the <code>port_order</code> option, the port order of
the subcircuit definition is taken from the pre-layout schematic netlist
or from the DSPF file subcircuit definition, as shown below.
<ul>
<li><code>port_order=sch</code> – (Default). The port order is taken
from schematic subcircuit definition. The same port number and names are
required. If the schematic subcircuit definition is not available, a
warning is issued in the log file, and DSPF port order is used.</li>
<li><code>port_order=spf</code> – The port order is taken from the DSPF
subcircuit definition.</li>
</ul></li>
</ul>
</blockquote>
<p><strong>SPICE_SUBCKT_FILE</strong> of StarRC</p>
<p>The StarRC tool reads the files specified by the
<em>SPICE_SUBCKT_FILE</em> command to obtain <strong>port ordering
information</strong>. The files control the port ordering of the top
cell as well. The port order and the port list members read from the
<strong>.subckt</strong> for a skip cell are preserved in the output
netlist.</p>
<blockquote>
<p>The file usually is the <em>cdl netlist</em> of extracted cell, this
way, port order is not problem</p>
</blockquote>
<p><strong>CDF termOrder</strong></p>
<p><img src="/2023/04/22/spectre-case/image-20230423005204734.png"
alt="image-20230423005204734" /></p>
<h4 id="dspf-same-order">DSPF same order</h4>
<p><strong>DSPF</strong></p>
<p><img src="/2023/04/22/spectre-case/image-20230423005700599.png"
alt="image-20230423005700599" /></p>
<p><strong>input.scs</strong></p>
<p><img src="/2023/04/22/spectre-case/image-20230423005754571.png"
alt="image-20230423005754571" /></p>
<p><img src="/2023/04/22/spectre-case/image-20230423010050512.png"
alt="image-20230423010050512" /></p>
<h4 id="different-order">different order</h4>
<p>manual change DSPF's pin order shown as below</p>
<p><img src="/2023/04/22/spectre-case/image-20230423010229253.png"
alt="image-20230423010229253" /></p>
<h4 id="port_ordersch">port_order=sch</h4>
<p><em>dspf port is mapping to schematic by name</em>, and the
simulation result is right</p>
<p><img src="/2023/04/22/spectre-case/image-20230423011926424.png"
alt="image-20230423011926424" /></p>
<h5 id="port_orderspf">port_order=spf</h5>
<p>dspf pin order is retained, and <strong>no mapping</strong> between
spectre netlist and dspf.</p>
<p>The simulation result is wrong</p>
<p><img src="/2023/04/22/spectre-case/image-20230423012443314.png"
alt="image-20230423012443314" /></p>
<blockquote>
<p>bus_delim="_ &lt;&gt;"</p>
<p>The way this works is that the first part of <em>bus_delim</em> is
the "schematic" delimiter (i.e. what's in the spectre netlist), and the
other part is the DSPF delimiter</p>
</blockquote>
<h3 id="reference">reference</h3>
<p>Article (20502176) Title: How does Spectre understand case-sensitive
net names when using various post-layout netlists such as dspf,
av_extracted view, or smart view? URL: <a
target="_blank" rel="noopener" href="https://support.cadence.com/apex/ArticleAttachmentPortal?id=a1O3w000009fthoEAA">https://support.cadence.com/apex/ArticleAttachmentPortal?id=a1O3w000009fthoEAA</a></p>
<p>spf in cadence <a
target="_blank" rel="noopener" href="https://community.cadence.com/cadence_technology_forums/f/custom-ic-design/31326/spf-in-cadence/1342278#1342278">https://community.cadence.com/cadence_technology_forums/f/custom-ic-design/31326/spf-in-cadence/1342278#1342278</a></p>
<p>Spectre Tech Tips: Using DSPF Post-Layout Netlists in Spectre Circuit
Simulator - Analog/Custom Design - Cadence Blogs - Cadence Community <a
target="_blank" rel="noopener" href="https://shar.es/afO6e1">https://shar.es/afO6e1</a></p>
<p>StarRC™ User Guide and Command Reference Version O-2018.06, June
2018</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/04/16/RC-corner/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Guo">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="KNOW-HOW">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | KNOW-HOW">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2023/04/16/RC-corner/" class="post-title-link" itemprop="url">RC corner</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2023-04-16 10:33:42" itemprop="dateCreated datePublished" datetime="2023-04-16T10:33:42+00:00">2023-04-16</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2024-05-20 14:58:16" itemprop="dateModified" datetime="2024-05-20T14:58:16+00:00">2024-05-20</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/analog/" itemprop="url" rel="index"><span itemprop="name">analog</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h3 id="traditional-rc-corners">Traditional RC Corners</h3>
<p><img src="/2023/04/16/RC-corner/image-20230511232521956.png"
alt="image-20230511232521956" /></p>
<h3 id="dpt-effect">DPT effect</h3>
<p>When using two masks per layer (<strong>Double Patterning Technology,
DPT</strong>) there is an issue of mask alignment where any
mis-alignment will cause layer spacing values to change, therefore
changing the parasitic coupling capacitance values.</p>
<p><img src="/2023/04/16/RC-corner/img_5d04516986340.jpg" /></p>
<p><img src="/2023/04/16/RC-corner/img_5d04516a3ac8b.jpg" /></p>
<blockquote>
<p>Misalignment scale and direction are not deterministic facts:
coupling cap and total cap may be increased or decreased.</p>
</blockquote>
<p><em>Five new corners</em> are added in a <em>DPT</em> flow to account
for RC variations accurately:</p>
<p><img src="/2023/04/16/RC-corner/img_5d04516b03e69.jpg" /></p>
<blockquote>
<p>sapced-dependent side-wall dielectric constant also affect coupling
cap</p>
<p>and <em>CC_worst</em> means to increase both K1 and K2</p>
<p><em>CC_best</em> means to decrease both K1 and K2</p>
</blockquote>
<ul>
<li><p>Setup time sign-off would use:</p>
<p>Cworst_CCworst / RCworst_CCworst</p></li>
<li><p>Hold time sign-off would use:</p>
<p>Cbest_CCbest / RCbest_CCbest / Cworst_CCworst /
RCworst_CCworst</p></li>
</ul>
<p><img src="/2023/04/16/RC-corner/img_5d04516c76593.jpg" /></p>
<p><img src="/2023/04/16/RC-corner/image-20230416143108231.png"
alt="image-20230416143108231" /></p>
<h3 id="signoff-corner">Signoff corner</h3>
<table>
<thead>
<tr class="header">
<th><strong>with misalignment effect</strong></th>
<th>without misalignment effect</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>cworst_CCworst, cworst_CCworst_T</td>
<td>cworst, cworst_T</td>
</tr>
<tr class="even">
<td>cbest_CCbest, cbest_CCbest_T</td>
<td>cbest, cbest_T</td>
</tr>
<tr class="odd">
<td>rcworst_CCworst, rcworst_CCworst_T</td>
<td>rcworst, rcworst_T</td>
</tr>
<tr class="even">
<td>rcbest_CCbest, rcbest_CCbest_T</td>
<td>rcbest, rcbest_T</td>
</tr>
</tbody>
</table>
<blockquote>
<p>BEOL Target: typical</p>
</blockquote>
<p>The recommended RC corner:</p>
<p>​ <em>cworst_CCworst, cbest_CCbest, rcworst_CCworst, rcbest_CCbest
and typical</em></p>
<p>The others are for <em>pre-color</em> RC calculation purpose</p>
<p>**_T** stands for <strong>"Tighten DPT corner"</strong>; these are
less pessimistic <strong>1.5 sigma</strong> corners</p>
<p><img src="/2023/04/16/RC-corner/image-20230513001426737.png"
alt="image-20230513001426737" /></p>
<p><img src="/2023/04/16/RC-corner/tmp_fohu0q4.PNG"
alt="tmp_fohu0q4" /></p>
<blockquote>
<p>Below table is caputre of Aragio's TSMC16: LVDS datasheet</p>
<p><img src="/2023/04/16/RC-corner/image-20230416130433181.png"
alt="image-20230416130433181" /></p>
</blockquote>
<h3 id="beol-corner">BEOL corner</h3>
<p><img src="/2023/04/16/RC-corner/image-20230416160822811.png"
alt="image-20230416144136870" /></p>
<blockquote>
<p>Spacing variation is implicitly defined by <span
class="math inline">\(\Delta W_m\)</span>.</p>
</blockquote>
<p>We denote the conductor <em>width and thickness</em> of the layer m
by <span class="math inline">\(W_m\)</span> and <span
class="math inline">\(T_m\)</span>, respectively.</p>
<p>Similarly, we denote the <em>thickness</em> of the layer's interlayer
dielectric (i.e., the distance between layer m and layer m +1) by <span
class="math inline">\(H_m\)</span></p>
<ul>
<li>C-based means <strong>worst and best caps</strong></li>
<li>RC-based means <strong>worst and best R</strong> in <em>adjustment
with C</em> (RC product)</li>
</ul>
<p>Based on experience, it was found that <strong>C-based
extraction</strong> provides worst and best case over RC for internal
timing paths because <em>Capacitance</em> dominates <strong>short
wire</strong>.</p>
<p>However, for large design, inter-block timing paths were often worst
with <strong>RC worst</strong> parasitic since <em>R</em> dominates for
<strong>long wires</strong>.</p>
<p><img src="/2023/04/16/RC-corner/image-20230416155654008.png"
alt="image-20230416155654008" /></p>
<h4 id="signoff-corners-for-setup-and-hold">signoff corners for setup
and hold</h4>
<p><img src="/2023/04/16/RC-corner/tmpwlgwrlq0.PNG"
alt="tmpwlgwrlq0" /></p>
<h3 id="reference">reference</h3>
<p>Modeling Sub-90nm On-Chip Variation Using Monte Carlo Method for DFM
<a
target="_blank" rel="noopener" href="https://www.aspdac.com/aspdac2007/pdf/archive/2D-1.pdf">https://www.aspdac.com/aspdac2007/pdf/archive/2D-1.pdf</a></p>
<p>Double Patterning for IC Design, Extraction and Signoff <a
target="_blank" rel="noopener" href="https://semiwiki.com/eda/synopsys/1974-double-patterning-for-ic-design-extraction-and-signoff/">https://semiwiki.com/eda/synopsys/1974-double-patterning-for-ic-design-extraction-and-signoff/</a></p>
<p>抽刀断水水更流，RC Corner不再愁：STA之RC Corner URL: <a
target="_blank" rel="noopener" href="http://mp.weixin.qq.com/s?__biz=MzUzODczODg2NQ==&amp;mid=2247484115&amp;idx=1&amp;sn=de99f27aadf58ea316c284dad9000b7c&amp;chksm=fad26b0dcda5e21b8c9750f738b55053f695843a66c3c202ff0ba586c738f45aa270254c3722&amp;scene=21#wechat_redirect">http://mp.weixin.qq.com/s?__biz=MzUzODczODg2NQ==&amp;mid=2247484115&amp;idx=1&amp;sn=de99f27aadf58ea316c284dad9000b7c&amp;chksm=fad26b0dcda5e21b8c9750f738b55053f695843a66c3c202ff0ba586c738f45aa270254c3722&amp;scene=21#wechat_redirect</a></p>
<p>一曲新词酒一杯，RC Corner继续飞: STA之RC Corner拾遗 URL:<a
target="_blank" rel="noopener" href="https://mp.weixin.qq.com/s?__biz=MzUzODczODg2NQ==&amp;mid=2247484135&amp;idx=2&amp;sn=bddc632850bd10c32b5688fd7af46218&amp;chksm=fad26b39cda5e22f1c3970f8c8c2e1287c9492c526c4caf02b61f61faffdf829381c392d6ea1&amp;scene=21#wechat_redirect">https://mp.weixin.qq.com/s?__biz=MzUzODczODg2NQ==&amp;mid=2247484135&amp;idx=2&amp;sn=bddc632850bd10c32b5688fd7af46218&amp;chksm=fad26b39cda5e22f1c3970f8c8c2e1287c9492c526c4caf02b61f61faffdf829381c392d6ea1&amp;scene=21#wechat_redirect</a></p>
<p>且将新火试新茶，深究趁年华：STA之RC Corner再论 URL:<a
target="_blank" rel="noopener" href="https://mp.weixin.qq.com/s?__biz=MzUzODczODg2NQ==&amp;mid=2247484144&amp;idx=1&amp;sn=059843381e77cd4008d25166db388d02&amp;chksm=fad26b2ecda5e23816b33b3a949f34d4ca09118bad76f1089dfcb228b7da6491f423a5f4e703&amp;cur_album_id=1326356275000705025&amp;scene=189#wechat_redirect">https://mp.weixin.qq.com/s?__biz=MzUzODczODg2NQ==&amp;mid=2247484144&amp;idx=1&amp;sn=059843381e77cd4008d25166db388d02&amp;chksm=fad26b2ecda5e23816b33b3a949f34d4ca09118bad76f1089dfcb228b7da6491f423a5f4e703&amp;cur_album_id=1326356275000705025&amp;scene=189#wechat_redirect</a></p>
<p>LDP_IN_800_25V_DN: 1.2GHz LVDS Receiver <a
target="_blank" rel="noopener" href="http://aragiosolutions.com/pdf/rgo_tsmc16_18v25_lvds_product_brief_rev_1a.pdf">http://aragiosolutions.com/pdf/rgo_tsmc16_18v25_lvds_product_brief_rev_1a.pdf</a></p>
<p>Parasitic extraction technologies Advanced node and 3D-IC design <a
target="_blank" rel="noopener" href="https://static.sw.cdn.siemens.com/siemens-disw-assets/public/81845/en-US/Siemens-SW-Parasitic-extraction-technologies-for-advanced-WP-81845-C2.pdf">https://static.sw.cdn.siemens.com/siemens-disw-assets/public/81845/en-US/Siemens-SW-Parasitic-extraction-technologies-for-advanced-WP-81845-C2.pdf</a></p>
<p>New Game, New Goal Posts: A Recent History of Timing Closure <a
target="_blank" rel="noopener" href="https://pdfs.semanticscholar.org/9360/5ce48f9bd3b7527ae8979f41a9c7e310efa4.pdf">https://pdfs.semanticscholar.org/9360/5ce48f9bd3b7527ae8979f41a9c7e310efa4.pdf</a></p>
<p>The Evolution, Pitfalls, and Cargo Cult Engineering of Advanced
Digital Timing Sign-off <a
target="_blank" rel="noopener" href="https://www.tauworkshop.com/2021/speaker_slides/christian_l.pdf">https://www.tauworkshop.com/2021/speaker_slides/christian_l.pdf</a></p>
<p>T. -B. Chan, S. Dobre and A. B. Kahng, "Improved signoff methodology
with tightened BEOL corners," 2014 IEEE 32nd International Conference on
Computer Design (ICCD), Seoul, Korea (South), 2014, pp. 311-316, doi:
10.1109/ICCD.2014.6974699.</p>
<p>Chan, T. (2014). Mitigation of Variability and Reliability Margins in
IC Implementation /. <em>UC San Diego</em>. ProQuest ID:
Chan_ucsd_0033D_14269. Merritt ID: ark:/20775/bb52916761. Retrieved from
<a
target="_blank" rel="noopener" href="https://escholarship.org/uc/item/35r1m001">https://escholarship.org/uc/item/35r1m001</a></p>
<p>Dr. Adam Temanm, Digital VLSI Design:Lecture 10: Routing <a
target="_blank" rel="noopener" href="https://www.eng.biu.ac.il/temanad/files/2017/02/Lecture-10-Routing.pdf">https://www.eng.biu.ac.il/temanad/files/2017/02/Lecture-10-Routing.pdf</a></p>
<p>Article (20487193) Title: Setting Pegasus - LVS to Quantus
av_extracted view Flow with TSMC16 packages URL:
https://support.cadence.com/apex/ArticleAttachmentPortal?id=a1O0V000009MprZUAS</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/04/05/clockgating/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Guo">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="KNOW-HOW">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | KNOW-HOW">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2023/04/05/clockgating/" class="post-title-link" itemprop="url">Clock Gating</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2023-04-05 22:14:09" itemprop="dateCreated datePublished" datetime="2023-04-05T22:14:09+00:00">2023-04-05</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2024-05-20 14:58:16" itemprop="dateModified" datetime="2024-05-20T14:58:16+00:00">2024-05-20</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/digital/" itemprop="url" rel="index"><span itemprop="name">digital</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p><strong>Clock Gating</strong> is defined as: "Clock gating is a
technique/methodology to turn off the clock to certain parts of the
digital design when not needed".</p>
<h3 id="clock-gating-overview">Clock Gating Overview</h3>
<h4 id="and-gate-based-clock-gating">AND gate-based clock gating</h4>
<p>In <em>simplest form</em> a clock gating can be achieved by using an
<em>AND gate</em> as shown in picture below</p>
<p><img src="/2023/04/05/clockgating/AND-gate-based-clock-gating.png"
alt="clock gating" /></p>
<p>However, this simplest form of clock gating technique has some
problem of generating <strong>glitches</strong> in the clock provide to
the FF, which are not desirable.</p>
<p><img src="/2023/04/05/clockgating/Glitches-in-enable-gated-clock.png"
alt="img" /></p>
<blockquote>
<p>Glitches in enable/gated clock</p>
</blockquote>
<h4 id="latch-based-clock-gating">Latch based clock gating</h4>
<p>These glitches can be removed by introducing a negative edge
triggered FF (assuming downstream FFs are positive edge) or low-level
sensitive latch at the output of the clock enable signal.</p>
<p><img src="/2023/04/05/clockgating/Latch-based-clock-gating.png"
alt="clock gating" /></p>
<p>This will make sure that any glitch in the clock enable signal will
not be visible to the gated clock output. The Latch output will only be
updated during the negative clock cycle and thus input to AND gate will
be stable high.</p>
<p><img src="/2023/04/05/clockgating/Glitch-Free-Gated-Clock.png"
alt="clock gating" /></p>
<blockquote>
<p>Glitch Free Gated Clock</p>
</blockquote>
<h3 id="reference">reference</h3>
<p>The Ultimate Guide to Clock Gating <a
target="_blank" rel="noopener" href="https://anysilicon.com/the-ultimate-guide-to-clock-gating/">https://anysilicon.com/the-ultimate-guide-to-clock-gating/</a></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/04/04/dspf-split-pins-emir/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Guo">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="KNOW-HOW">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | KNOW-HOW">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2023/04/04/dspf-split-pins-emir/" class="post-title-link" itemprop="url">split pins in dspf_emir</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2023-04-04 23:54:26" itemprop="dateCreated datePublished" datetime="2023-04-04T23:54:26+00:00">2023-04-04</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2024-05-20 14:58:16" itemprop="dateModified" datetime="2024-05-20T14:58:16+00:00">2024-05-20</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/cad/" itemprop="url" rel="index"><span itemprop="name">cad</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h3 id="dspf-extract-using-starrc">dspf extract using starrc</h3>
<p>multiple label and rectangle in vssa net</p>
<p><img
src="/2023/04/04/dspf-split-pins-emir/image-20230405003705354.png"
alt="image-20230405003705354" /></p>
<ul>
<li><p>general dspf</p>
<p><code>SHORT_PINS: YES</code></p>
<p><img
src="/2023/04/04/dspf-split-pins-emir/image-20230405002824842.png"
alt="image-20230405002824842" /></p>
<blockquote>
<p>other pin are short together</p>
</blockquote></li>
<li><p>dspf for emir analysis</p></li>
</ul>
<p><img
src="/2023/04/04/dspf-split-pins-emir/image-20230405000013461.png"
alt="image-20230405000013461" /></p>
<p><img
src="/2023/04/04/dspf-split-pins-emir/image-20230405001944418.png"
alt="image-20230405001944418" /></p>
<p><img
src="/2023/04/04/dspf-split-pins-emir/image-20230405230611522.png"
alt="image-20230405230611522" /></p>
<blockquote>
<p>It seems that dspf_emir <strong>don't</strong> contain the
<em>rectangle pin</em> information.</p>
<p>only <strong>label</strong> is necessary</p>
</blockquote>
<table style="width:100%;">
<colgroup>
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 26%" />
<col style="width: 22%" />
</colgroup>
<thead>
<tr class="header">
<th>setup</th>
<th></th>
<th></th>
<th>spectre result</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>netlist type</strong></td>
<td><strong>dspf option</strong></td>
<td><strong>emir analysis</strong></td>
<td></td>
</tr>
<tr class="even">
<td>dspf</td>
<td>/</td>
<td>disable</td>
<td>✓</td>
</tr>
<tr class="odd">
<td>dspf_emir</td>
<td>/</td>
<td>disable</td>
<td>✗</td>
</tr>
<tr class="even">
<td>dspf_emir</td>
<td>=shortPins=”yes”</td>
<td>disable</td>
<td>✓</td>
</tr>
<tr class="odd">
<td>dspf_emir</td>
<td>=shortPins=”no”</td>
<td>disable</td>
<td>✗</td>
</tr>
<tr class="even">
<td>dspf_emir</td>
<td>/</td>
<td>enable</td>
<td>✓</td>
</tr>
<tr class="odd">
<td>dspf_emir</td>
<td>=shortPins=”yes”</td>
<td>enable</td>
<td>✓</td>
</tr>
<tr class="even">
<td>dspf_emir</td>
<td>=shortPins=”no”</td>
<td>enable</td>
<td>✓</td>
</tr>
</tbody>
</table>
<blockquote>
<p><strong>shortPins=”yes”</strong> is preferred default option for
dspf_emir, which has <strong>split pins</strong></p>
</blockquote>
<p><img
src="/2023/04/04/dspf-split-pins-emir/image-20230405005151550.png"
alt="image-20230405005151550" /></p>
<h3 id="dspf-syntax">DSPF Syntax</h3>
<ul>
<li><p><pin_def>::=*<strong>|P <pin_element>?</strong> <pin_element>
describes pins in the net. Multiple pin descriptions can be listed in
one line.</p></li>
<li><p><pin_element>::=(<pinName> <pinType> <pinCap> {<coord>}?)
<pinName> represents the name of the pin. <pinType> represents the type
of the pin. It can be any of the following: I (Input), O (Output),</p>
<p>​ B (Bidirectional), X (don’t care), S (Switch), and J (Jumper). ​
<pinCap> represents the capacitance value associated with the pin. ​
<coord> is optional. It represents the location of the pin. Multiple pin
locations are allowed</p></li>
</ul>
<h4 id="split-pins">split pins</h4>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">*|P (avss_1 O 0 207.7555 59.9170)</span><br><span class="line">*|P (avss_10 O 0 181.1610 151.1130)</span><br><span class="line">*|P (avss_11 O 0 186.6330 151.1130)</span><br><span class="line">*|P (avss_12 O 0 192.1050 151.1130)</span><br><span class="line">*|P (avss_13 O 0 197.5770 151.1130)</span><br></pre></td></tr></table></figure>
<h3 id="reference">reference</h3>
<p>Article (20467964) Title: Difference in result on running Spectre APS
with EMIR and without EMIR analysis URL: <a
target="_blank" rel="noopener" href="https://support.cadence.com/apex/ArticleAttachmentPortal?id=a1O0V00000679GRUAY">https://support.cadence.com/apex/ArticleAttachmentPortal?id=a1O0V00000679GRUAY</a></p>
<p>StarRC User Guide and Command Reference Version O-2018.06, June
2018</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/03/29/Dynamic-specification-converter/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Guo">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="KNOW-HOW">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | KNOW-HOW">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2023/03/29/Dynamic-specification-converter/" class="post-title-link" itemprop="url">Dynamic Specification of Data Converter</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2023-03-29 23:54:37" itemprop="dateCreated datePublished" datetime="2023-03-29T23:54:37+00:00">2023-03-29</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2024-05-20 14:58:16" itemprop="dateModified" datetime="2024-05-20T14:58:16+00:00">2024-05-20</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/analog/" itemprop="url" rel="index"><span itemprop="name">analog</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="term-abbreviation">Term Abbreviation</h2>
<p>SNR: signal-to-noise ratio</p>
<p>SINAD: signal to noise and distortion</p>
<p>ENOB: effective number of bits</p>
<p>THD: total harmonic distortion</p>
<p>SFDR: spurious-free dynamic range</p>
<p>TTIMD: two-tone intermodulation distortion</p>
<p>MTIMD: multi-tone intermodulation distortion</p>
<p>VSWR: voltage standing-wave ratio</p>
<h2 id="coherent-sampling">Coherent Sampling</h2>
<p>To avoid <strong>spectral leakage</strong> completely, the method of
<strong>coherent sampling</strong> is recommended. Coherent sampling
requires that the input- and clock-frequency generators are
<strong>phase locked</strong>, and that the input frequency be chosen
based on the following relationship: <span class="math display">\[
\frac{f_{\text{in}}}{f_{\text{s}}}=\frac{M_C}{N_R}
\]</span></p>
<p>where:</p>
<ul>
<li><span class="math inline">\(f_{\text{in}}\)</span> = the desired
input frequency</li>
<li><span class="math inline">\(f_s\)</span> = the clock frequency of
the data converter under test</li>
<li><span class="math inline">\(M_C\)</span> = the number of cycles in
the data window (to make all samples unique, choose odd or prime
numbers)</li>
<li><span class="math inline">\(N_R\)</span> = the data record length
(for an 8192-point FFT, the data record is 8192s long)</li>
</ul>
<p><span class="math display">\[\begin{align}
f_{\text{in}} &amp;=\frac{f_s}{N_R}\cdot M_C \\
&amp;= f_{\text{res}}\cdot M_C
\end{align}\]</span></p>
<h3 id="irreducible-ratio">irreducible ratio</h3>
<p>An <strong>irreducible ratio</strong> ensures identical code
sequences not to be repeated multiple times. Unnecessary repetition of
the same code is not desirable as it increases ADC test time.</p>
<blockquote>
<p>Given that <span class="math inline">\(\frac{M_C}{N_R}\)</span> is
irreducible, and <span class="math inline">\(N_R\)</span> is a power of
2, an <strong>odd number</strong> for <span
class="math inline">\(M_C\)</span> will always produce an
<strong>irreducible ratio</strong></p>
</blockquote>
<p>Assuming there is a common factor <span
class="math inline">\(k\)</span> between <span
class="math inline">\(M_C\)</span> and <span
class="math inline">\(N_R\)</span>, i.e. <span
class="math inline">\(\frac{M_C}{N_R}=\frac{k M_C&#39;}{k
N_R&#39;}\)</span></p>
<p>The samples (<span class="math inline">\(n\in[1, N_R]\)</span>)</p>
<p><span class="math display">\[\begin{align}
y[n] &amp;= \sin\left( \omega_{\text{in}} \cdot t_n \right) \\
&amp;= \sin\left( \omega_{\text{in}} \cdot n\frac{1}{f_s} \right)  \\
&amp; = \sin\left( \omega_{\text{in}} \cdot
n\frac{1}{f_{\text{in}}}\frac{M_C}{N_R} \right) \\
&amp; = \sin\left( 2\pi n\frac{M_C}{N_R} \right)
\end{align}\]</span></p>
<p>Then</p>
<p><span class="math display">\[\begin{align}
y[n+N_R&#39;] &amp;= \sin\left( 2\pi (n+N_R&#39;)\frac{M_C}{N_R} \right)
\\
&amp; = \sin\left( 2\pi n \frac{M_C}{N_R} + 2\pi
N_R&#39;\frac{M_C}{N_R}\right) \\
&amp; = \sin\left( 2\pi n \frac{M_C}{N_R} + 2\pi
N_R&#39;\frac{kM_C&#39;}{kN_R&#39;} \right) \\
&amp; = \sin\left( 2\pi n \frac{M_C}{N_R} + 2\pi M_C&#39; \right) \\
&amp; = \sin\left( 2\pi n \frac{M_C}{N_R}\right)
\end{align}\]</span></p>
<p>So, the samples is repeated <span class="math inline">\(y[n] =
y[n+N_R&#39;]\)</span>. Usually, no additional information is gained by
repeating with the same sampling points.</p>
<h3 id="general-simulation-setup">General Simulation Setup</h3>
<p><span class="math display">\[
N \cdot \frac{1}{F_s} = M \cdot \frac{1}{F_{in}}
\]</span> where <span class="math inline">\(F_s\)</span> is sample
frequency, <span class="math inline">\(F_{in}\)</span> input signal
frequency.</p>
<p>And <span class="math inline">\(N\)</span> often is 256, 512; M is 3,
5, 7, 11.</p>
<h2 id="snr">SNR</h2>
<p><img src="/2023/03/29/Dynamic-specification-converter/VXpqU.png"
alt="VXpqU" /></p>
<p><img src="/2023/03/29/Dynamic-specification-converter/gRE1L.png"
alt="gRE1L" /></p>
<h2 id="reference">reference</h2>
<p>everynanocounts. Memos on FFT With Windowing. URL: <a
target="_blank" rel="noopener" href="https://everynanocounts.com/2018/02/01/memos-on-fft-with-windowing/">https://everynanocounts.com/2018/02/01/memos-on-fft-with-windowing/</a></p>
<p>How to choose FFT depth for ADC performance analysis (SINAD, ENOB).
URL:<a
target="_blank" rel="noopener" href="https://dsp.stackexchange.com/a/38201">https://dsp.stackexchange.com/a/38201</a></p>
<p>Computation of Effective Number of Bits, Signal to Noise Ratio, &amp;
Signal to Noise &amp; Distortion Ratio Using FFT. URL:<a
target="_blank" rel="noopener" href="https://cdn.teledynelecroy.com/files/appnotes/computation_of_effective_no_bits.pdf">https://cdn.teledynelecroy.com/files/appnotes/computation_of_effective_no_bits.pdf</a></p>
<p>Kester, Walt. (2009). Understand SINAD, ENOB, SNR, THD, THD + N, and
SFDR so You Don't Get Lost in the Noise Floor. URL:<a
target="_blank" rel="noopener" href="https://www.analog.com/media/en/training-seminars/tutorials/MT-003.pdf">https://www.analog.com/media/en/training-seminars/tutorials/MT-003.pdf</a></p>
<p>T. C. Hofner: Dynamic ADC testing part I. Defining and testing
dynamic ADC parameters, Microwaves &amp; RF, 2000, vol. 39, no. 11, pp.
75-84,162</p>
<p>T. C. Hofner: Dynamic ADC testing part 2. Measuring and evaluating
dynamic line parameters, Microwaves &amp; RF, 2000, vol. 39, no. 13, pp.
78-94</p>
<p>AN9675: A Tutorial in Coherent and Windowed Sampling with A/D
Converters <a
target="_blank" rel="noopener" href="https://www.renesas.com/us/en/document/apn/an9675-tutorial-coherent-and-windowed-sampling-ad-converters">https://www.renesas.com/us/en/document/apn/an9675-tutorial-coherent-and-windowed-sampling-ad-converters</a></p>
<p>APPLICATION NOTE 3190: Coherent Sampling Calculator (CSC) <a
target="_blank" rel="noopener" href="https://www.stg-maximintegrated.com/en/design/technical-documents/app-notes/3/3190.html">https://www.stg-maximintegrated.com/en/design/technical-documents/app-notes/3/3190.html</a></p>
<p>Coherent Sampling (Very Brief and Simple) <a
target="_blank" rel="noopener" href="https://www.dsprelated.com/thread/469/coherent-sampling-very-brief-and-simple">https://www.dsprelated.com/thread/469/coherent-sampling-very-brief-and-simple</a></p>
<p>Signal Chain Basics #160: Making sense of coherent and noncoherent
sampling in data-converter testing <a
target="_blank" rel="noopener" href="https://www.planetanalog.com/signal-chain-basics-160-making-sense-of-coherent-and-noncoherent-sampling-in-data-converter-testing/">https://www.planetanalog.com/signal-chain-basics-160-making-sense-of-coherent-and-noncoherent-sampling-in-data-converter-testing/</a></p>
<p>Signal Chain Basics #104: Understanding noise in ADCs <a
target="_blank" rel="noopener" href="https://www.planetanalog.com/signal-chain-basics-part-104-understanding-noise-in-adcs/">https://www.planetanalog.com/signal-chain-basics-part-104-understanding-noise-in-adcs/</a></p>
<p>Signal Chain Basics #101: ENOB Degradation Analysis Over Frequency
Due to Jitter <a
target="_blank" rel="noopener" href="https://www.planetanalog.com/signal-chain-basics-part-101-enob-degradation-analysis-over-frequency-due-to-jitter/">https://www.planetanalog.com/signal-chain-basics-part-101-enob-degradation-analysis-over-frequency-due-to-jitter/</a></p>
<p>Clock jitter analyzed in the time domain, Part 1, Texas Instruments
Analog Applications Journal (slyt379), Aug 2010 <a
target="_blank" rel="noopener" href="https://www.ti.com/lit/an/slyt379/slyt379.pdf">https://www.ti.com/lit/an/slyt379/slyt379.pdf</a></p>
<p>Clock jitter analyzed in the time domain, Part 2 <a
target="_blank" rel="noopener" href="https://www.ti.com/lit/slyt389">https://www.ti.com/lit/slyt389</a></p>
<p>Measurement of Total Harmonic Distortion and Its Related Parameters
using Multi-Instrument [<a
target="_blank" rel="noopener" href="https://www.virtins.com/doc/Measurement-of-Total-Harmonic-Distortion-and-Its-Related-Parameters-using-Multi-Instrument.pdf">pdf</a>]</p>
<p>Application Note AN-4: Understanding Data Converters' Frequency
Domain Specifications [<a
target="_blank" rel="noopener" href="https://www.datel.com/data/ads/adc-an4.pdf">pdf</a>]</p>
<p>Belleman, J. (2008). From analog to digital.
10.5170/CERN-2008-003.131. [<a
target="_blank" rel="noopener" href="https://cds.cern.ch/record/1100535/files/p131.pdf">pdf</a>]</p>
<p>HandWiki. Coherent sampling [<a
target="_blank" rel="noopener" href="https://handwiki.org/wiki/Coherent_sampling">link</a>]</p>
<p>Luis Chioye, TI. Leverage coherent sampling and FFT windows when
evaluating SAR ADCs (Part 1) [<a
target="_blank" rel="noopener" href="https://e2e.ti.com/blogs_/archives/b/precisionhub/posts/leverage-coherent-sampling-and-fft-windows-when-evaluating-sar-adcs-part-1">link</a>]</p>
<p>Coherent Sampling vs. Window Sampling | Analog Devices <a
target="_blank" rel="noopener" href="https://www.analog.com/en/technical-articles/coherent-sampling-vs-window-sampling.html">https://www.analog.com/en/technical-articles/coherent-sampling-vs-window-sampling.html</a></p>
<p>Understanding Effective Number of Bits <a
target="_blank" rel="noopener" href="https://robustcircuitdesign.com/signal-chain-explorer/understanding-effective-number-of-bits/">https://robustcircuitdesign.com/signal-chain-explorer/understanding-effective-number-of-bits/</a></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/02/10/dont-touch/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Guo">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="KNOW-HOW">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | KNOW-HOW">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2023/02/10/dont-touch/" class="post-title-link" itemprop="url">How to preserve hand-instantiated cells</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2023-02-10 22:41:15" itemprop="dateCreated datePublished" datetime="2023-02-10T22:41:15+00:00">2023-02-10</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2024-05-20 14:58:16" itemprop="dateModified" datetime="2024-05-20T14:58:16+00:00">2024-05-20</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/digital/" itemprop="url" rel="index"><span itemprop="name">digital</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>To preserve the hand-instantiated cells</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">set_dont_touch [get_cells -hierarchical *dont_touch_*]</span><br></pre></td></tr></table></figure>
<p>The instances whose name contain "dont_touch_" shall be preserved
during synthesis</p>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// no performace concerns, rest sync use sync3 is enough</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">module</span> CN_resetb_sync_cell</span><br><span class="line">(</span><br><span class="line">    <span class="keyword">input</span> resetb_in,</span><br><span class="line">    <span class="keyword">input</span> clkdst,</span><br><span class="line">    <span class="keyword">output</span> resetb_out</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="meta">`<span class="keyword">ifdef</span> USE_VERILOG</span></span><br><span class="line"><span class="keyword">reg</span> [<span class="number">2</span>:<span class="number">0</span>] resetb_dly;</span><br><span class="line"><span class="meta">`<span class="keyword">else</span></span></span><br><span class="line"><span class="keyword">wire</span> [<span class="number">2</span>:<span class="number">0</span>] resetb_dly;</span><br><span class="line"><span class="meta">`<span class="keyword">endif</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">`<span class="keyword">ifdef</span> USE_VERILOG</span></span><br><span class="line"><span class="keyword">always</span> @(<span class="keyword">posedge</span> clkdst <span class="keyword">or</span> <span class="keyword">negedge</span> resetb_in)</span><br><span class="line">    <span class="keyword">if</span> (~resetb_in) resetb_dly &lt;= <span class="number">3&#x27;b000</span>;</span><br><span class="line">    <span class="keyword">else</span> resetb_dly &lt;= &#123;resetb_dly[<span class="number">1</span>:<span class="number">0</span>], <span class="number">1&#x27;b1</span>&#125;;</span><br><span class="line"><span class="meta">`<span class="keyword">else</span></span></span><br><span class="line">SDFCNQD4 dont_touch_sync_flop0 (</span><br><span class="line">    <span class="variable">.SI</span>(<span class="number">1&#x27;b0</span>),</span><br><span class="line">    <span class="variable">.SE</span>(<span class="number">1&#x27;b0</span>),</span><br><span class="line">    <span class="variable">.CP</span>(clkdst),</span><br><span class="line">    <span class="variable">.CDN</span>(resetb_in),</span><br><span class="line">    <span class="variable">.D</span>(<span class="number">1&#x27;b1</span>),</span><br><span class="line">    <span class="variable">.Q</span>(resetb_dly[<span class="number">0</span>])</span><br><span class="line">);</span><br><span class="line">SDFCNQD4 dont_touch_sync_flop1 (</span><br><span class="line">    <span class="variable">.SI</span>(<span class="number">1&#x27;b0</span>),</span><br><span class="line">    <span class="variable">.SE</span>(<span class="number">1&#x27;b0</span>),</span><br><span class="line">    <span class="variable">.CP</span>(clkdst),</span><br><span class="line">    <span class="variable">.CDN</span>(resetb_in),</span><br><span class="line">    <span class="variable">.D</span>(resetb_dly[<span class="number">0</span>]),</span><br><span class="line">    <span class="variable">.Q</span>(resetb_dly[<span class="number">1</span>])</span><br><span class="line">);</span><br><span class="line">SDFCNQD4 dont_touch_sync_flop2 (</span><br><span class="line">    <span class="variable">.SI</span>(<span class="number">1&#x27;b0</span>),</span><br><span class="line">    <span class="variable">.SE</span>(<span class="number">1&#x27;b0</span>),</span><br><span class="line">    <span class="variable">.CP</span>(clkdst),</span><br><span class="line">    <span class="variable">.CDN</span>(resetb_in),</span><br><span class="line">    <span class="variable">.D</span>(resetb_dly[<span class="number">1</span>]),</span><br><span class="line">    <span class="variable">.Q</span>(resetb_dly[<span class="number">2</span>])</span><br><span class="line">);</span><br><span class="line"><span class="meta">`<span class="keyword">endif</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">assign</span> resetb_out = resetb_dly[<span class="number">2</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">endmodule</span></span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




  <nav class="pagination">
    <a class="extend prev" rel="prev" title="Previous page" aria-label="Previous page" href="/page/4/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/4/">4</a><span class="page-number current">5</span><a class="page-number" href="/page/6/">6</a><span class="space">&hellip;</span><a class="page-number" href="/page/17/">17</a><a class="extend next" rel="next" title="Next page" aria-label="Next page" href="/page/6/"><i class="fa fa-angle-right"></i></a>
  </nav>

</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">

  <div class="copyright">
    &copy; 
    <span itemprop="copyrightYear">2024</span>
    <span class="with-love">
      <i class="fa fa-heart"></i>
    </span>
    <span class="author" itemprop="copyrightHolder">Guo</span>
  </div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/" rel="noopener" target="_blank">NexT.Gemini</a>
  </div>

    </div>
  </footer>

  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>
  <div class="sidebar-dimmer"></div>
  <div class="back-to-top" role="button" aria-label="Back to top">
    <i class="fa fa-arrow-up fa-lg"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


  
  <script src="https://cdn.jsdelivr.net/npm/animejs@3.2.1/lib/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/sidebar.js"></script><script src="/js/next-boot.js"></script>

  <script src="https://cdn.jsdelivr.net/npm/hexo-generator-searchdb@1.4.1/dist/search.js" integrity="sha256-1kfA5uHPf65M5cphT2dvymhkuyHPQp5A53EGZOnOLmc=" crossorigin="anonymous"></script>
<script src="/js/third-party/search/local-search.js"></script>

  <script class="next-config" data-name="pdf" type="application/json">{"object_url":{"url":"https://cdn.jsdelivr.net/npm/pdfobject@2.3.0/pdfobject.min.js","integrity":"sha256-JJZNsid68vnh3/zyj0lY9BN5ynxVX/12XgOa1TlaYN0="},"url":"/lib/pdf/web/viewer.html"}</script>
  <script src="/js/third-party/tags/pdf.js"></script>






  




  

  <script class="next-config" data-name="enableMath" type="application/json">true</script><script class="next-config" data-name="mathjax" type="application/json">{"enable":true,"tags":"none","js":{"url":"https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.js","integrity":"sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI="}}</script>
<script src="/js/third-party/math/mathjax.js"></script>



</body>
</html>
